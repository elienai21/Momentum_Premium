const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-BYSPUs2v.js","assets/errorMessages-CggLH43S.js","assets/AdvisorChat-BAtMuLsH.js","assets/SectionHeader-C9F8kzLA.js","assets/Badge-B3wtRpdS.js","assets/AsyncPanel-eOZltgkh.js","assets/trash-2-Dl7WexxT.js","assets/send-D1YDvf5J.js","assets/user-DwLhwvGp.js","assets/UpgradeRequiredModal-DOmud-cr.js","assets/CfoApi-BIZpys6N.js","assets/StatsCard-ClMHKoUE.js","assets/wallet-Dp6rPXmN.js","assets/circle-dollar-sign-qF2aUjNz.js","assets/credit-card-BdDg3kyO.js","assets/Insights-DxnWjmRP.js","assets/Clients-UBjVrYq5.js","assets/users-4PK_ZDvb.js","assets/search-DoXKLnCL.js","assets/Settings-YRprIEzb.js","assets/plus-Btgtuooj.js","assets/clock-DqCDtdv3.js","assets/refresh-cw-Deg9-xgS.js","assets/history-DuX8Ttt8.js","assets/Transactions-DGmdNgfw.js","assets/funnel-F5Kf2JVq.js","assets/circle-check-big-UkejlPgO.js","assets/DataCleaning-Cl7ciTlZ.js","assets/triangle-alert-FCqJjRPB.js","assets/AnalyticsDashboard-DgswGNpt.js","assets/AIAdvisorPanel-C8G5VOr8.js","assets/chart-nOlIXl9_.js","assets/trending-up-CSF5TSol.js","assets/RealEstateDashboard-Du64bAwa.js","assets/AIConsole-CPj5So9T.js","assets/AdminDashboard-3Ak7k1k_.js","assets/adminApi-BzfF_zuD.js","assets/activity-fRMxkKMR.js","assets/AdminPlans-BHMNojGe.js","assets/AdminVoice-DTtFdJN7.js","assets/AdminSupport-CUijj6QE.js","assets/AdminEmergency-DFxKYoiq.js","assets/DeepDiveFinanceiroPage-CLnLvmwc.js","assets/circle-check-BsaOdaHW.js","assets/AlertsCenter-CHVBe55g.js","assets/_DesignSystem-D5hTfhFO.js","assets/Imports-CaWzxPHk.js","assets/CfoSimulationPage-CXAZB4L2.js"])))=>i.map(i=>d[i]);
function _S(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function wS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vf={exports:{}},yl={},_f={exports:{}},Le={};var $y;function ES(){if($y)return Le;$y=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function A(j,G,oe){this.props=j,this.context=G,this.refs=N,this.updater=oe||M}A.prototype.isReactComponent={},A.prototype.setState=function(j,G){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,G,"setState")},A.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Y(){}Y.prototype=A.prototype;function Q(j,G,oe){this.props=j,this.context=G,this.refs=N,this.updater=oe||M}var J=Q.prototype=new Y;J.constructor=Q,C(J,A.prototype),J.isPureReactComponent=!0;var X=Array.isArray,ue=Object.prototype.hasOwnProperty,de={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function S(j,G,oe){var we,Ae={},Me=null,xe=null;if(G!=null)for(we in G.ref!==void 0&&(xe=G.ref),G.key!==void 0&&(Me=""+G.key),G)ue.call(G,we)&&!P.hasOwnProperty(we)&&(Ae[we]=G[we]);var ze=arguments.length-2;if(ze===1)Ae.children=oe;else if(1<ze){for(var Ge=Array(ze),ot=0;ot<ze;ot++)Ge[ot]=arguments[ot+2];Ae.children=Ge}if(j&&j.defaultProps)for(we in ze=j.defaultProps,ze)Ae[we]===void 0&&(Ae[we]=ze[we]);return{$$typeof:n,type:j,key:Me,ref:xe,props:Ae,_owner:de.current}}function R(j,G){return{$$typeof:n,type:j.type,key:G,ref:j.ref,props:j.props,_owner:j._owner}}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function L(j){var G={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(oe){return G[oe]})}var U=/\/+/g;function k(j,G){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):G.toString(36)}function je(j,G,oe,we,Ae){var Me=typeof j;(Me==="undefined"||Me==="boolean")&&(j=null);var xe=!1;if(j===null)xe=!0;else switch(Me){case"string":case"number":xe=!0;break;case"object":switch(j.$$typeof){case n:case e:xe=!0}}if(xe)return xe=j,Ae=Ae(xe),j=we===""?"."+k(xe,0):we,X(Ae)?(oe="",j!=null&&(oe=j.replace(U,"$&/")+"/"),je(Ae,G,oe,"",function(ot){return ot})):Ae!=null&&(O(Ae)&&(Ae=R(Ae,oe+(!Ae.key||xe&&xe.key===Ae.key?"":(""+Ae.key).replace(U,"$&/")+"/")+j)),G.push(Ae)),1;if(xe=0,we=we===""?".":we+":",X(j))for(var ze=0;ze<j.length;ze++){Me=j[ze];var Ge=we+k(Me,ze);xe+=je(Me,G,oe,Ge,Ae)}else if(Ge=T(j),typeof Ge=="function")for(j=Ge.call(j),ze=0;!(Me=j.next()).done;)Me=Me.value,Ge=we+k(Me,ze++),xe+=je(Me,G,oe,Ge,Ae);else if(Me==="object")throw G=String(j),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return xe}function Se(j,G,oe){if(j==null)return j;var we=[],Ae=0;return je(j,we,"","",function(Me){return G.call(oe,Me,Ae++)}),we}function Pe(j){if(j._status===-1){var G=j._result;G=G(),G.then(function(oe){(j._status===0||j._status===-1)&&(j._status=1,j._result=oe)},function(oe){(j._status===0||j._status===-1)&&(j._status=2,j._result=oe)}),j._status===-1&&(j._status=0,j._result=G)}if(j._status===1)return j._result.default;throw j._result}var Oe={current:null},K={transition:null},_e={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:K,ReactCurrentOwner:de};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:Se,forEach:function(j,G,oe){Se(j,function(){G.apply(this,arguments)},oe)},count:function(j){var G=0;return Se(j,function(){G++}),G},toArray:function(j){return Se(j,function(G){return G})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Le.Component=A,Le.Fragment=t,Le.Profiler=o,Le.PureComponent=Q,Le.StrictMode=r,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,Le.act=ae,Le.cloneElement=function(j,G,oe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var we=C({},j.props),Ae=j.key,Me=j.ref,xe=j._owner;if(G!=null){if(G.ref!==void 0&&(Me=G.ref,xe=de.current),G.key!==void 0&&(Ae=""+G.key),j.type&&j.type.defaultProps)var ze=j.type.defaultProps;for(Ge in G)ue.call(G,Ge)&&!P.hasOwnProperty(Ge)&&(we[Ge]=G[Ge]===void 0&&ze!==void 0?ze[Ge]:G[Ge])}var Ge=arguments.length-2;if(Ge===1)we.children=oe;else if(1<Ge){ze=Array(Ge);for(var ot=0;ot<Ge;ot++)ze[ot]=arguments[ot+2];we.children=ze}return{$$typeof:n,type:j.type,key:Ae,ref:Me,props:we,_owner:xe}},Le.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Le.createElement=S,Le.createFactory=function(j){var G=S.bind(null,j);return G.type=j,G},Le.createRef=function(){return{current:null}},Le.forwardRef=function(j){return{$$typeof:d,render:j}},Le.isValidElement=O,Le.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:Pe}},Le.memo=function(j,G){return{$$typeof:m,type:j,compare:G===void 0?null:G}},Le.startTransition=function(j){var G=K.transition;K.transition={};try{j()}finally{K.transition=G}},Le.unstable_act=ae,Le.useCallback=function(j,G){return Oe.current.useCallback(j,G)},Le.useContext=function(j){return Oe.current.useContext(j)},Le.useDebugValue=function(){},Le.useDeferredValue=function(j){return Oe.current.useDeferredValue(j)},Le.useEffect=function(j,G){return Oe.current.useEffect(j,G)},Le.useId=function(){return Oe.current.useId()},Le.useImperativeHandle=function(j,G,oe){return Oe.current.useImperativeHandle(j,G,oe)},Le.useInsertionEffect=function(j,G){return Oe.current.useInsertionEffect(j,G)},Le.useLayoutEffect=function(j,G){return Oe.current.useLayoutEffect(j,G)},Le.useMemo=function(j,G){return Oe.current.useMemo(j,G)},Le.useReducer=function(j,G,oe){return Oe.current.useReducer(j,G,oe)},Le.useRef=function(j){return Oe.current.useRef(j)},Le.useState=function(j){return Oe.current.useState(j)},Le.useSyncExternalStore=function(j,G,oe){return Oe.current.useSyncExternalStore(j,G,oe)},Le.useTransition=function(){return Oe.current.useTransition()},Le.version="18.3.1",Le}var qy;function Np(){return qy||(qy=1,_f.exports=ES()),_f.exports}var Hy;function TS(){if(Hy)return yl;Hy=1;var n=Np(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var v,w={},T=null,M=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(M=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:d,key:T,ref:M,props:w,_owner:o.current}}return yl.Fragment=t,yl.jsx=u,yl.jsxs=u,yl}var Wy;function IS(){return Wy||(Wy=1,vf.exports=TS()),vf.exports}var x=IS(),F=Np();const A0=wS(F),SS=_S({__proto__:null,default:A0},[F]);var wc={},wf={exports:{}},pn={},Ef={exports:{}},Tf={};var Ky;function xS(){return Ky||(Ky=1,(function(n){function e(K,_e){var ae=K.length;K.push(_e);e:for(;0<ae;){var j=ae-1>>>1,G=K[j];if(0<o(G,_e))K[j]=_e,K[ae]=G,ae=j;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var _e=K[0],ae=K.pop();if(ae!==_e){K[0]=ae;e:for(var j=0,G=K.length,oe=G>>>1;j<oe;){var we=2*(j+1)-1,Ae=K[we],Me=we+1,xe=K[Me];if(0>o(Ae,ae))Me<G&&0>o(xe,Ae)?(K[j]=xe,K[Me]=ae,j=Me):(K[j]=Ae,K[we]=ae,j=we);else if(Me<G&&0>o(xe,ae))K[j]=xe,K[Me]=ae,j=Me;else break e}}return _e}function o(K,_e){var ae=K.sortIndex-_e.sortIndex;return ae!==0?ae:K.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,w=null,T=3,M=!1,C=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(K){for(var _e=t(m);_e!==null;){if(_e.callback===null)r(m);else if(_e.startTime<=K)r(m),_e.sortIndex=_e.expirationTime,e(f,_e);else break;_e=t(m)}}function X(K){if(N=!1,J(K),!C)if(t(f)!==null)C=!0,Pe(ue);else{var _e=t(m);_e!==null&&Oe(X,_e.startTime-K)}}function ue(K,_e){C=!1,N&&(N=!1,Y(S),S=-1),M=!0;var ae=T;try{for(J(_e),w=t(f);w!==null&&(!(w.expirationTime>_e)||K&&!L());){var j=w.callback;if(typeof j=="function"){w.callback=null,T=w.priorityLevel;var G=j(w.expirationTime<=_e);_e=n.unstable_now(),typeof G=="function"?w.callback=G:w===t(f)&&r(f),J(_e)}else r(f);w=t(f)}if(w!==null)var oe=!0;else{var we=t(m);we!==null&&Oe(X,we.startTime-_e),oe=!1}return oe}finally{w=null,T=ae,M=!1}}var de=!1,P=null,S=-1,R=5,O=-1;function L(){return!(n.unstable_now()-O<R)}function U(){if(P!==null){var K=n.unstable_now();O=K;var _e=!0;try{_e=P(!0,K)}finally{_e?k():(de=!1,P=null)}}else de=!1}var k;if(typeof Q=="function")k=function(){Q(U)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Se=je.port2;je.port1.onmessage=U,k=function(){Se.postMessage(null)}}else k=function(){A(U,0)};function Pe(K){P=K,de||(de=!0,k())}function Oe(K,_e){S=A(function(){K(n.unstable_now())},_e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){C||M||(C=!0,Pe(ue))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(K){switch(T){case 1:case 2:case 3:var _e=3;break;default:_e=T}var ae=T;T=_e;try{return K()}finally{T=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,_e){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ae=T;T=K;try{return _e()}finally{T=ae}},n.unstable_scheduleCallback=function(K,_e,ae){var j=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?j+ae:j):ae=j,K){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ae+G,K={id:v++,callback:_e,priorityLevel:K,startTime:ae,expirationTime:G,sortIndex:-1},ae>j?(K.sortIndex=ae,e(m,K),t(f)===null&&K===t(m)&&(N?(Y(S),S=-1):N=!0,Oe(X,ae-j))):(K.sortIndex=G,e(f,K),C||M||(C=!0,Pe(ue))),K},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(K){var _e=T;return function(){var ae=T;T=_e;try{return K.apply(this,arguments)}finally{T=ae}}}})(Tf)),Tf}var Gy;function RS(){return Gy||(Gy=1,Ef.exports=xS()),Ef.exports}var Qy;function bS(){if(Qy)return pn;Qy=1;var n=Np(),e=RS();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function T(s){return f.call(w,s)?!0:f.call(v,s)?!1:m.test(s)?w[s]=!0:(v[s]=!0,!1)}function M(s,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,i,l,h){if(i===null||typeof i>"u"||M(s,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(s,i,l,h,p,y,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=y,this.removeEmptyString=E}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];A[i]=new N(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function Q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(Y,Q);A[i]=new N(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(Y,Q);A[i]=new N(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(Y,Q);A[i]=new N(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function J(s,i,l,h){var p=A.hasOwnProperty(i)?A[i]:null;(p!==null?p.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,l,p,h)&&(l=null),h||p===null?T(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,h=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?s.setAttributeNS(h,i,l):s.setAttribute(i,l))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),de=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),K=Symbol.iterator;function _e(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,j;function G(s){if(j===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||""}return`
`+j+s}var oe=!1;function we(s,i){if(!s||oe)return"";oe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var h=q}Reflect.construct(s,[],i)}else{try{i.call()}catch(q){h=q}s.call(i.prototype)}else{try{throw Error()}catch(q){h=q}s()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var p=q.stack.split(`
`),y=h.stack.split(`
`),E=p.length-1,b=y.length-1;1<=E&&0<=b&&p[E]!==y[b];)b--;for(;1<=E&&0<=b;E--,b--)if(p[E]!==y[b]){if(E!==1||b!==1)do if(E--,b--,0>b||p[E]!==y[b]){var D=`
`+p[E].replace(" at new "," at ");return s.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",s.displayName)),D}while(1<=E&&0<=b);break}}}finally{oe=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?G(s):""}function Ae(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=we(s.type,!1),s;case 11:return s=we(s.type.render,!1),s;case 1:return s=we(s.type,!0),s;default:return""}}function Me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case de:return"Portal";case R:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case je:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case U:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Se:return i=s.displayName||null,i!==null?i:Me(s.type)||"Memo";case Pe:i=s._payload,s=s._init;try{return Me(s(i))}catch{}}return null}function xe(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ze(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ge(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ot(s){var i=Ge(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),h=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function _n(s){s._valueTracker||(s._valueTracker=ot(s))}function Un(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return s&&(h=Ge(s)?s.checked?"true":"false":s.value),s=h,s!==l?(i.setValue(s),!0):!1}function rs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ti(s,i){var l=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Ji(s,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=ze(i.value!=null?i.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ia(s,i){i=i.checked,i!=null&&J(s,"checked",i,!1)}function Sa(s,i){Ia(s,i);var l=ze(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Xi(s,i.type,l):i.hasOwnProperty("defaultValue")&&Xi(s,i.type,ze(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function iu(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function Xi(s,i,l){(i!=="number"||rs(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Pr=Array.isArray;function Nr(s,i,l,h){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&h&&(s[l].defaultSelected=!0)}else{for(l=""+ze(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function xa(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Yi(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(Pr(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:ze(l)}}function Zi(s,i){var l=ze(i.value),h=ze(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function Ra(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function It(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?It(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Or,ba=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,h,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Or=Or||document.createElement("div"),Or.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Or.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function ss(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ri=["Webkit","ms","Moz","O"];Object.keys(ni).forEach(function(s){ri.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),ni[i]=ni[s]})});function Aa(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||ni.hasOwnProperty(s)&&ni[s]?(""+i).trim():i+"px"}function Ca(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=Aa(l,i[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,p):s[l]=p}}var ka=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(s,i){if(i){if(ka[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Na(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var si=null;function eo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var to=null,bn=null,ar=null;function no(s){if(s=nl(s)){if(typeof to!="function")throw Error(t(280));var i=s.stateNode;i&&(i=Lu(i),to(s.stateNode,s.type,i))}}function lr(s){bn?ar?ar.push(s):ar=[s]:bn=s}function Oa(){if(bn){var s=bn,i=ar;if(ar=bn=null,no(s),i)for(s=0;s<i.length;s++)no(i[s])}}function ii(s,i){return s(i)}function Da(){}var Dr=!1;function La(s,i,l){if(Dr)return s(i,l);Dr=!0;try{return ii(s,i,l)}finally{Dr=!1,(bn!==null||ar!==null)&&(Da(),Oa())}}function dt(s,i){var l=s.stateNode;if(l===null)return null;var h=Lu(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var ro=!1;if(d)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){ro=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{ro=!1}function oi(s,i,l,h,p,y,E,b,D){var q=Array.prototype.slice.call(arguments,3);try{i.apply(l,q)}catch(te){this.onError(te)}}var ai=!1,so=null,Bn=!1,Va=null,Hh={onError:function(s){ai=!0,so=s}};function io(s,i,l,h,p,y,E,b,D){ai=!1,so=null,oi.apply(Hh,arguments)}function ou(s,i,l,h,p,y,E,b,D){if(io.apply(this,arguments),ai){if(ai){var q=so;ai=!1,so=null}else throw Error(t(198));Bn||(Bn=!0,Va=q)}}function $n(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function li(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function qn(s){if($n(s)!==s)throw Error(t(188))}function au(s){var i=s.alternate;if(!i){if(i=$n(s),i===null)throw Error(t(188));return i!==s?null:s}for(var l=s,h=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return qn(p),s;if(y===h)return qn(p),i;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var E=!1,b=p.child;b;){if(b===l){E=!0,l=p,h=y;break}if(b===h){E=!0,h=p,l=y;break}b=b.sibling}if(!E){for(b=y.child;b;){if(b===l){E=!0,l=y,h=p;break}if(b===h){E=!0,h=y,l=p;break}b=b.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:i}function Ma(s){return s=au(s),s!==null?oo(s):null}function oo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=oo(s);if(i!==null)return i;s=s.sibling}return null}var ao=e.unstable_scheduleCallback,Fa=e.unstable_cancelCallback,lu=e.unstable_shouldYield,Wh=e.unstable_requestPaint,Xe=e.unstable_now,uu=e.unstable_getCurrentPriorityLevel,ui=e.unstable_ImmediatePriority,is=e.unstable_UserBlockingPriority,An=e.unstable_NormalPriority,ja=e.unstable_LowPriority,cu=e.unstable_IdlePriority,ci=null,wn=null;function hu(s){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(ci,s,void 0,(s.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:fu,Ua=Math.log,du=Math.LN2;function fu(s){return s>>>=0,s===0?32:31-(Ua(s)/du|0)|0}var lo=64,uo=4194304;function os(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function hi(s,i){var l=s.pendingLanes;if(l===0)return 0;var h=0,p=s.suspendedLanes,y=s.pingedLanes,E=l&268435455;if(E!==0){var b=E&~p;b!==0?h=os(b):(y&=E,y!==0&&(h=os(y)))}else E=l&~p,E!==0?h=os(E):y!==0&&(h=os(y));if(h===0)return 0;if(i!==0&&i!==h&&(i&p)===0&&(p=h&-h,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=h;0<i;)l=31-Zt(i),p=1<<l,h|=s[l],i&=~p;return h}function Kh(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(s,i){for(var l=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes;0<y;){var E=31-Zt(y),b=1<<E,D=p[E];D===-1?((b&l)===0||(b&h)!==0)&&(p[E]=Kh(b,i)):D<=i&&(s.expiredLanes|=b),y&=~b}}function En(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function di(){var s=lo;return lo<<=1,(lo&4194240)===0&&(lo=64),s}function as(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function ls(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Zt(i),s[i]=l}function Je(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-Zt(l),y=1<<p;i[p]=0,h[p]=-1,s[p]=-1,l&=~y}}function us(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var h=31-Zt(l),p=1<<h;p&i|s[h]&i&&(s[h]|=i),l&=~p}}var Ue=0;function cs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var pu,co,mu,gu,yu,za=!1,ur=[],Mt=null,Hn=null,Wn=null,hs=new Map,Cn=new Map,cr=[],Gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vu(s,i){switch(s){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":hs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(i.pointerId)}}function an(s,i,l,h,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},i!==null&&(i=nl(i),i!==null&&co(i)),s):(s.eventSystemFlags|=h,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function Qh(s,i,l,h,p){switch(i){case"focusin":return Mt=an(Mt,s,i,l,h,p),!0;case"dragenter":return Hn=an(Hn,s,i,l,h,p),!0;case"mouseover":return Wn=an(Wn,s,i,l,h,p),!0;case"pointerover":var y=p.pointerId;return hs.set(y,an(hs.get(y)||null,s,i,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,Cn.set(y,an(Cn.get(y)||null,s,i,l,h,p)),!0}return!1}function _u(s){var i=yi(s.target);if(i!==null){var l=$n(i);if(l!==null){if(i=l.tag,i===13){if(i=li(l),i!==null){s.blockedOn=i,yu(s.priority,function(){mu(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Vr(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=ho(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);si=h,l.target.dispatchEvent(h),si=null}else return i=nl(l),i!==null&&co(i),s.blockedOn=l,!1;i.shift()}return!0}function fi(s,i,l){Vr(s)&&l.delete(i)}function wu(){za=!1,Mt!==null&&Vr(Mt)&&(Mt=null),Hn!==null&&Vr(Hn)&&(Hn=null),Wn!==null&&Vr(Wn)&&(Wn=null),hs.forEach(fi),Cn.forEach(fi)}function Kn(s,i){s.blockedOn===i&&(s.blockedOn=null,za||(za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wu)))}function Gn(s){function i(p){return Kn(p,s)}if(0<ur.length){Kn(ur[0],s);for(var l=1;l<ur.length;l++){var h=ur[l];h.blockedOn===s&&(h.blockedOn=null)}}for(Mt!==null&&Kn(Mt,s),Hn!==null&&Kn(Hn,s),Wn!==null&&Kn(Wn,s),hs.forEach(i),Cn.forEach(i),l=0;l<cr.length;l++)h=cr[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<cr.length&&(l=cr[0],l.blockedOn===null);)_u(l),l.blockedOn===null&&cr.shift()}var Mr=X.ReactCurrentBatchConfig,ds=!0;function rt(s,i,l,h){var p=Ue,y=Mr.transition;Mr.transition=null;try{Ue=1,Ba(s,i,l,h)}finally{Ue=p,Mr.transition=y}}function Jh(s,i,l,h){var p=Ue,y=Mr.transition;Mr.transition=null;try{Ue=4,Ba(s,i,l,h)}finally{Ue=p,Mr.transition=y}}function Ba(s,i,l,h){if(ds){var p=ho(s,i,l,h);if(p===null)ad(s,i,h,pi,l),vu(s,h);else if(Qh(p,s,i,l,h))h.stopPropagation();else if(vu(s,h),i&4&&-1<Gh.indexOf(s)){for(;p!==null;){var y=nl(p);if(y!==null&&pu(y),y=ho(s,i,l,h),y===null&&ad(s,i,h,pi,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else ad(s,i,h,null,l)}}var pi=null;function ho(s,i,l,h){if(pi=null,s=eo(h),s=yi(s),s!==null)if(i=$n(s),i===null)s=null;else if(l=i.tag,l===13){if(s=li(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return pi=s,null}function $a(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uu()){case ui:return 1;case is:return 4;case An:case ja:return 16;case cu:return 536870912;default:return 16}default:return 16}}var Tn=null,fo=null,ln=null;function qa(){if(ln)return ln;var s,i=fo,l=i.length,h,p="value"in Tn?Tn.value:Tn.textContent,y=p.length;for(s=0;s<l&&i[s]===p[s];s++);var E=l-s;for(h=1;h<=E&&i[l-h]===p[y-h];h++);return ln=p.slice(s,1<h?1-h:void 0)}function po(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function hr(){return!0}function Ha(){return!1}function Ft(s){function i(l,h,p,y,E){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var b in s)s.hasOwnProperty(b)&&(l=s[b],this[b]=l?l(y):y[b]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hr:Ha,this.isPropagationStopped=Ha,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),i}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Ft(Qn),dr=ae({},Qn,{view:0,detail:0}),Xh=Ft(dr),go,Fr,fs,mi=ae({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fs&&(fs&&s.type==="mousemove"?(go=s.screenX-fs.screenX,Fr=s.screenY-fs.screenY):Fr=go=0,fs=s),go)},movementY:function(s){return"movementY"in s?s.movementY:Fr}}),yo=Ft(mi),Wa=ae({},mi,{dataTransfer:0}),Eu=Ft(Wa),vo=ae({},dr,{relatedTarget:0}),_o=Ft(vo),Tu=ae({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),jr=Ft(Tu),Iu=ae({},Qn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Su=Ft(Iu),xu=ae({},Qn,{data:0}),Ka=Ft(xu),wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},en={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Ru[s])?!!i[s]:!1}function fr(){return bu}var c=ae({},dr,{key:function(s){if(s.key){var i=wo[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=po(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?en[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(s){return s.type==="keypress"?po(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?po(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g=Ft(c),_=ae({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Ft(_),z=ae({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),W=Ft(z),ie=ae({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=Ft(ie),xt=ae({},mi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Ft(xt),Nt=[9,13,27,32],vt=d&&"CompositionEvent"in window,kn=null;d&&"documentMode"in document&&(kn=document.documentMode);var In=d&&"TextEvent"in window&&!kn,gi=d&&(!vt||kn&&8<kn&&11>=kn),Eo=" ",Mm=!1;function Fm(s,i){switch(s){case"keyup":return Nt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var To=!1;function gI(s,i){switch(s){case"compositionend":return jm(i);case"keypress":return i.which!==32?null:(Mm=!0,Eo);case"textInput":return s=i.data,s===Eo&&Mm?null:s;default:return null}}function yI(s,i){if(To)return s==="compositionend"||!vt&&Fm(s,i)?(s=qa(),ln=fo=Tn=null,To=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return gi&&i.locale!=="ko"?null:i.data;default:return null}}var vI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!vI[s.type]:i==="textarea"}function zm(s,i,l,h){lr(h),i=Nu(i,"onChange"),0<i.length&&(l=new mo("onChange","change",null,l,h),s.push({event:l,listeners:i}))}var Ga=null,Qa=null;function _I(s){ig(s,0)}function Au(s){var i=bo(s);if(Un(i))return s}function wI(s,i){if(s==="change")return i}var Bm=!1;if(d){var Yh;if(d){var Zh="oninput"in document;if(!Zh){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),Zh=typeof $m.oninput=="function"}Yh=Zh}else Yh=!1;Bm=Yh&&(!document.documentMode||9<document.documentMode)}function qm(){Ga&&(Ga.detachEvent("onpropertychange",Hm),Qa=Ga=null)}function Hm(s){if(s.propertyName==="value"&&Au(Qa)){var i=[];zm(i,Qa,s,eo(s)),La(_I,i)}}function EI(s,i,l){s==="focusin"?(qm(),Ga=i,Qa=l,Ga.attachEvent("onpropertychange",Hm)):s==="focusout"&&qm()}function TI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Au(Qa)}function II(s,i){if(s==="click")return Au(i)}function SI(s,i){if(s==="input"||s==="change")return Au(i)}function xI(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Jn=typeof Object.is=="function"?Object.is:xI;function Ja(s,i){if(Jn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(i,p)||!Jn(s[p],i[p]))return!1}return!0}function Wm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Km(s,i){var l=Wm(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=i&&h>=i)return{node:l,offset:i-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wm(l)}}function Gm(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Gm(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Qm(){for(var s=window,i=rs();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=rs(s.document)}return i}function ed(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function RI(s){var i=Qm(),l=s.focusedElem,h=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Gm(l.ownerDocument.documentElement,l)){if(h!==null&&ed(l)){if(i=h.start,s=h.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!s.extend&&y>h&&(p=h,h=y,y=p),p=Km(l,y);var E=Km(l,h);p&&E&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),y>h?(s.addRange(i),s.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var bI=d&&"documentMode"in document&&11>=document.documentMode,Io=null,td=null,Xa=null,nd=!1;function Jm(s,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;nd||Io==null||Io!==rs(h)||(h=Io,"selectionStart"in h&&ed(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Xa&&Ja(Xa,h)||(Xa=h,h=Nu(td,"onSelect"),0<h.length&&(i=new mo("onSelect","select",null,i,l),s.push({event:i,listeners:h}),i.target=Io)))}function Cu(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var So={animationend:Cu("Animation","AnimationEnd"),animationiteration:Cu("Animation","AnimationIteration"),animationstart:Cu("Animation","AnimationStart"),transitionend:Cu("Transition","TransitionEnd")},rd={},Xm={};d&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function ku(s){if(rd[s])return rd[s];if(!So[s])return s;var i=So[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Xm)return rd[s]=i[l];return s}var Ym=ku("animationend"),Zm=ku("animationiteration"),eg=ku("animationstart"),tg=ku("transitionend"),ng=new Map,rg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(s,i){ng.set(s,i),a(i,[s])}for(var sd=0;sd<rg.length;sd++){var id=rg[sd],AI=id.toLowerCase(),CI=id[0].toUpperCase()+id.slice(1);ps(AI,"on"+CI)}ps(Ym,"onAnimationEnd"),ps(Zm,"onAnimationIteration"),ps(eg,"onAnimationStart"),ps("dblclick","onDoubleClick"),ps("focusin","onFocus"),ps("focusout","onBlur"),ps(tg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ya));function sg(s,i,l){var h=s.type||"unknown-event";s.currentTarget=l,ou(h,i,void 0,s),s.currentTarget=null}function ig(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],p=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var E=h.length-1;0<=E;E--){var b=h[E],D=b.instance,q=b.currentTarget;if(b=b.listener,D!==y&&p.isPropagationStopped())break e;sg(p,b,q),y=D}else for(E=0;E<h.length;E++){if(b=h[E],D=b.instance,q=b.currentTarget,b=b.listener,D!==y&&p.isPropagationStopped())break e;sg(p,b,q),y=D}}}if(Bn)throw s=Va,Bn=!1,Va=null,s}function et(s,i){var l=i[fd];l===void 0&&(l=i[fd]=new Set);var h=s+"__bubble";l.has(h)||(og(i,s,2,!1),l.add(h))}function od(s,i,l){var h=0;i&&(h|=4),og(l,s,h,i)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Za(s){if(!s[Pu]){s[Pu]=!0,r.forEach(function(l){l!=="selectionchange"&&(kI.has(l)||od(l,!1,s),od(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Pu]||(i[Pu]=!0,od("selectionchange",!1,i))}}function og(s,i,l,h){switch($a(i)){case 1:var p=rt;break;case 4:p=Jh;break;default:p=Ba}l=p.bind(null,i,l,s),p=void 0,!ro||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function ad(s,i,l,h,p){var y=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var b=h.stateNode.containerInfo;if(b===p||b.nodeType===8&&b.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var D=E.tag;if((D===3||D===4)&&(D=E.stateNode.containerInfo,D===p||D.nodeType===8&&D.parentNode===p))return;E=E.return}for(;b!==null;){if(E=yi(b),E===null)return;if(D=E.tag,D===5||D===6){h=y=E;continue e}b=b.parentNode}}h=h.return}La(function(){var q=y,te=eo(l),ne=[];e:{var ee=ng.get(s);if(ee!==void 0){var le=mo,pe=s;switch(s){case"keypress":if(po(l)===0)break e;case"keydown":case"keyup":le=g;break;case"focusin":pe="focus",le=_o;break;case"focusout":pe="blur",le=_o;break;case"beforeblur":case"afterblur":le=_o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=W;break;case Ym:case Zm:case eg:le=jr;break;case tg:le=Qe;break;case"scroll":le=Xh;break;case"wheel":le=Be;break;case"copy":case"cut":case"paste":le=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=I}var ye=(i&4)!==0,ft=!ye&&s==="scroll",B=ye?ee!==null?ee+"Capture":null:ee;ye=[];for(var V=q,$;V!==null;){$=V;var se=$.stateNode;if($.tag===5&&se!==null&&($=se,B!==null&&(se=dt(V,B),se!=null&&ye.push(el(V,se,$)))),ft)break;V=V.return}0<ye.length&&(ee=new le(ee,pe,null,l,te),ne.push({event:ee,listeners:ye}))}}if((i&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",ee&&l!==si&&(pe=l.relatedTarget||l.fromElement)&&(yi(pe)||pe[Ur]))break e;if((le||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,le?(pe=l.relatedTarget||l.toElement,le=q,pe=pe?yi(pe):null,pe!==null&&(ft=$n(pe),pe!==ft||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(le=null,pe=q),le!==pe)){if(ye=yo,se="onMouseLeave",B="onMouseEnter",V="mouse",(s==="pointerout"||s==="pointerover")&&(ye=I,se="onPointerLeave",B="onPointerEnter",V="pointer"),ft=le==null?ee:bo(le),$=pe==null?ee:bo(pe),ee=new ye(se,V+"leave",le,l,te),ee.target=ft,ee.relatedTarget=$,se=null,yi(te)===q&&(ye=new ye(B,V+"enter",pe,l,te),ye.target=$,ye.relatedTarget=ft,se=ye),ft=se,le&&pe)t:{for(ye=le,B=pe,V=0,$=ye;$;$=xo($))V++;for($=0,se=B;se;se=xo(se))$++;for(;0<V-$;)ye=xo(ye),V--;for(;0<$-V;)B=xo(B),$--;for(;V--;){if(ye===B||B!==null&&ye===B.alternate)break t;ye=xo(ye),B=xo(B)}ye=null}else ye=null;le!==null&&ag(ne,ee,le,ye,!1),pe!==null&&ft!==null&&ag(ne,ft,pe,ye,!0)}}e:{if(ee=q?bo(q):window,le=ee.nodeName&&ee.nodeName.toLowerCase(),le==="select"||le==="input"&&ee.type==="file")var ve=wI;else if(Um(ee))if(Bm)ve=SI;else{ve=TI;var Te=EI}else(le=ee.nodeName)&&le.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ve=II);if(ve&&(ve=ve(s,q))){zm(ne,ve,l,te);break e}Te&&Te(s,ee,q),s==="focusout"&&(Te=ee._wrapperState)&&Te.controlled&&ee.type==="number"&&Xi(ee,"number",ee.value)}switch(Te=q?bo(q):window,s){case"focusin":(Um(Te)||Te.contentEditable==="true")&&(Io=Te,td=q,Xa=null);break;case"focusout":Xa=td=Io=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,Jm(ne,l,te);break;case"selectionchange":if(bI)break;case"keydown":case"keyup":Jm(ne,l,te)}var Ie;if(vt)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else To?Fm(s,l)&&(be="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(be="onCompositionStart");be&&(gi&&l.locale!=="ko"&&(To||be!=="onCompositionStart"?be==="onCompositionEnd"&&To&&(Ie=qa()):(Tn=te,fo="value"in Tn?Tn.value:Tn.textContent,To=!0)),Te=Nu(q,be),0<Te.length&&(be=new Ka(be,s,null,l,te),ne.push({event:be,listeners:Te}),Ie?be.data=Ie:(Ie=jm(l),Ie!==null&&(be.data=Ie)))),(Ie=In?gI(s,l):yI(s,l))&&(q=Nu(q,"onBeforeInput"),0<q.length&&(te=new Ka("onBeforeInput","beforeinput",null,l,te),ne.push({event:te,listeners:q}),te.data=Ie))}ig(ne,i)})}function el(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Nu(s,i){for(var l=i+"Capture",h=[];s!==null;){var p=s,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=dt(s,l),y!=null&&h.unshift(el(s,y,p)),y=dt(s,i),y!=null&&h.push(el(s,y,p))),s=s.return}return h}function xo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ag(s,i,l,h,p){for(var y=i._reactName,E=[];l!==null&&l!==h;){var b=l,D=b.alternate,q=b.stateNode;if(D!==null&&D===h)break;b.tag===5&&q!==null&&(b=q,p?(D=dt(l,y),D!=null&&E.unshift(el(l,D,b))):p||(D=dt(l,y),D!=null&&E.push(el(l,D,b)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var PI=/\r\n?/g,NI=/\u0000|\uFFFD/g;function lg(s){return(typeof s=="string"?s:""+s).replace(PI,`
`).replace(NI,"")}function Ou(s,i,l){if(i=lg(i),lg(s)!==i&&l)throw Error(t(425))}function Du(){}var ld=null,ud=null;function cd(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hd=typeof setTimeout=="function"?setTimeout:void 0,OI=typeof clearTimeout=="function"?clearTimeout:void 0,ug=typeof Promise=="function"?Promise:void 0,DI=typeof queueMicrotask=="function"?queueMicrotask:typeof ug<"u"?function(s){return ug.resolve(null).then(s).catch(LI)}:hd;function LI(s){setTimeout(function(){throw s})}function dd(s,i){var l=i,h=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){s.removeChild(p),Gn(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Gn(i)}function ms(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function cg(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),pr="__reactFiber$"+Ro,tl="__reactProps$"+Ro,Ur="__reactContainer$"+Ro,fd="__reactEvents$"+Ro,VI="__reactListeners$"+Ro,MI="__reactHandles$"+Ro;function yi(s){var i=s[pr];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Ur]||l[pr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=cg(s);s!==null;){if(l=s[pr])return l;s=cg(s)}return i}s=l,l=s.parentNode}return null}function nl(s){return s=s[pr]||s[Ur],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function bo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Lu(s){return s[tl]||null}var pd=[],Ao=-1;function gs(s){return{current:s}}function tt(s){0>Ao||(s.current=pd[Ao],pd[Ao]=null,Ao--)}function Ye(s,i){Ao++,pd[Ao]=s.current,s.current=i}var ys={},$t=gs(ys),un=gs(!1),vi=ys;function Co(s,i){var l=s.type.contextTypes;if(!l)return ys;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=i[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function cn(s){return s=s.childContextTypes,s!=null}function Vu(){tt(un),tt($t)}function hg(s,i,l){if($t.current!==ys)throw Error(t(168));Ye($t,i),Ye(un,l)}function dg(s,i,l){var h=s.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in i))throw Error(t(108,xe(s)||"Unknown",p));return ae({},l,h)}function Mu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ys,vi=$t.current,Ye($t,s),Ye(un,un.current),!0}function fg(s,i,l){var h=s.stateNode;if(!h)throw Error(t(169));l?(s=dg(s,i,vi),h.__reactInternalMemoizedMergedChildContext=s,tt(un),tt($t),Ye($t,s)):tt(un),Ye(un,l)}var zr=null,Fu=!1,md=!1;function pg(s){zr===null?zr=[s]:zr.push(s)}function FI(s){Fu=!0,pg(s)}function vs(){if(!md&&zr!==null){md=!0;var s=0,i=Ue;try{var l=zr;for(Ue=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}zr=null,Fu=!1}catch(p){throw zr!==null&&(zr=zr.slice(s+1)),ao(ui,vs),p}finally{Ue=i,md=!1}}return null}var ko=[],Po=0,ju=null,Uu=0,Pn=[],Nn=0,_i=null,Br=1,$r="";function wi(s,i){ko[Po++]=Uu,ko[Po++]=ju,ju=s,Uu=i}function mg(s,i,l){Pn[Nn++]=Br,Pn[Nn++]=$r,Pn[Nn++]=_i,_i=s;var h=Br;s=$r;var p=32-Zt(h)-1;h&=~(1<<p),l+=1;var y=32-Zt(i)+p;if(30<y){var E=p-p%5;y=(h&(1<<E)-1).toString(32),h>>=E,p-=E,Br=1<<32-Zt(i)+p|l<<p|h,$r=y+s}else Br=1<<y|l<<p|h,$r=s}function gd(s){s.return!==null&&(wi(s,1),mg(s,1,0))}function yd(s){for(;s===ju;)ju=ko[--Po],ko[Po]=null,Uu=ko[--Po],ko[Po]=null;for(;s===_i;)_i=Pn[--Nn],Pn[Nn]=null,$r=Pn[--Nn],Pn[Nn]=null,Br=Pn[--Nn],Pn[Nn]=null}var Sn=null,xn=null,st=!1,Xn=null;function gg(s,i){var l=Vn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function yg(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Sn=s,xn=ms(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Sn=s,xn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=_i!==null?{id:Br,overflow:$r}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Vn(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,Sn=s,xn=null,!0):!1;default:return!1}}function vd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function _d(s){if(st){var i=xn;if(i){var l=i;if(!yg(s,i)){if(vd(s))throw Error(t(418));i=ms(l.nextSibling);var h=Sn;i&&yg(s,i)?gg(h,l):(s.flags=s.flags&-4097|2,st=!1,Sn=s)}}else{if(vd(s))throw Error(t(418));s.flags=s.flags&-4097|2,st=!1,Sn=s}}}function vg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Sn=s}function zu(s){if(s!==Sn)return!1;if(!st)return vg(s),st=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!cd(s.type,s.memoizedProps)),i&&(i=xn)){if(vd(s))throw _g(),Error(t(418));for(;i;)gg(s,i),i=ms(i.nextSibling)}if(vg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){xn=ms(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}xn=null}}else xn=Sn?ms(s.stateNode.nextSibling):null;return!0}function _g(){for(var s=xn;s;)s=ms(s.nextSibling)}function No(){xn=Sn=null,st=!1}function wd(s){Xn===null?Xn=[s]:Xn.push(s)}var jI=X.ReactCurrentBatchConfig;function rl(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,s));var p=h,y=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(E){var b=p.refs;E===null?delete b[y]:b[y]=E},i._stringRef=y,i)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function Bu(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function wg(s){var i=s._init;return i(s._payload)}function Eg(s){function i(B,V){if(s){var $=B.deletions;$===null?(B.deletions=[V],B.flags|=16):$.push(V)}}function l(B,V){if(!s)return null;for(;V!==null;)i(B,V),V=V.sibling;return null}function h(B,V){for(B=new Map;V!==null;)V.key!==null?B.set(V.key,V):B.set(V.index,V),V=V.sibling;return B}function p(B,V){return B=Rs(B,V),B.index=0,B.sibling=null,B}function y(B,V,$){return B.index=$,s?($=B.alternate,$!==null?($=$.index,$<V?(B.flags|=2,V):$):(B.flags|=2,V)):(B.flags|=1048576,V)}function E(B){return s&&B.alternate===null&&(B.flags|=2),B}function b(B,V,$,se){return V===null||V.tag!==6?(V=df($,B.mode,se),V.return=B,V):(V=p(V,$),V.return=B,V)}function D(B,V,$,se){var ve=$.type;return ve===P?te(B,V,$.props.children,se,$.key):V!==null&&(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Pe&&wg(ve)===V.type)?(se=p(V,$.props),se.ref=rl(B,V,$),se.return=B,se):(se=dc($.type,$.key,$.props,null,B.mode,se),se.ref=rl(B,V,$),se.return=B,se)}function q(B,V,$,se){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=ff($,B.mode,se),V.return=B,V):(V=p(V,$.children||[]),V.return=B,V)}function te(B,V,$,se,ve){return V===null||V.tag!==7?(V=Ai($,B.mode,se,ve),V.return=B,V):(V=p(V,$),V.return=B,V)}function ne(B,V,$){if(typeof V=="string"&&V!==""||typeof V=="number")return V=df(""+V,B.mode,$),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ue:return $=dc(V.type,V.key,V.props,null,B.mode,$),$.ref=rl(B,null,V),$.return=B,$;case de:return V=ff(V,B.mode,$),V.return=B,V;case Pe:var se=V._init;return ne(B,se(V._payload),$)}if(Pr(V)||_e(V))return V=Ai(V,B.mode,$,null),V.return=B,V;Bu(B,V)}return null}function ee(B,V,$,se){var ve=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ve!==null?null:b(B,V,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case ue:return $.key===ve?D(B,V,$,se):null;case de:return $.key===ve?q(B,V,$,se):null;case Pe:return ve=$._init,ee(B,V,ve($._payload),se)}if(Pr($)||_e($))return ve!==null?null:te(B,V,$,se,null);Bu(B,$)}return null}function le(B,V,$,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number")return B=B.get($)||null,b(V,B,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case ue:return B=B.get(se.key===null?$:se.key)||null,D(V,B,se,ve);case de:return B=B.get(se.key===null?$:se.key)||null,q(V,B,se,ve);case Pe:var Te=se._init;return le(B,V,$,Te(se._payload),ve)}if(Pr(se)||_e(se))return B=B.get($)||null,te(V,B,se,ve,null);Bu(V,se)}return null}function pe(B,V,$,se){for(var ve=null,Te=null,Ie=V,be=V=0,Lt=null;Ie!==null&&be<$.length;be++){Ie.index>be?(Lt=Ie,Ie=null):Lt=Ie.sibling;var Ke=ee(B,Ie,$[be],se);if(Ke===null){Ie===null&&(Ie=Lt);break}s&&Ie&&Ke.alternate===null&&i(B,Ie),V=y(Ke,V,be),Te===null?ve=Ke:Te.sibling=Ke,Te=Ke,Ie=Lt}if(be===$.length)return l(B,Ie),st&&wi(B,be),ve;if(Ie===null){for(;be<$.length;be++)Ie=ne(B,$[be],se),Ie!==null&&(V=y(Ie,V,be),Te===null?ve=Ie:Te.sibling=Ie,Te=Ie);return st&&wi(B,be),ve}for(Ie=h(B,Ie);be<$.length;be++)Lt=le(Ie,B,be,$[be],se),Lt!==null&&(s&&Lt.alternate!==null&&Ie.delete(Lt.key===null?be:Lt.key),V=y(Lt,V,be),Te===null?ve=Lt:Te.sibling=Lt,Te=Lt);return s&&Ie.forEach(function(bs){return i(B,bs)}),st&&wi(B,be),ve}function ye(B,V,$,se){var ve=_e($);if(typeof ve!="function")throw Error(t(150));if($=ve.call($),$==null)throw Error(t(151));for(var Te=ve=null,Ie=V,be=V=0,Lt=null,Ke=$.next();Ie!==null&&!Ke.done;be++,Ke=$.next()){Ie.index>be?(Lt=Ie,Ie=null):Lt=Ie.sibling;var bs=ee(B,Ie,Ke.value,se);if(bs===null){Ie===null&&(Ie=Lt);break}s&&Ie&&bs.alternate===null&&i(B,Ie),V=y(bs,V,be),Te===null?ve=bs:Te.sibling=bs,Te=bs,Ie=Lt}if(Ke.done)return l(B,Ie),st&&wi(B,be),ve;if(Ie===null){for(;!Ke.done;be++,Ke=$.next())Ke=ne(B,Ke.value,se),Ke!==null&&(V=y(Ke,V,be),Te===null?ve=Ke:Te.sibling=Ke,Te=Ke);return st&&wi(B,be),ve}for(Ie=h(B,Ie);!Ke.done;be++,Ke=$.next())Ke=le(Ie,B,be,Ke.value,se),Ke!==null&&(s&&Ke.alternate!==null&&Ie.delete(Ke.key===null?be:Ke.key),V=y(Ke,V,be),Te===null?ve=Ke:Te.sibling=Ke,Te=Ke);return s&&Ie.forEach(function(vS){return i(B,vS)}),st&&wi(B,be),ve}function ft(B,V,$,se){if(typeof $=="object"&&$!==null&&$.type===P&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case ue:e:{for(var ve=$.key,Te=V;Te!==null;){if(Te.key===ve){if(ve=$.type,ve===P){if(Te.tag===7){l(B,Te.sibling),V=p(Te,$.props.children),V.return=B,B=V;break e}}else if(Te.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Pe&&wg(ve)===Te.type){l(B,Te.sibling),V=p(Te,$.props),V.ref=rl(B,Te,$),V.return=B,B=V;break e}l(B,Te);break}else i(B,Te);Te=Te.sibling}$.type===P?(V=Ai($.props.children,B.mode,se,$.key),V.return=B,B=V):(se=dc($.type,$.key,$.props,null,B.mode,se),se.ref=rl(B,V,$),se.return=B,B=se)}return E(B);case de:e:{for(Te=$.key;V!==null;){if(V.key===Te)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){l(B,V.sibling),V=p(V,$.children||[]),V.return=B,B=V;break e}else{l(B,V);break}else i(B,V);V=V.sibling}V=ff($,B.mode,se),V.return=B,B=V}return E(B);case Pe:return Te=$._init,ft(B,V,Te($._payload),se)}if(Pr($))return pe(B,V,$,se);if(_e($))return ye(B,V,$,se);Bu(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,V!==null&&V.tag===6?(l(B,V.sibling),V=p(V,$),V.return=B,B=V):(l(B,V),V=df($,B.mode,se),V.return=B,B=V),E(B)):l(B,V)}return ft}var Oo=Eg(!0),Tg=Eg(!1),$u=gs(null),qu=null,Do=null,Ed=null;function Td(){Ed=Do=qu=null}function Id(s){var i=$u.current;tt($u),s._currentValue=i}function Sd(s,i,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),s===l)break;s=s.return}}function Lo(s,i){qu=s,Ed=Do=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(hn=!0),s.firstContext=null)}function On(s){var i=s._currentValue;if(Ed!==s)if(s={context:s,memoizedValue:i,next:null},Do===null){if(qu===null)throw Error(t(308));Do=s,qu.dependencies={lanes:0,firstContext:s}}else Do=Do.next=s;return i}var Ei=null;function xd(s){Ei===null?Ei=[s]:Ei.push(s)}function Ig(s,i,l,h){var p=i.interleaved;return p===null?(l.next=l,xd(i)):(l.next=p.next,p.next=l),i.interleaved=l,qr(s,h)}function qr(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var _s=!1;function Rd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sg(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Hr(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function ws(s,i,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,qr(s,l)}return p=h.interleaved,p===null?(i.next=i,xd(h)):(i.next=p.next,p.next=i),h.interleaved=i,qr(s,l)}function Hu(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,us(s,l)}}function xg(s,i){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function Wu(s,i,l,h){var p=s.updateQueue;_s=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,b=p.shared.pending;if(b!==null){p.shared.pending=null;var D=b,q=D.next;D.next=null,E===null?y=q:E.next=q,E=D;var te=s.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==E&&(b===null?te.firstBaseUpdate=q:b.next=q,te.lastBaseUpdate=D))}if(y!==null){var ne=p.baseState;E=0,te=q=D=null,b=y;do{var ee=b.lane,le=b.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:le,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var pe=s,ye=b;switch(ee=i,le=l,ye.tag){case 1:if(pe=ye.payload,typeof pe=="function"){ne=pe.call(le,ne,ee);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ye.payload,ee=typeof pe=="function"?pe.call(le,ne,ee):pe,ee==null)break e;ne=ae({},ne,ee);break e;case 2:_s=!0}}b.callback!==null&&b.lane!==0&&(s.flags|=64,ee=p.effects,ee===null?p.effects=[b]:ee.push(b))}else le={eventTime:le,lane:ee,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(q=te=le,D=ne):te=te.next=le,E|=ee;if(b=b.next,b===null){if(b=p.shared.pending,b===null)break;ee=b,b=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(te===null&&(D=ne),p.baseState=D,p.firstBaseUpdate=q,p.lastBaseUpdate=te,i=p.shared.interleaved,i!==null){p=i;do E|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);Si|=E,s.lanes=E,s.memoizedState=ne}}function Rg(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var h=s[i],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var sl={},mr=gs(sl),il=gs(sl),ol=gs(sl);function Ti(s){if(s===sl)throw Error(t(174));return s}function bd(s,i){switch(Ye(ol,i),Ye(il,s),Ye(mr,sl),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:St(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=St(i,s)}tt(mr),Ye(mr,i)}function Vo(){tt(mr),tt(il),tt(ol)}function bg(s){Ti(ol.current);var i=Ti(mr.current),l=St(i,s.type);i!==l&&(Ye(il,s),Ye(mr,l))}function Ad(s){il.current===s&&(tt(mr),tt(il))}var at=gs(0);function Ku(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Cd=[];function kd(){for(var s=0;s<Cd.length;s++)Cd[s]._workInProgressVersionPrimary=null;Cd.length=0}var Gu=X.ReactCurrentDispatcher,Pd=X.ReactCurrentBatchConfig,Ii=0,lt=null,Rt=null,Ot=null,Qu=!1,al=!1,ll=0,UI=0;function qt(){throw Error(t(321))}function Nd(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Jn(s[l],i[l]))return!1;return!0}function Od(s,i,l,h,p,y){if(Ii=y,lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Gu.current=s===null||s.memoizedState===null?qI:HI,s=l(h,p),al){y=0;do{if(al=!1,ll=0,25<=y)throw Error(t(301));y+=1,Ot=Rt=null,i.updateQueue=null,Gu.current=WI,s=l(h,p)}while(al)}if(Gu.current=Yu,i=Rt!==null&&Rt.next!==null,Ii=0,Ot=Rt=lt=null,Qu=!1,i)throw Error(t(300));return s}function Dd(){var s=ll!==0;return ll=0,s}function gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?lt.memoizedState=Ot=s:Ot=Ot.next=s,Ot}function Dn(){if(Rt===null){var s=lt.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var i=Ot===null?lt.memoizedState:Ot.next;if(i!==null)Ot=i,Rt=s;else{if(s===null)throw Error(t(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Ot===null?lt.memoizedState=Ot=s:Ot=Ot.next=s}return Ot}function ul(s,i){return typeof i=="function"?i(s):i}function Ld(s){var i=Dn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=Rt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var b=E=null,D=null,q=y;do{var te=q.lane;if((Ii&te)===te)D!==null&&(D=D.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:s(h,q.action);else{var ne={lane:te,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};D===null?(b=D=ne,E=h):D=D.next=ne,lt.lanes|=te,Si|=te}q=q.next}while(q!==null&&q!==y);D===null?E=h:D.next=b,Jn(h,i.memoizedState)||(hn=!0),i.memoizedState=h,i.baseState=E,i.baseQueue=D,l.lastRenderedState=h}if(s=l.interleaved,s!==null){p=s;do y=p.lane,lt.lanes|=y,Si|=y,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Vd(s){var i=Dn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=s(y,E.action),E=E.next;while(E!==p);Jn(y,i.memoizedState)||(hn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,h]}function Ag(){}function Cg(s,i){var l=lt,h=Dn(),p=i(),y=!Jn(h.memoizedState,p);if(y&&(h.memoizedState=p,hn=!0),h=h.queue,Md(Ng.bind(null,l,h,s),[s]),h.getSnapshot!==i||y||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,cl(9,Pg.bind(null,l,h,p,i),void 0,null),Dt===null)throw Error(t(349));(Ii&30)!==0||kg(l,i,p)}return p}function kg(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=lt.updateQueue,i===null?(i={lastEffect:null,stores:null},lt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Pg(s,i,l,h){i.value=l,i.getSnapshot=h,Og(i)&&Dg(s)}function Ng(s,i,l){return l(function(){Og(i)&&Dg(s)})}function Og(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Jn(s,l)}catch{return!0}}function Dg(s){var i=qr(s,1);i!==null&&tr(i,s,1,-1)}function Lg(s){var i=gr();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:s},i.queue=s,s=s.dispatch=$I.bind(null,lt,s),[i.memoizedState,s]}function cl(s,i,l,h){return s={tag:s,create:i,destroy:l,deps:h,next:null},i=lt.updateQueue,i===null?(i={lastEffect:null,stores:null},lt.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,i.lastEffect=s)),s}function Vg(){return Dn().memoizedState}function Ju(s,i,l,h){var p=gr();lt.flags|=s,p.memoizedState=cl(1|i,l,void 0,h===void 0?null:h)}function Xu(s,i,l,h){var p=Dn();h=h===void 0?null:h;var y=void 0;if(Rt!==null){var E=Rt.memoizedState;if(y=E.destroy,h!==null&&Nd(h,E.deps)){p.memoizedState=cl(i,l,y,h);return}}lt.flags|=s,p.memoizedState=cl(1|i,l,y,h)}function Mg(s,i){return Ju(8390656,8,s,i)}function Md(s,i){return Xu(2048,8,s,i)}function Fg(s,i){return Xu(4,2,s,i)}function jg(s,i){return Xu(4,4,s,i)}function Ug(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function zg(s,i,l){return l=l!=null?l.concat([s]):null,Xu(4,4,Ug.bind(null,i,s),l)}function Fd(){}function Bg(s,i){var l=Dn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Nd(i,h[1])?h[0]:(l.memoizedState=[s,i],s)}function $g(s,i){var l=Dn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Nd(i,h[1])?h[0]:(s=s(),l.memoizedState=[s,i],s)}function qg(s,i,l){return(Ii&21)===0?(s.baseState&&(s.baseState=!1,hn=!0),s.memoizedState=l):(Jn(l,i)||(l=di(),lt.lanes|=l,Si|=l,s.baseState=!0),i)}function zI(s,i){var l=Ue;Ue=l!==0&&4>l?l:4,s(!0);var h=Pd.transition;Pd.transition={};try{s(!1),i()}finally{Ue=l,Pd.transition=h}}function Hg(){return Dn().memoizedState}function BI(s,i,l){var h=Ss(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Wg(s))Kg(i,l);else if(l=Ig(s,i,l,h),l!==null){var p=nn();tr(l,s,h,p),Gg(l,i,h)}}function $I(s,i,l){var h=Ss(s),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wg(s))Kg(i,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,b=y(E,l);if(p.hasEagerState=!0,p.eagerState=b,Jn(b,E)){var D=i.interleaved;D===null?(p.next=p,xd(i)):(p.next=D.next,D.next=p),i.interleaved=p;return}}catch{}finally{}l=Ig(s,i,p,h),l!==null&&(p=nn(),tr(l,s,h,p),Gg(l,i,h))}}function Wg(s){var i=s.alternate;return s===lt||i!==null&&i===lt}function Kg(s,i){al=Qu=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Gg(s,i,l){if((l&4194240)!==0){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,us(s,l)}}var Yu={readContext:On,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},qI={readContext:On,useCallback:function(s,i){return gr().memoizedState=[s,i===void 0?null:i],s},useContext:On,useEffect:Mg,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,Ju(4194308,4,Ug.bind(null,i,s),l)},useLayoutEffect:function(s,i){return Ju(4194308,4,s,i)},useInsertionEffect:function(s,i){return Ju(4,2,s,i)},useMemo:function(s,i){var l=gr();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var h=gr();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},h.queue=s,s=s.dispatch=BI.bind(null,lt,s),[h.memoizedState,s]},useRef:function(s){var i=gr();return s={current:s},i.memoizedState=s},useState:Lg,useDebugValue:Fd,useDeferredValue:function(s){return gr().memoizedState=s},useTransition:function(){var s=Lg(!1),i=s[0];return s=zI.bind(null,s[1]),gr().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var h=lt,p=gr();if(st){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),Dt===null)throw Error(t(349));(Ii&30)!==0||kg(h,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,Mg(Ng.bind(null,h,y,s),[s]),h.flags|=2048,cl(9,Pg.bind(null,h,y,l,i),void 0,null),l},useId:function(){var s=gr(),i=Dt.identifierPrefix;if(st){var l=$r,h=Br;l=(h&~(1<<32-Zt(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=ll++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=UI++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},HI={readContext:On,useCallback:Bg,useContext:On,useEffect:Md,useImperativeHandle:zg,useInsertionEffect:Fg,useLayoutEffect:jg,useMemo:$g,useReducer:Ld,useRef:Vg,useState:function(){return Ld(ul)},useDebugValue:Fd,useDeferredValue:function(s){var i=Dn();return qg(i,Rt.memoizedState,s)},useTransition:function(){var s=Ld(ul)[0],i=Dn().memoizedState;return[s,i]},useMutableSource:Ag,useSyncExternalStore:Cg,useId:Hg,unstable_isNewReconciler:!1},WI={readContext:On,useCallback:Bg,useContext:On,useEffect:Md,useImperativeHandle:zg,useInsertionEffect:Fg,useLayoutEffect:jg,useMemo:$g,useReducer:Vd,useRef:Vg,useState:function(){return Vd(ul)},useDebugValue:Fd,useDeferredValue:function(s){var i=Dn();return Rt===null?i.memoizedState=s:qg(i,Rt.memoizedState,s)},useTransition:function(){var s=Vd(ul)[0],i=Dn().memoizedState;return[s,i]},useMutableSource:Ag,useSyncExternalStore:Cg,useId:Hg,unstable_isNewReconciler:!1};function Yn(s,i){if(s&&s.defaultProps){i=ae({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function jd(s,i,l,h){i=s.memoizedState,l=l(h,i),l=l==null?i:ae({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Zu={isMounted:function(s){return(s=s._reactInternals)?$n(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var h=nn(),p=Ss(s),y=Hr(h,p);y.payload=i,l!=null&&(y.callback=l),i=ws(s,y,p),i!==null&&(tr(i,s,p,h),Hu(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var h=nn(),p=Ss(s),y=Hr(h,p);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=ws(s,y,p),i!==null&&(tr(i,s,p,h),Hu(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=nn(),h=Ss(s),p=Hr(l,h);p.tag=2,i!=null&&(p.callback=i),i=ws(s,p,h),i!==null&&(tr(i,s,h,l),Hu(i,s,h))}};function Qg(s,i,l,h,p,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,E):i.prototype&&i.prototype.isPureReactComponent?!Ja(l,h)||!Ja(p,y):!0}function Jg(s,i,l){var h=!1,p=ys,y=i.contextType;return typeof y=="object"&&y!==null?y=On(y):(p=cn(i)?vi:$t.current,h=i.contextTypes,y=(h=h!=null)?Co(s,p):ys),i=new i(l,y),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Zu,s.stateNode=i,i._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=y),i}function Xg(s,i,l,h){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==s&&Zu.enqueueReplaceState(i,i.state,null)}function Ud(s,i,l,h){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},Rd(s);var y=i.contextType;typeof y=="object"&&y!==null?p.context=On(y):(y=cn(i)?vi:$t.current,p.context=Co(s,y)),p.state=s.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(jd(s,i,y,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Zu.enqueueReplaceState(p,p.state,null),Wu(s,l,p,h),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function Mo(s,i){try{var l="",h=i;do l+=Ae(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:i,stack:p,digest:null}}function zd(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function Bd(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var KI=typeof WeakMap=="function"?WeakMap:Map;function Yg(s,i,l){l=Hr(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){oc||(oc=!0,rf=h),Bd(s,i)},l}function Zg(s,i,l){l=Hr(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=i.value;l.payload=function(){return h(p)},l.callback=function(){Bd(s,i)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Bd(s,i),typeof h!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),l}function ey(s,i,l){var h=s.pingCache;if(h===null){h=s.pingCache=new KI;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(l)||(p.add(l),s=aS.bind(null,s,i,l),i.then(s,s))}function ty(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function ny(s,i,l,h,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Hr(-1,1),i.tag=2,ws(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var GI=X.ReactCurrentOwner,hn=!1;function tn(s,i,l,h){i.child=s===null?Tg(i,null,l,h):Oo(i,s.child,l,h)}function ry(s,i,l,h,p){l=l.render;var y=i.ref;return Lo(i,p),h=Od(s,i,l,h,y,p),l=Dd(),s!==null&&!hn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,Wr(s,i,p)):(st&&l&&gd(i),i.flags|=1,tn(s,i,h,p),i.child)}function sy(s,i,l,h,p){if(s===null){var y=l.type;return typeof y=="function"&&!hf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,iy(s,i,y,h,p)):(s=dc(l.type,null,h,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,(s.lanes&p)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ja,l(E,h)&&s.ref===i.ref)return Wr(s,i,p)}return i.flags|=1,s=Rs(y,h),s.ref=i.ref,s.return=i,i.child=s}function iy(s,i,l,h,p){if(s!==null){var y=s.memoizedProps;if(Ja(y,h)&&s.ref===i.ref)if(hn=!1,i.pendingProps=h=y,(s.lanes&p)!==0)(s.flags&131072)!==0&&(hn=!0);else return i.lanes=s.lanes,Wr(s,i,p)}return $d(s,i,l,h,p)}function oy(s,i,l){var h=i.pendingProps,p=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(jo,Rn),Rn|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Ye(jo,Rn),Rn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ye(jo,Rn),Rn|=h}else y!==null?(h=y.baseLanes|l,i.memoizedState=null):h=l,Ye(jo,Rn),Rn|=h;return tn(s,i,p,l),i.child}function ay(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function $d(s,i,l,h,p){var y=cn(l)?vi:$t.current;return y=Co(i,y),Lo(i,p),l=Od(s,i,l,h,y,p),h=Dd(),s!==null&&!hn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,Wr(s,i,p)):(st&&h&&gd(i),i.flags|=1,tn(s,i,l,p),i.child)}function ly(s,i,l,h,p){if(cn(l)){var y=!0;Mu(i)}else y=!1;if(Lo(i,p),i.stateNode===null)tc(s,i),Jg(i,l,h),Ud(i,l,h,p),h=!0;else if(s===null){var E=i.stateNode,b=i.memoizedProps;E.props=b;var D=E.context,q=l.contextType;typeof q=="object"&&q!==null?q=On(q):(q=cn(l)?vi:$t.current,q=Co(i,q));var te=l.getDerivedStateFromProps,ne=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(b!==h||D!==q)&&Xg(i,E,h,q),_s=!1;var ee=i.memoizedState;E.state=ee,Wu(i,h,E,p),D=i.memoizedState,b!==h||ee!==D||un.current||_s?(typeof te=="function"&&(jd(i,l,te,h),D=i.memoizedState),(b=_s||Qg(i,l,b,h,ee,D,q))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=D),E.props=h,E.state=D,E.context=q,h=b):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{E=i.stateNode,Sg(s,i),b=i.memoizedProps,q=i.type===i.elementType?b:Yn(i.type,b),E.props=q,ne=i.pendingProps,ee=E.context,D=l.contextType,typeof D=="object"&&D!==null?D=On(D):(D=cn(l)?vi:$t.current,D=Co(i,D));var le=l.getDerivedStateFromProps;(te=typeof le=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(b!==ne||ee!==D)&&Xg(i,E,h,D),_s=!1,ee=i.memoizedState,E.state=ee,Wu(i,h,E,p);var pe=i.memoizedState;b!==ne||ee!==pe||un.current||_s?(typeof le=="function"&&(jd(i,l,le,h),pe=i.memoizedState),(q=_s||Qg(i,l,q,h,ee,pe,D)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,pe,D),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,pe,D)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||b===s.memoizedProps&&ee===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&ee===s.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=pe),E.props=h,E.state=pe,E.context=D,h=q):(typeof E.componentDidUpdate!="function"||b===s.memoizedProps&&ee===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&ee===s.memoizedState||(i.flags|=1024),h=!1)}return qd(s,i,l,h,y,p)}function qd(s,i,l,h,p,y){ay(s,i);var E=(i.flags&128)!==0;if(!h&&!E)return p&&fg(i,l,!1),Wr(s,i,y);h=i.stateNode,GI.current=i;var b=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,s!==null&&E?(i.child=Oo(i,s.child,null,y),i.child=Oo(i,null,b,y)):tn(s,i,b,y),i.memoizedState=h.state,p&&fg(i,l,!0),i.child}function uy(s){var i=s.stateNode;i.pendingContext?hg(s,i.pendingContext,i.pendingContext!==i.context):i.context&&hg(s,i.context,!1),bd(s,i.containerInfo)}function cy(s,i,l,h,p){return No(),wd(p),i.flags|=256,tn(s,i,l,h),i.child}var Hd={dehydrated:null,treeContext:null,retryLane:0};function Wd(s){return{baseLanes:s,cachePool:null,transitions:null}}function hy(s,i,l){var h=i.pendingProps,p=at.current,y=!1,E=(i.flags&128)!==0,b;if((b=E)||(b=s!==null&&s.memoizedState===null?!1:(p&2)!==0),b?(y=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Ye(at,p&1),s===null)return _d(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=h.children,s=h.fallback,y?(h=i.mode,y=i.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=fc(E,h,0,null),s=Ai(s,h,l,null),y.return=i,s.return=i,y.sibling=s,i.child=y,i.child.memoizedState=Wd(l),i.memoizedState=Hd,s):Kd(i,E));if(p=s.memoizedState,p!==null&&(b=p.dehydrated,b!==null))return QI(s,i,E,h,b,p,l);if(y){y=h.fallback,E=i.mode,p=s.child,b=p.sibling;var D={mode:"hidden",children:h.children};return(E&1)===0&&i.child!==p?(h=i.child,h.childLanes=0,h.pendingProps=D,i.deletions=null):(h=Rs(p,D),h.subtreeFlags=p.subtreeFlags&14680064),b!==null?y=Rs(b,y):(y=Ai(y,E,l,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,E=s.child.memoizedState,E=E===null?Wd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=s.childLanes&~l,i.memoizedState=Hd,h}return y=s.child,s=y.sibling,h=Rs(y,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=h,i.memoizedState=null,h}function Kd(s,i){return i=fc({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function ec(s,i,l,h){return h!==null&&wd(h),Oo(i,s.child,null,l),s=Kd(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function QI(s,i,l,h,p,y,E){if(l)return i.flags&256?(i.flags&=-257,h=zd(Error(t(422))),ec(s,i,E,h)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(y=h.fallback,p=i.mode,h=fc({mode:"visible",children:h.children},p,0,null),y=Ai(y,p,E,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,(i.mode&1)!==0&&Oo(i,s.child,null,E),i.child.memoizedState=Wd(E),i.memoizedState=Hd,y);if((i.mode&1)===0)return ec(s,i,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var b=h.dgst;return h=b,y=Error(t(419)),h=zd(y,h,void 0),ec(s,i,E,h)}if(b=(E&s.childLanes)!==0,hn||b){if(h=Dt,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,qr(s,p),tr(h,s,p,-1))}return cf(),h=zd(Error(t(421))),ec(s,i,E,h)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=lS.bind(null,s),p._reactRetry=i,null):(s=y.treeContext,xn=ms(p.nextSibling),Sn=i,st=!0,Xn=null,s!==null&&(Pn[Nn++]=Br,Pn[Nn++]=$r,Pn[Nn++]=_i,Br=s.id,$r=s.overflow,_i=i),i=Kd(i,h.children),i.flags|=4096,i)}function dy(s,i,l){s.lanes|=i;var h=s.alternate;h!==null&&(h.lanes|=i),Sd(s.return,i,l)}function Gd(s,i,l,h,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function fy(s,i,l){var h=i.pendingProps,p=h.revealOrder,y=h.tail;if(tn(s,i,h.children,l),h=at.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&dy(s,l,i);else if(s.tag===19)dy(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Ye(at,h),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&Ku(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Gd(i,!1,p,l,y);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&Ku(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Gd(i,!0,l,null,y);break;case"together":Gd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function tc(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Wr(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Si|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,l=Rs(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Rs(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function JI(s,i,l){switch(i.tag){case 3:uy(i),No();break;case 5:bg(i);break;case 1:cn(i.type)&&Mu(i);break;case 4:bd(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,p=i.memoizedProps.value;Ye($u,h._currentValue),h._currentValue=p;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Ye(at,at.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?hy(s,i,l):(Ye(at,at.current&1),s=Wr(s,i,l),s!==null?s.sibling:null);Ye(at,at.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(s.flags&128)!==0){if(h)return fy(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ye(at,at.current),h)break;return null;case 22:case 23:return i.lanes=0,oy(s,i,l)}return Wr(s,i,l)}var py,Qd,my,gy;py=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Qd=function(){},my=function(s,i,l,h){var p=s.memoizedProps;if(p!==h){s=i.stateNode,Ti(mr.current);var y=null;switch(l){case"input":p=ti(s,p),h=ti(s,h),y=[];break;case"select":p=ae({},p,{value:void 0}),h=ae({},h,{value:void 0}),y=[];break;case"textarea":p=xa(s,p),h=xa(s,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Du)}Pa(l,h);var E;l=null;for(q in p)if(!h.hasOwnProperty(q)&&p.hasOwnProperty(q)&&p[q]!=null)if(q==="style"){var b=p[q];for(E in b)b.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?y||(y=[]):(y=y||[]).push(q,null));for(q in h){var D=h[q];if(b=p?.[q],h.hasOwnProperty(q)&&D!==b&&(D!=null||b!=null))if(q==="style")if(b){for(E in b)!b.hasOwnProperty(E)||D&&D.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in D)D.hasOwnProperty(E)&&b[E]!==D[E]&&(l||(l={}),l[E]=D[E])}else l||(y||(y=[]),y.push(q,l)),l=D;else q==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,b=b?b.__html:void 0,D!=null&&b!==D&&(y=y||[]).push(q,D)):q==="children"?typeof D!="string"&&typeof D!="number"||(y=y||[]).push(q,""+D):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(D!=null&&q==="onScroll"&&et("scroll",s),y||b===D||(y=[])):(y=y||[]).push(q,D))}l&&(y=y||[]).push("style",l);var q=y;(i.updateQueue=q)&&(i.flags|=4)}},gy=function(s,i,l,h){l!==h&&(i.flags|=4)};function hl(s,i){if(!st)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Ht(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=l,i}function XI(s,i,l){var h=i.pendingProps;switch(yd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(i),null;case 1:return cn(i.type)&&Vu(),Ht(i),null;case 3:return h=i.stateNode,Vo(),tt(un),tt($t),kd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(zu(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Xn!==null&&(af(Xn),Xn=null))),Qd(s,i),Ht(i),null;case 5:Ad(i);var p=Ti(ol.current);if(l=i.type,s!==null&&i.stateNode!=null)my(s,i,l,h,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Ht(i),null}if(s=Ti(mr.current),zu(i)){h=i.stateNode,l=i.type;var y=i.memoizedProps;switch(h[pr]=i,h[tl]=y,s=(i.mode&1)!==0,l){case"dialog":et("cancel",h),et("close",h);break;case"iframe":case"object":case"embed":et("load",h);break;case"video":case"audio":for(p=0;p<Ya.length;p++)et(Ya[p],h);break;case"source":et("error",h);break;case"img":case"image":case"link":et("error",h),et("load",h);break;case"details":et("toggle",h);break;case"input":Ji(h,y),et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},et("invalid",h);break;case"textarea":Yi(h,y),et("invalid",h)}Pa(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var b=y[E];E==="children"?typeof b=="string"?h.textContent!==b&&(y.suppressHydrationWarning!==!0&&Ou(h.textContent,b,s),p=["children",b]):typeof b=="number"&&h.textContent!==""+b&&(y.suppressHydrationWarning!==!0&&Ou(h.textContent,b,s),p=["children",""+b]):o.hasOwnProperty(E)&&b!=null&&E==="onScroll"&&et("scroll",h)}switch(l){case"input":_n(h),iu(h,y,!0);break;case"textarea":_n(h),Ra(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Du)}h=p,i.updateQueue=h,h!==null&&(i.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=It(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=E.createElement(l,{is:h.is}):(s=E.createElement(l),l==="select"&&(E=s,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):s=E.createElementNS(s,l),s[pr]=i,s[tl]=h,py(s,i,!1,!1),i.stateNode=s;e:{switch(E=Na(l,h),l){case"dialog":et("cancel",s),et("close",s),p=h;break;case"iframe":case"object":case"embed":et("load",s),p=h;break;case"video":case"audio":for(p=0;p<Ya.length;p++)et(Ya[p],s);p=h;break;case"source":et("error",s),p=h;break;case"img":case"image":case"link":et("error",s),et("load",s),p=h;break;case"details":et("toggle",s),p=h;break;case"input":Ji(s,h),p=ti(s,h),et("invalid",s);break;case"option":p=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},p=ae({},h,{value:void 0}),et("invalid",s);break;case"textarea":Yi(s,h),p=xa(s,h),et("invalid",s);break;default:p=h}Pa(l,p),b=p;for(y in b)if(b.hasOwnProperty(y)){var D=b[y];y==="style"?Ca(s,D):y==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&ba(s,D)):y==="children"?typeof D=="string"?(l!=="textarea"||D!=="")&&ss(s,D):typeof D=="number"&&ss(s,""+D):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?D!=null&&y==="onScroll"&&et("scroll",s):D!=null&&J(s,y,D,E))}switch(l){case"input":_n(s),iu(s,h,!1);break;case"textarea":_n(s),Ra(s);break;case"option":h.value!=null&&s.setAttribute("value",""+ze(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?Nr(s,!!h.multiple,y,!1):h.defaultValue!=null&&Nr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Du)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ht(i),null;case 6:if(s&&i.stateNode!=null)gy(s,i,s.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(l=Ti(ol.current),Ti(mr.current),zu(i)){if(h=i.stateNode,l=i.memoizedProps,h[pr]=i,(y=h.nodeValue!==l)&&(s=Sn,s!==null))switch(s.tag){case 3:Ou(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ou(h.nodeValue,l,(s.mode&1)!==0)}y&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[pr]=i,i.stateNode=h}return Ht(i),null;case 13:if(tt(at),h=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(st&&xn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)_g(),No(),i.flags|=98560,y=!1;else if(y=zu(i),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[pr]=i}else No(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ht(i),y=!1}else Xn!==null&&(af(Xn),Xn=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(at.current&1)!==0?bt===0&&(bt=3):cf())),i.updateQueue!==null&&(i.flags|=4),Ht(i),null);case 4:return Vo(),Qd(s,i),s===null&&Za(i.stateNode.containerInfo),Ht(i),null;case 10:return Id(i.type._context),Ht(i),null;case 17:return cn(i.type)&&Vu(),Ht(i),null;case 19:if(tt(at),y=i.memoizedState,y===null)return Ht(i),null;if(h=(i.flags&128)!==0,E=y.rendering,E===null)if(h)hl(y,!1);else{if(bt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(E=Ku(s),E!==null){for(i.flags|=128,hl(y,!1),h=E.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)y=l,s=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,s=E.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Ye(at,at.current&1|2),i.child}s=s.sibling}y.tail!==null&&Xe()>Uo&&(i.flags|=128,h=!0,hl(y,!1),i.lanes=4194304)}else{if(!h)if(s=Ku(E),s!==null){if(i.flags|=128,h=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),hl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!st)return Ht(i),null}else 2*Xe()-y.renderingStartTime>Uo&&l!==1073741824&&(i.flags|=128,h=!0,hl(y,!1),i.lanes=4194304);y.isBackwards?(E.sibling=i.child,i.child=E):(l=y.last,l!==null?l.sibling=E:i.child=E,y.last=E)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Xe(),i.sibling=null,l=at.current,Ye(at,h?l&1|2:l&1),i):(Ht(i),null);case 22:case 23:return uf(),h=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Rn&1073741824)!==0&&(Ht(i),i.subtreeFlags&6&&(i.flags|=8192)):Ht(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function YI(s,i){switch(yd(i),i.tag){case 1:return cn(i.type)&&Vu(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Vo(),tt(un),tt($t),kd(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Ad(i),null;case 13:if(tt(at),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));No()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return tt(at),null;case 4:return Vo(),null;case 10:return Id(i.type._context),null;case 22:case 23:return uf(),null;case 24:return null;default:return null}}var nc=!1,Wt=!1,ZI=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Fo(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ht(s,i,h)}else l.current=null}function Jd(s,i,l){try{l()}catch(h){ht(s,i,h)}}var yy=!1;function eS(s,i){if(ld=ds,s=Qm(),ed(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,b=-1,D=-1,q=0,te=0,ne=s,ee=null;t:for(;;){for(var le;ne!==l||p!==0&&ne.nodeType!==3||(b=E+p),ne!==y||h!==0&&ne.nodeType!==3||(D=E+h),ne.nodeType===3&&(E+=ne.nodeValue.length),(le=ne.firstChild)!==null;)ee=ne,ne=le;for(;;){if(ne===s)break t;if(ee===l&&++q===p&&(b=E),ee===y&&++te===h&&(D=E),(le=ne.nextSibling)!==null)break;ne=ee,ee=ne.parentNode}ne=le}l=b===-1||D===-1?null:{start:b,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(ud={focusedElem:s,selectionRange:l},ds=!1,fe=i;fe!==null;)if(i=fe,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,fe=s;else for(;fe!==null;){i=fe;try{var pe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ye=pe.memoizedProps,ft=pe.memoizedState,B=i.stateNode,V=B.getSnapshotBeforeUpdate(i.elementType===i.type?ye:Yn(i.type,ye),ft);B.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var $=i.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ht(i,i.return,se)}if(s=i.sibling,s!==null){s.return=i.return,fe=s;break}fe=i.return}return pe=yy,yy=!1,pe}function dl(s,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&s)===s){var y=p.destroy;p.destroy=void 0,y!==void 0&&Jd(i,l,y)}p=p.next}while(p!==h)}}function rc(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function Xd(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function vy(s){var i=s.alternate;i!==null&&(s.alternate=null,vy(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[pr],delete i[tl],delete i[fd],delete i[VI],delete i[MI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function _y(s){return s.tag===5||s.tag===3||s.tag===4}function wy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||_y(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yd(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Du));else if(h!==4&&(s=s.child,s!==null))for(Yd(s,i,l),s=s.sibling;s!==null;)Yd(s,i,l),s=s.sibling}function Zd(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Zd(s,i,l),s=s.sibling;s!==null;)Zd(s,i,l),s=s.sibling}var jt=null,Zn=!1;function Es(s,i,l){for(l=l.child;l!==null;)Ey(s,i,l),l=l.sibling}function Ey(s,i,l){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(ci,l)}catch{}switch(l.tag){case 5:Wt||Fo(l,i);case 6:var h=jt,p=Zn;jt=null,Es(s,i,l),jt=h,Zn=p,jt!==null&&(Zn?(s=jt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):jt.removeChild(l.stateNode));break;case 18:jt!==null&&(Zn?(s=jt,l=l.stateNode,s.nodeType===8?dd(s.parentNode,l):s.nodeType===1&&dd(s,l),Gn(s)):dd(jt,l.stateNode));break;case 4:h=jt,p=Zn,jt=l.stateNode.containerInfo,Zn=!0,Es(s,i,l),jt=h,Zn=p;break;case 0:case 11:case 14:case 15:if(!Wt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Jd(l,i,E),p=p.next}while(p!==h)}Es(s,i,l);break;case 1:if(!Wt&&(Fo(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(b){ht(l,i,b)}Es(s,i,l);break;case 21:Es(s,i,l);break;case 22:l.mode&1?(Wt=(h=Wt)||l.memoizedState!==null,Es(s,i,l),Wt=h):Es(s,i,l);break;default:Es(s,i,l)}}function Ty(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new ZI),i.forEach(function(h){var p=uS.bind(null,s,h);l.has(h)||(l.add(h),h.then(p,p))})}}function er(s,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=s,E=i,b=E;e:for(;b!==null;){switch(b.tag){case 5:jt=b.stateNode,Zn=!1;break e;case 3:jt=b.stateNode.containerInfo,Zn=!0;break e;case 4:jt=b.stateNode.containerInfo,Zn=!0;break e}b=b.return}if(jt===null)throw Error(t(160));Ey(y,E,p),jt=null,Zn=!1;var D=p.alternate;D!==null&&(D.return=null),p.return=null}catch(q){ht(p,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Iy(i,s),i=i.sibling}function Iy(s,i){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(er(i,s),yr(s),h&4){try{dl(3,s,s.return),rc(3,s)}catch(ye){ht(s,s.return,ye)}try{dl(5,s,s.return)}catch(ye){ht(s,s.return,ye)}}break;case 1:er(i,s),yr(s),h&512&&l!==null&&Fo(l,l.return);break;case 5:if(er(i,s),yr(s),h&512&&l!==null&&Fo(l,l.return),s.flags&32){var p=s.stateNode;try{ss(p,"")}catch(ye){ht(s,s.return,ye)}}if(h&4&&(p=s.stateNode,p!=null)){var y=s.memoizedProps,E=l!==null?l.memoizedProps:y,b=s.type,D=s.updateQueue;if(s.updateQueue=null,D!==null)try{b==="input"&&y.type==="radio"&&y.name!=null&&Ia(p,y),Na(b,E);var q=Na(b,y);for(E=0;E<D.length;E+=2){var te=D[E],ne=D[E+1];te==="style"?Ca(p,ne):te==="dangerouslySetInnerHTML"?ba(p,ne):te==="children"?ss(p,ne):J(p,te,ne,q)}switch(b){case"input":Sa(p,y);break;case"textarea":Zi(p,y);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var le=y.value;le!=null?Nr(p,!!y.multiple,le,!1):ee!==!!y.multiple&&(y.defaultValue!=null?Nr(p,!!y.multiple,y.defaultValue,!0):Nr(p,!!y.multiple,y.multiple?[]:"",!1))}p[tl]=y}catch(ye){ht(s,s.return,ye)}}break;case 6:if(er(i,s),yr(s),h&4){if(s.stateNode===null)throw Error(t(162));p=s.stateNode,y=s.memoizedProps;try{p.nodeValue=y}catch(ye){ht(s,s.return,ye)}}break;case 3:if(er(i,s),yr(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Gn(i.containerInfo)}catch(ye){ht(s,s.return,ye)}break;case 4:er(i,s),yr(s);break;case 13:er(i,s),yr(s),p=s.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(nf=Xe())),h&4&&Ty(s);break;case 22:if(te=l!==null&&l.memoizedState!==null,s.mode&1?(Wt=(q=Wt)||te,er(i,s),Wt=q):er(i,s),yr(s),h&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!te&&(s.mode&1)!==0)for(fe=s,te=s.child;te!==null;){for(ne=fe=te;fe!==null;){switch(ee=fe,le=ee.child,ee.tag){case 0:case 11:case 14:case 15:dl(4,ee,ee.return);break;case 1:Fo(ee,ee.return);var pe=ee.stateNode;if(typeof pe.componentWillUnmount=="function"){h=ee,l=ee.return;try{i=h,pe.props=i.memoizedProps,pe.state=i.memoizedState,pe.componentWillUnmount()}catch(ye){ht(h,l,ye)}}break;case 5:Fo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Ry(ne);continue}}le!==null?(le.return=ee,fe=le):Ry(ne)}te=te.sibling}e:for(te=null,ne=s;;){if(ne.tag===5){if(te===null){te=ne;try{p=ne.stateNode,q?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(b=ne.stateNode,D=ne.memoizedProps.style,E=D!=null&&D.hasOwnProperty("display")?D.display:null,b.style.display=Aa("display",E))}catch(ye){ht(s,s.return,ye)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=q?"":ne.memoizedProps}catch(ye){ht(s,s.return,ye)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===s)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===s)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===s)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:er(i,s),yr(s),h&4&&Ty(s);break;case 21:break;default:er(i,s),yr(s)}}function yr(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(_y(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ss(p,""),h.flags&=-33);var y=wy(s);Zd(s,y,p);break;case 3:case 4:var E=h.stateNode.containerInfo,b=wy(s);Yd(s,b,E);break;default:throw Error(t(161))}}catch(D){ht(s,s.return,D)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function tS(s,i,l){fe=s,Sy(s)}function Sy(s,i,l){for(var h=(s.mode&1)!==0;fe!==null;){var p=fe,y=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||nc;if(!E){var b=p.alternate,D=b!==null&&b.memoizedState!==null||Wt;b=nc;var q=Wt;if(nc=E,(Wt=D)&&!q)for(fe=p;fe!==null;)E=fe,D=E.child,E.tag===22&&E.memoizedState!==null?by(p):D!==null?(D.return=E,fe=D):by(p);for(;y!==null;)fe=y,Sy(y),y=y.sibling;fe=p,nc=b,Wt=q}xy(s)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,fe=y):xy(s)}}function xy(s){for(;fe!==null;){var i=fe;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Wt||rc(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Wt)if(l===null)h.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:Yn(i.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Rg(i,y,h);break;case 3:var E=i.updateQueue;if(E!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Rg(i,E,l)}break;case 5:var b=i.stateNode;if(l===null&&i.flags&4){l=b;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&l.focus();break;case"img":D.src&&(l.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var te=q.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&Gn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||i.flags&512&&Xd(i)}catch(ee){ht(i,i.return,ee)}}if(i===s){fe=null;break}if(l=i.sibling,l!==null){l.return=i.return,fe=l;break}fe=i.return}}function Ry(s){for(;fe!==null;){var i=fe;if(i===s){fe=null;break}var l=i.sibling;if(l!==null){l.return=i.return,fe=l;break}fe=i.return}}function by(s){for(;fe!==null;){var i=fe;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{rc(4,i)}catch(D){ht(i,l,D)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var p=i.return;try{h.componentDidMount()}catch(D){ht(i,p,D)}}var y=i.return;try{Xd(i)}catch(D){ht(i,y,D)}break;case 5:var E=i.return;try{Xd(i)}catch(D){ht(i,E,D)}}}catch(D){ht(i,i.return,D)}if(i===s){fe=null;break}var b=i.sibling;if(b!==null){b.return=i.return,fe=b;break}fe=i.return}}var nS=Math.ceil,sc=X.ReactCurrentDispatcher,ef=X.ReactCurrentOwner,Ln=X.ReactCurrentBatchConfig,He=0,Dt=null,_t=null,Ut=0,Rn=0,jo=gs(0),bt=0,fl=null,Si=0,ic=0,tf=0,pl=null,dn=null,nf=0,Uo=1/0,Kr=null,oc=!1,rf=null,Ts=null,ac=!1,Is=null,lc=0,ml=0,sf=null,uc=-1,cc=0;function nn(){return(He&6)!==0?Xe():uc!==-1?uc:uc=Xe()}function Ss(s){return(s.mode&1)===0?1:(He&2)!==0&&Ut!==0?Ut&-Ut:jI.transition!==null?(cc===0&&(cc=di()),cc):(s=Ue,s!==0||(s=window.event,s=s===void 0?16:$a(s.type)),s)}function tr(s,i,l,h){if(50<ml)throw ml=0,sf=null,Error(t(185));ls(s,l,h),((He&2)===0||s!==Dt)&&(s===Dt&&((He&2)===0&&(ic|=l),bt===4&&xs(s,Ut)),fn(s,h),l===1&&He===0&&(i.mode&1)===0&&(Uo=Xe()+500,Fu&&vs()))}function fn(s,i){var l=s.callbackNode;Lr(s,i);var h=hi(s,s===Dt?Ut:0);if(h===0)l!==null&&Fa(l),s.callbackNode=null,s.callbackPriority=0;else if(i=h&-h,s.callbackPriority!==i){if(l!=null&&Fa(l),i===1)s.tag===0?FI(Cy.bind(null,s)):pg(Cy.bind(null,s)),DI(function(){(He&6)===0&&vs()}),l=null;else{switch(cs(h)){case 1:l=ui;break;case 4:l=is;break;case 16:l=An;break;case 536870912:l=cu;break;default:l=An}l=My(l,Ay.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function Ay(s,i){if(uc=-1,cc=0,(He&6)!==0)throw Error(t(327));var l=s.callbackNode;if(zo()&&s.callbackNode!==l)return null;var h=hi(s,s===Dt?Ut:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||i)i=hc(s,h);else{i=h;var p=He;He|=2;var y=Py();(Dt!==s||Ut!==i)&&(Kr=null,Uo=Xe()+500,Ri(s,i));do try{iS();break}catch(b){ky(s,b)}while(!0);Td(),sc.current=y,He=p,_t!==null?i=0:(Dt=null,Ut=0,i=bt)}if(i!==0){if(i===2&&(p=En(s),p!==0&&(h=p,i=of(s,p))),i===1)throw l=fl,Ri(s,0),xs(s,h),fn(s,Xe()),l;if(i===6)xs(s,h);else{if(p=s.current.alternate,(h&30)===0&&!rS(p)&&(i=hc(s,h),i===2&&(y=En(s),y!==0&&(h=y,i=of(s,y))),i===1))throw l=fl,Ri(s,0),xs(s,h),fn(s,Xe()),l;switch(s.finishedWork=p,s.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:bi(s,dn,Kr);break;case 3:if(xs(s,h),(h&130023424)===h&&(i=nf+500-Xe(),10<i)){if(hi(s,0)!==0)break;if(p=s.suspendedLanes,(p&h)!==h){nn(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=hd(bi.bind(null,s,dn,Kr),i);break}bi(s,dn,Kr);break;case 4:if(xs(s,h),(h&4194240)===h)break;for(i=s.eventTimes,p=-1;0<h;){var E=31-Zt(h);y=1<<E,E=i[E],E>p&&(p=E),h&=~y}if(h=p,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*nS(h/1960))-h,10<h){s.timeoutHandle=hd(bi.bind(null,s,dn,Kr),h);break}bi(s,dn,Kr);break;case 5:bi(s,dn,Kr);break;default:throw Error(t(329))}}}return fn(s,Xe()),s.callbackNode===l?Ay.bind(null,s):null}function of(s,i){var l=pl;return s.current.memoizedState.isDehydrated&&(Ri(s,i).flags|=256),s=hc(s,i),s!==2&&(i=dn,dn=l,i!==null&&af(i)),s}function af(s){dn===null?dn=s:dn.push.apply(dn,s)}function rS(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Jn(y(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xs(s,i){for(i&=~tf,i&=~ic,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-Zt(i),h=1<<l;s[l]=-1,i&=~h}}function Cy(s){if((He&6)!==0)throw Error(t(327));zo();var i=hi(s,0);if((i&1)===0)return fn(s,Xe()),null;var l=hc(s,i);if(s.tag!==0&&l===2){var h=En(s);h!==0&&(i=h,l=of(s,h))}if(l===1)throw l=fl,Ri(s,0),xs(s,i),fn(s,Xe()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,bi(s,dn,Kr),fn(s,Xe()),null}function lf(s,i){var l=He;He|=1;try{return s(i)}finally{He=l,He===0&&(Uo=Xe()+500,Fu&&vs())}}function xi(s){Is!==null&&Is.tag===0&&(He&6)===0&&zo();var i=He;He|=1;var l=Ln.transition,h=Ue;try{if(Ln.transition=null,Ue=1,s)return s()}finally{Ue=h,Ln.transition=l,He=i,(He&6)===0&&vs()}}function uf(){Rn=jo.current,tt(jo)}function Ri(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,OI(l)),_t!==null)for(l=_t.return;l!==null;){var h=l;switch(yd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Vu();break;case 3:Vo(),tt(un),tt($t),kd();break;case 5:Ad(h);break;case 4:Vo();break;case 13:tt(at);break;case 19:tt(at);break;case 10:Id(h.type._context);break;case 22:case 23:uf()}l=l.return}if(Dt=s,_t=s=Rs(s.current,null),Ut=Rn=i,bt=0,fl=null,tf=ic=Si=0,dn=pl=null,Ei!==null){for(i=0;i<Ei.length;i++)if(l=Ei[i],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,h.next=E}l.pending=h}Ei=null}return s}function ky(s,i){do{var l=_t;try{if(Td(),Gu.current=Yu,Qu){for(var h=lt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Qu=!1}if(Ii=0,Ot=Rt=lt=null,al=!1,ll=0,ef.current=null,l===null||l.return===null){bt=1,fl=i,_t=null;break}e:{var y=s,E=l.return,b=l,D=i;if(i=Ut,b.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var q=D,te=b,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var le=ty(E);if(le!==null){le.flags&=-257,ny(le,E,b,y,i),le.mode&1&&ey(y,q,i),i=le,D=q;var pe=i.updateQueue;if(pe===null){var ye=new Set;ye.add(D),i.updateQueue=ye}else pe.add(D);break e}else{if((i&1)===0){ey(y,q,i),cf();break e}D=Error(t(426))}}else if(st&&b.mode&1){var ft=ty(E);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),ny(ft,E,b,y,i),wd(Mo(D,b));break e}}y=D=Mo(D,b),bt!==4&&(bt=2),pl===null?pl=[y]:pl.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var B=Yg(y,D,i);xg(y,B);break e;case 1:b=D;var V=y.type,$=y.stateNode;if((y.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Ts===null||!Ts.has($)))){y.flags|=65536,i&=-i,y.lanes|=i;var se=Zg(y,b,i);xg(y,se);break e}}y=y.return}while(y!==null)}Oy(l)}catch(ve){i=ve,_t===l&&l!==null&&(_t=l=l.return);continue}break}while(!0)}function Py(){var s=sc.current;return sc.current=Yu,s===null?Yu:s}function cf(){(bt===0||bt===3||bt===2)&&(bt=4),Dt===null||(Si&268435455)===0&&(ic&268435455)===0||xs(Dt,Ut)}function hc(s,i){var l=He;He|=2;var h=Py();(Dt!==s||Ut!==i)&&(Kr=null,Ri(s,i));do try{sS();break}catch(p){ky(s,p)}while(!0);if(Td(),He=l,sc.current=h,_t!==null)throw Error(t(261));return Dt=null,Ut=0,bt}function sS(){for(;_t!==null;)Ny(_t)}function iS(){for(;_t!==null&&!lu();)Ny(_t)}function Ny(s){var i=Vy(s.alternate,s,Rn);s.memoizedProps=s.pendingProps,i===null?Oy(s):_t=i,ef.current=null}function Oy(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=XI(l,i,Rn),l!==null){_t=l;return}}else{if(l=YI(l,i),l!==null){l.flags&=32767,_t=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{bt=6,_t=null;return}}if(i=i.sibling,i!==null){_t=i;return}_t=i=s}while(i!==null);bt===0&&(bt=5)}function bi(s,i,l){var h=Ue,p=Ln.transition;try{Ln.transition=null,Ue=1,oS(s,i,l,h)}finally{Ln.transition=p,Ue=h}return null}function oS(s,i,l,h){do zo();while(Is!==null);if((He&6)!==0)throw Error(t(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(Je(s,y),s===Dt&&(_t=Dt=null,Ut=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ac||(ac=!0,My(An,function(){return zo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Ln.transition,Ln.transition=null;var E=Ue;Ue=1;var b=He;He|=4,ef.current=null,eS(s,l),Iy(l,s),RI(ud),ds=!!ld,ud=ld=null,s.current=l,tS(l),Wh(),He=b,Ue=E,Ln.transition=y}else s.current=l;if(ac&&(ac=!1,Is=s,lc=p),y=s.pendingLanes,y===0&&(Ts=null),hu(l.stateNode),fn(s,Xe()),i!==null)for(h=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(oc)throw oc=!1,s=rf,rf=null,s;return(lc&1)!==0&&s.tag!==0&&zo(),y=s.pendingLanes,(y&1)!==0?s===sf?ml++:(ml=0,sf=s):ml=0,vs(),null}function zo(){if(Is!==null){var s=cs(lc),i=Ln.transition,l=Ue;try{if(Ln.transition=null,Ue=16>s?16:s,Is===null)var h=!1;else{if(s=Is,Is=null,lc=0,(He&6)!==0)throw Error(t(331));var p=He;for(He|=4,fe=s.current;fe!==null;){var y=fe,E=y.child;if((fe.flags&16)!==0){var b=y.deletions;if(b!==null){for(var D=0;D<b.length;D++){var q=b[D];for(fe=q;fe!==null;){var te=fe;switch(te.tag){case 0:case 11:case 15:dl(8,te,y)}var ne=te.child;if(ne!==null)ne.return=te,fe=ne;else for(;fe!==null;){te=fe;var ee=te.sibling,le=te.return;if(vy(te),te===q){fe=null;break}if(ee!==null){ee.return=le,fe=ee;break}fe=le}}}var pe=y.alternate;if(pe!==null){var ye=pe.child;if(ye!==null){pe.child=null;do{var ft=ye.sibling;ye.sibling=null,ye=ft}while(ye!==null)}}fe=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,fe=E;else e:for(;fe!==null;){if(y=fe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:dl(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,fe=B;break e}fe=y.return}}var V=s.current;for(fe=V;fe!==null;){E=fe;var $=E.child;if((E.subtreeFlags&2064)!==0&&$!==null)$.return=E,fe=$;else e:for(E=V;fe!==null;){if(b=fe,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:rc(9,b)}}catch(ve){ht(b,b.return,ve)}if(b===E){fe=null;break e}var se=b.sibling;if(se!==null){se.return=b.return,fe=se;break e}fe=b.return}}if(He=p,vs(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(ci,s)}catch{}h=!0}return h}finally{Ue=l,Ln.transition=i}}return!1}function Dy(s,i,l){i=Mo(l,i),i=Yg(s,i,1),s=ws(s,i,1),i=nn(),s!==null&&(ls(s,1,i),fn(s,i))}function ht(s,i,l){if(s.tag===3)Dy(s,s,l);else for(;i!==null;){if(i.tag===3){Dy(i,s,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ts===null||!Ts.has(h))){s=Mo(l,s),s=Zg(i,s,1),i=ws(i,s,1),s=nn(),i!==null&&(ls(i,1,s),fn(i,s));break}}i=i.return}}function aS(s,i,l){var h=s.pingCache;h!==null&&h.delete(i),i=nn(),s.pingedLanes|=s.suspendedLanes&l,Dt===s&&(Ut&l)===l&&(bt===4||bt===3&&(Ut&130023424)===Ut&&500>Xe()-nf?Ri(s,0):tf|=l),fn(s,i)}function Ly(s,i){i===0&&((s.mode&1)===0?i=1:(i=uo,uo<<=1,(uo&130023424)===0&&(uo=4194304)));var l=nn();s=qr(s,i),s!==null&&(ls(s,i,l),fn(s,l))}function lS(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),Ly(s,l)}function uS(s,i){var l=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),Ly(s,l)}var Vy;Vy=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||un.current)hn=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return hn=!1,JI(s,i,l);hn=(s.flags&131072)!==0}else hn=!1,st&&(i.flags&1048576)!==0&&mg(i,Uu,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;tc(s,i),s=i.pendingProps;var p=Co(i,$t.current);Lo(i,l),p=Od(null,i,h,s,p,l);var y=Dd();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,cn(h)?(y=!0,Mu(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Rd(i),p.updater=Zu,i.stateNode=p,p._reactInternals=i,Ud(i,h,s,l),i=qd(null,i,h,!0,y,l)):(i.tag=0,st&&y&&gd(i),tn(null,i,p,l),i=i.child),i;case 16:h=i.elementType;e:{switch(tc(s,i),s=i.pendingProps,p=h._init,h=p(h._payload),i.type=h,p=i.tag=hS(h),s=Yn(h,s),p){case 0:i=$d(null,i,h,s,l);break e;case 1:i=ly(null,i,h,s,l);break e;case 11:i=ry(null,i,h,s,l);break e;case 14:i=sy(null,i,h,Yn(h.type,s),l);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Yn(h,p),$d(s,i,h,p,l);case 1:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Yn(h,p),ly(s,i,h,p,l);case 3:e:{if(uy(i),s===null)throw Error(t(387));h=i.pendingProps,y=i.memoizedState,p=y.element,Sg(s,i),Wu(i,h,null,l);var E=i.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=Mo(Error(t(423)),i),i=cy(s,i,h,l,p);break e}else if(h!==p){p=Mo(Error(t(424)),i),i=cy(s,i,h,l,p);break e}else for(xn=ms(i.stateNode.containerInfo.firstChild),Sn=i,st=!0,Xn=null,l=Tg(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(No(),h===p){i=Wr(s,i,l);break e}tn(s,i,h,l)}i=i.child}return i;case 5:return bg(i),s===null&&_d(i),h=i.type,p=i.pendingProps,y=s!==null?s.memoizedProps:null,E=p.children,cd(h,p)?E=null:y!==null&&cd(h,y)&&(i.flags|=32),ay(s,i),tn(s,i,E,l),i.child;case 6:return s===null&&_d(i),null;case 13:return hy(s,i,l);case 4:return bd(i,i.stateNode.containerInfo),h=i.pendingProps,s===null?i.child=Oo(i,null,h,l):tn(s,i,h,l),i.child;case 11:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Yn(h,p),ry(s,i,h,p,l);case 7:return tn(s,i,i.pendingProps,l),i.child;case 8:return tn(s,i,i.pendingProps.children,l),i.child;case 12:return tn(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,p=i.pendingProps,y=i.memoizedProps,E=p.value,Ye($u,h._currentValue),h._currentValue=E,y!==null)if(Jn(y.value,E)){if(y.children===p.children&&!un.current){i=Wr(s,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){E=y.child;for(var D=b.firstContext;D!==null;){if(D.context===h){if(y.tag===1){D=Hr(-1,l&-l),D.tag=2;var q=y.updateQueue;if(q!==null){q=q.shared;var te=q.pending;te===null?D.next=D:(D.next=te.next,te.next=D),q.pending=D}}y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),Sd(y.return,l,i),b.lanes|=l;break}D=D.next}}else if(y.tag===10)E=y.type===i.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,b=E.alternate,b!==null&&(b.lanes|=l),Sd(E,l,i),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===i){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}tn(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,h=i.pendingProps.children,Lo(i,l),p=On(p),h=h(p),i.flags|=1,tn(s,i,h,l),i.child;case 14:return h=i.type,p=Yn(h,i.pendingProps),p=Yn(h.type,p),sy(s,i,h,p,l);case 15:return iy(s,i,i.type,i.pendingProps,l);case 17:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Yn(h,p),tc(s,i),i.tag=1,cn(h)?(s=!0,Mu(i)):s=!1,Lo(i,l),Jg(i,h,p),Ud(i,h,p,l),qd(null,i,h,!0,s,l);case 19:return fy(s,i,l);case 22:return oy(s,i,l)}throw Error(t(156,i.tag))};function My(s,i){return ao(s,i)}function cS(s,i,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(s,i,l,h){return new cS(s,i,l,h)}function hf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hS(s){if(typeof s=="function")return hf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===Se)return 14}return 2}function Rs(s,i){var l=s.alternate;return l===null?(l=Vn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function dc(s,i,l,h,p,y){var E=2;if(h=s,typeof s=="function")hf(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case P:return Ai(l.children,p,y,i);case S:E=8,p|=8;break;case R:return s=Vn(12,l,i,p|2),s.elementType=R,s.lanes=y,s;case k:return s=Vn(13,l,i,p),s.elementType=k,s.lanes=y,s;case je:return s=Vn(19,l,i,p),s.elementType=je,s.lanes=y,s;case Oe:return fc(l,p,y,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:E=10;break e;case L:E=9;break e;case U:E=11;break e;case Se:E=14;break e;case Pe:E=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=Vn(E,l,i,p),i.elementType=s,i.type=h,i.lanes=y,i}function Ai(s,i,l,h){return s=Vn(7,s,h,i),s.lanes=l,s}function fc(s,i,l,h){return s=Vn(22,s,h,i),s.elementType=Oe,s.lanes=l,s.stateNode={isHidden:!1},s}function df(s,i,l){return s=Vn(6,s,null,i),s.lanes=l,s}function ff(s,i,l){return i=Vn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function dS(s,i,l,h,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=as(0),this.expirationTimes=as(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function pf(s,i,l,h,p,y,E,b,D){return s=new dS(s,i,l,b,D),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Vn(3,null,null,i),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rd(y),s}function fS(s,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:h==null?null:""+h,children:s,containerInfo:i,implementation:l}}function Fy(s){if(!s)return ys;s=s._reactInternals;e:{if($n(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(cn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(cn(l))return dg(s,l,i)}return i}function jy(s,i,l,h,p,y,E,b,D){return s=pf(l,h,!0,s,p,y,E,b,D),s.context=Fy(null),l=s.current,h=nn(),p=Ss(l),y=Hr(h,p),y.callback=i??null,ws(l,y,p),s.current.lanes=p,ls(s,p,h),fn(s,h),s}function pc(s,i,l,h){var p=i.current,y=nn(),E=Ss(p);return l=Fy(l),i.context===null?i.context=l:i.pendingContext=l,i=Hr(y,E),i.payload={element:s},h=h===void 0?null:h,h!==null&&(i.callback=h),s=ws(p,i,E),s!==null&&(tr(s,p,E,y),Hu(s,p,E)),E}function mc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Uy(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function mf(s,i){Uy(s,i),(s=s.alternate)&&Uy(s,i)}function pS(){return null}var zy=typeof reportError=="function"?reportError:function(s){console.error(s)};function gf(s){this._internalRoot=s}gc.prototype.render=gf.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));pc(s,i,null,null)},gc.prototype.unmount=gf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;xi(function(){pc(null,s,null,null)}),i[Ur]=null}};function gc(s){this._internalRoot=s}gc.prototype.unstable_scheduleHydration=function(s){if(s){var i=gu();s={blockedOn:null,target:s,priority:i};for(var l=0;l<cr.length&&i!==0&&i<cr[l].priority;l++);cr.splice(l,0,s),l===0&&_u(s)}};function yf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function yc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function By(){}function mS(s,i,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var q=mc(E);y.call(q)}}var E=jy(i,h,s,0,null,!1,!1,"",By);return s._reactRootContainer=E,s[Ur]=E.current,Za(s.nodeType===8?s.parentNode:s),xi(),E}for(;p=s.lastChild;)s.removeChild(p);if(typeof h=="function"){var b=h;h=function(){var q=mc(D);b.call(q)}}var D=pf(s,0,!1,null,null,!1,!1,"",By);return s._reactRootContainer=D,s[Ur]=D.current,Za(s.nodeType===8?s.parentNode:s),xi(function(){pc(i,D,l,h)}),D}function vc(s,i,l,h,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var b=p;p=function(){var D=mc(E);b.call(D)}}pc(i,E,s,p)}else E=mS(l,i,s,p,h);return mc(E)}pu=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=os(i.pendingLanes);l!==0&&(us(i,l|1),fn(i,Xe()),(He&6)===0&&(Uo=Xe()+500,vs()))}break;case 13:xi(function(){var h=qr(s,1);if(h!==null){var p=nn();tr(h,s,1,p)}}),mf(s,1)}},co=function(s){if(s.tag===13){var i=qr(s,134217728);if(i!==null){var l=nn();tr(i,s,134217728,l)}mf(s,134217728)}},mu=function(s){if(s.tag===13){var i=Ss(s),l=qr(s,i);if(l!==null){var h=nn();tr(l,s,i,h)}mf(s,i)}},gu=function(){return Ue},yu=function(s,i){var l=Ue;try{return Ue=s,i()}finally{Ue=l}},to=function(s,i,l){switch(i){case"input":if(Sa(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==s&&h.form===s.form){var p=Lu(h);if(!p)throw Error(t(90));Un(h),Sa(h,p)}}}break;case"textarea":Zi(s,l);break;case"select":i=l.value,i!=null&&Nr(s,!!l.multiple,i,!1)}},ii=lf,Da=xi;var gS={usingClientEntryPoint:!1,Events:[nl,bo,Lu,lr,Oa,lf]},gl={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yS={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ma(s),s===null?null:s.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||pS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{ci=_c.inject(yS),wn=_c}catch{}}return pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gS,pn.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yf(i))throw Error(t(200));return fS(s,i,null,l)},pn.createRoot=function(s,i){if(!yf(s))throw Error(t(299));var l=!1,h="",p=zy;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=pf(s,1,!1,null,null,l,!1,h,p),s[Ur]=i.current,Za(s.nodeType===8?s.parentNode:s),new gf(i)},pn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ma(i),s=s===null?null:s.stateNode,s},pn.flushSync=function(s){return xi(s)},pn.hydrate=function(s,i,l){if(!yc(i))throw Error(t(200));return vc(null,s,i,!0,l)},pn.hydrateRoot=function(s,i,l){if(!yf(s))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",E=zy;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),i=jy(i,null,s,1,l??null,p,!1,y,E),s[Ur]=i.current,Za(s),h)for(s=0;s<h.length;s++)l=h[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new gc(i)},pn.render=function(s,i,l){if(!yc(i))throw Error(t(200));return vc(null,s,i,!1,l)},pn.unmountComponentAtNode=function(s){if(!yc(s))throw Error(t(40));return s._reactRootContainer?(xi(function(){vc(null,null,s,!1,function(){s._reactRootContainer=null,s[Ur]=null})}),!0):!1},pn.unstable_batchedUpdates=lf,pn.unstable_renderSubtreeIntoContainer=function(s,i,l,h){if(!yc(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return vc(s,i,l,!1,h)},pn.version="18.3.1-next-f1338f8080-20240426",pn}var Jy;function C0(){if(Jy)return wf.exports;Jy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wf.exports=bS(),wf.exports}var Xy;function AS(){if(Xy)return wc;Xy=1;var n=C0();return wc.createRoot=n.createRoot,wc.hydrateRoot=n.hydrateRoot,wc}var CS=AS();C0();function Nl(){return Nl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Nl.apply(this,arguments)}var Ds;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ds||(Ds={}));const Yy="popstate";function kS(n){n===void 0&&(n={});function e(r,o){let{pathname:a,search:u,hash:d}=r.location;return Bf("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:qc(o)}return NS(e,t,null,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function k0(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PS(){return Math.random().toString(36).substr(2,8)}function Zy(n,e){return{usr:n.state,key:n.key,idx:e}}function Bf(n,e,t,r){return t===void 0&&(t=null),Nl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ua(e):e,{state:t,key:e&&e.key||r||PS()})}function qc(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ua(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function NS(n,e,t,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,d=Ds.Pop,f=null,m=v();m==null&&(m=0,u.replaceState(Nl({},u.state,{idx:m}),""));function v(){return(u.state||{idx:null}).idx}function w(){d=Ds.Pop;let A=v(),Y=A==null?null:A-m;m=A,f&&f({action:d,location:N.location,delta:Y})}function T(A,Y){d=Ds.Push;let Q=Bf(N.location,A,Y);m=v()+1;let J=Zy(Q,m),X=N.createHref(Q);try{u.pushState(J,"",X)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(X)}a&&f&&f({action:d,location:N.location,delta:1})}function M(A,Y){d=Ds.Replace;let Q=Bf(N.location,A,Y);m=v();let J=Zy(Q,m),X=N.createHref(Q);u.replaceState(J,"",X),a&&f&&f({action:d,location:N.location,delta:0})}function C(A){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof A=="string"?A:qc(A);return Q=Q.replace(/ $/,"%20"),ut(Y,"No window.location.(origin|href) available to create URL for href: "+Q),new URL(Q,Y)}let N={get action(){return d},get location(){return n(o,u)},listen(A){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Yy,w),f=A,()=>{o.removeEventListener(Yy,w),f=null}},createHref(A){return e(o,A)},createURL:C,encodeLocation(A){let Y=C(A);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:T,replace:M,go(A){return u.go(A)}};return N}var ev;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(ev||(ev={}));function OS(n,e,t){return t===void 0&&(t="/"),DS(n,e,t)}function DS(n,e,t,r){let o=typeof e=="string"?ua(e):e,a=ea(o.pathname||"/",t);if(a==null)return null;let u=P0(n);LS(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=WS(a);d=qS(u[f],m)}return d}function P0(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let o=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(ut(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=Ms([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),P0(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:BS(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let f of N0(a.path))o(a,u,f)}),e}function N0(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=N0(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function LS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:$S(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const VS=/^:[\w-]+$/,MS=3,FS=2,jS=1,US=10,zS=-2,tv=n=>n==="*";function BS(n,e){let t=n.split("/"),r=t.length;return t.some(tv)&&(r+=zS),e&&(r+=FS),t.filter(o=>!tv(o)).reduce((o,a)=>o+(VS.test(a)?MS:a===""?jS:US),r)}function $S(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function qS(n,e,t){let{routesMeta:r}=n,o={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=$f({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),T=f.route;if(!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:Ms([a,w.pathname]),pathnameBase:JS(Ms([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=Ms([a,w.pathnameBase]))}return u}function $f(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=HS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((m,v,w)=>{let{paramName:T,isOptional:M}=v;if(T==="*"){let N=d[w]||"";u=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const C=d[w];return M&&!C?m[T]=void 0:m[T]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function HS(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),k0(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function WS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return k0(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ea(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function KS(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?ua(n):n;return{pathname:t?t.startsWith("/")?t:GS(t,e):e,search:XS(r),hash:YS(o)}}function GS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function If(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Op(n,e){let t=QS(n);return e?t.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Dp(n,e,t,r){r===void 0&&(r=!1);let o;typeof n=="string"?o=ua(n):(o=Nl({},n),ut(!o.pathname||!o.pathname.includes("?"),If("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),If("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),If("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}d=w>=0?e[w]:"/"}let f=KS(o,d),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}const Ms=n=>n.join("/").replace(/\/\/+/g,"/"),JS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),XS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,YS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ZS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const O0=["post","put","patch","delete"];new Set(O0);const e1=["get",...O0];new Set(e1);function Ol(){return Ol=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ol.apply(this,arguments)}const gh=F.createContext(null),D0=F.createContext(null),es=F.createContext(null),yh=F.createContext(null),ts=F.createContext({outlet:null,matches:[],isDataRoute:!1}),L0=F.createContext(null);function t1(n,e){let{relative:t}=e===void 0?{}:e;ca()||ut(!1);let{basename:r,navigator:o}=F.useContext(es),{hash:a,pathname:u,search:d}=vh(n,{relative:t}),f=u;return r!=="/"&&(f=u==="/"?r:Ms([r,u])),o.createHref({pathname:f,search:d,hash:a})}function ca(){return F.useContext(yh)!=null}function ns(){return ca()||ut(!1),F.useContext(yh).location}function V0(n){F.useContext(es).static||F.useLayoutEffect(n)}function Hi(){let{isDataRoute:n}=F.useContext(ts);return n?g1():n1()}function n1(){ca()||ut(!1);let n=F.useContext(gh),{basename:e,future:t,navigator:r}=F.useContext(es),{matches:o}=F.useContext(ts),{pathname:a}=ns(),u=JSON.stringify(Op(o,t.v7_relativeSplatPath)),d=F.useRef(!1);return V0(()=>{d.current=!0}),F.useCallback(function(m,v){if(v===void 0&&(v={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let w=Dp(m,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ms([e,w.pathname])),(v.replace?r.replace:r.push)(w,v.state,v)},[e,r,u,a,n])}const r1=F.createContext(null);function s1(n){let e=F.useContext(ts).outlet;return e&&F.createElement(r1.Provider,{value:n},e)}function vh(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=F.useContext(es),{matches:o}=F.useContext(ts),{pathname:a}=ns(),u=JSON.stringify(Op(o,r.v7_relativeSplatPath));return F.useMemo(()=>Dp(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function i1(n,e){return o1(n,e)}function o1(n,e,t,r){ca()||ut(!1);let{navigator:o}=F.useContext(es),{matches:a}=F.useContext(ts),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let m=ns(),v;if(e){var w;let A=typeof e=="string"?ua(e):e;f==="/"||(w=A.pathname)!=null&&w.startsWith(f)||ut(!1),v=A}else v=m;let T=v.pathname||"/",M=T;if(f!=="/"){let A=f.replace(/^\//,"").split("/");M="/"+T.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=OS(n,{pathname:M}),N=h1(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:Ms([f,o.encodeLocation?o.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Ms([f,o.encodeLocation?o.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,t,r);return e&&N?F.createElement(yh.Provider,{value:{location:Ol({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Ds.Pop}},N):N}function a1(){let n=m1(),e=ZS(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,null)}const l1=F.createElement(a1,null);class u1 extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?F.createElement(ts.Provider,{value:this.props.routeContext},F.createElement(L0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c1(n){let{routeContext:e,match:t,children:r}=n,o=F.useContext(gh);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(ts.Provider,{value:e},r)}function h1(n,e,t,r){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let v=u.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);v>=0||ut(!1),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,m=-1;if(t&&r&&r.v7_partialHydration)for(let v=0;v<u.length;v++){let w=u[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:T,errors:M}=t,C=w.route.loader&&T[w.route.id]===void 0&&(!M||M[w.route.id]===void 0);if(w.route.lazy||C){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((v,w,T)=>{let M,C=!1,N=null,A=null;t&&(M=d&&w.route.id?d[w.route.id]:void 0,N=w.route.errorElement||l1,f&&(m<0&&T===0?(y1("route-fallback"),C=!0,A=null):m===T&&(C=!0,A=w.route.hydrateFallbackElement||null)));let Y=e.concat(u.slice(0,T+1)),Q=()=>{let J;return M?J=N:C?J=A:w.route.Component?J=F.createElement(w.route.Component,null):w.route.element?J=w.route.element:J=v,F.createElement(c1,{match:w,routeContext:{outlet:v,matches:Y,isDataRoute:t!=null},children:J})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?F.createElement(u1,{location:t.location,revalidation:t.revalidation,component:N,error:M,children:Q(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):Q()},null)}var M0=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(M0||{}),F0=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(F0||{});function d1(n){let e=F.useContext(gh);return e||ut(!1),e}function f1(n){let e=F.useContext(D0);return e||ut(!1),e}function p1(n){let e=F.useContext(ts);return e||ut(!1),e}function j0(n){let e=p1(),t=e.matches[e.matches.length-1];return t.route.id||ut(!1),t.route.id}function m1(){var n;let e=F.useContext(L0),t=f1(),r=j0();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function g1(){let{router:n}=d1(M0.UseNavigateStable),e=j0(F0.UseNavigateStable),t=F.useRef(!1);return V0(()=>{t.current=!0}),F.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Ol({fromRouteId:e},a)))},[n,e])}const nv={};function y1(n,e,t){nv[n]||(nv[n]=!0)}function v1(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function Lp(n){let{to:e,replace:t,state:r,relative:o}=n;ca()||ut(!1);let{future:a,static:u}=F.useContext(es),{matches:d}=F.useContext(ts),{pathname:f}=ns(),m=Hi(),v=Dp(e,Op(d,a.v7_relativeSplatPath),f,o==="path"),w=JSON.stringify(v);return F.useEffect(()=>m(JSON.parse(w),{replace:t,state:r,relative:o}),[m,w,o,t,r]),null}function _1(n){return s1(n.context)}function nt(n){ut(!1)}function w1(n){let{basename:e="/",children:t=null,location:r,navigationType:o=Ds.Pop,navigator:a,static:u=!1,future:d}=n;ca()&&ut(!1);let f=e.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:f,navigator:a,static:u,future:Ol({v7_relativeSplatPath:!1},d)}),[f,d,a,u]);typeof r=="string"&&(r=ua(r));let{pathname:v="/",search:w="",hash:T="",state:M=null,key:C="default"}=r,N=F.useMemo(()=>{let A=ea(v,f);return A==null?null:{location:{pathname:A,search:w,hash:T,state:M,key:C},navigationType:o}},[f,v,w,T,M,C,o]);return N==null?null:F.createElement(es.Provider,{value:m},F.createElement(yh.Provider,{children:t,value:N}))}function E1(n){let{children:e,location:t}=n;return i1(qf(e),t)}new Promise(()=>{});function qf(n,e){e===void 0&&(e=[]);let t=[];return F.Children.forEach(n,(r,o)=>{if(!F.isValidElement(r))return;let a=[...e,o];if(r.type===F.Fragment){t.push.apply(t,qf(r.props.children,a));return}r.type!==nt&&ut(!1),!r.props.index||!r.props.children||ut(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=qf(r.props.children,a)),t.push(u)}),t}function Hc(){return Hc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hc.apply(this,arguments)}function U0(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,a;for(a=0;a<r.length;a++)o=r[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function T1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function I1(n,e){return n.button===0&&(!e||e==="_self")&&!T1(n)}function Hf(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(o=>[t,o]):[[t,r]])},[]))}function S1(n,e){let t=Hf(n);return e&&e.forEach((r,o)=>{t.has(o)||e.getAll(o).forEach(a=>{t.append(o,a)})}),t}const x1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],R1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],b1="6";try{window.__reactRouterVersion=b1}catch{}const A1=F.createContext({isTransitioning:!1}),C1="startTransition",rv=SS[C1];function k1(n){let{basename:e,children:t,future:r,window:o}=n,a=F.useRef();a.current==null&&(a.current=kS({window:o,v5Compat:!0}));let u=a.current,[d,f]=F.useState({action:u.action,location:u.location}),{v7_startTransition:m}=r||{},v=F.useCallback(w=>{m&&rv?rv(()=>f(w)):f(w)},[f,m]);return F.useLayoutEffect(()=>u.listen(v),[u,v]),F.useEffect(()=>v1(r),[r]),F.createElement(w1,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:u,future:r})}const P1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O1=F.forwardRef(function(e,t){let{onClick:r,relative:o,reloadDocument:a,replace:u,state:d,target:f,to:m,preventScrollReset:v,viewTransition:w}=e,T=U0(e,x1),{basename:M}=F.useContext(es),C,N=!1;if(typeof m=="string"&&N1.test(m)&&(C=m,P1))try{let J=new URL(window.location.href),X=m.startsWith("//")?new URL(J.protocol+m):new URL(m),ue=ea(X.pathname,M);X.origin===J.origin&&ue!=null?m=ue+X.search+X.hash:N=!0}catch{}let A=t1(m,{relative:o}),Y=V1(m,{replace:u,state:d,target:f,preventScrollReset:v,relative:o,viewTransition:w});function Q(J){r&&r(J),J.defaultPrevented||Y(J)}return F.createElement("a",Hc({},T,{href:C||A,onClick:N||a?r:Q,ref:t,target:f}))}),D1=F.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:o=!1,className:a="",end:u=!1,style:d,to:f,viewTransition:m,children:v}=e,w=U0(e,R1),T=vh(f,{relative:w.relative}),M=ns(),C=F.useContext(D0),{navigator:N,basename:A}=F.useContext(es),Y=C!=null&&M1(T)&&m===!0,Q=N.encodeLocation?N.encodeLocation(T).pathname:T.pathname,J=M.pathname,X=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;o||(J=J.toLowerCase(),X=X?X.toLowerCase():null,Q=Q.toLowerCase()),X&&A&&(X=ea(X,A)||X);const ue=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let de=J===Q||!u&&J.startsWith(Q)&&J.charAt(ue)==="/",P=X!=null&&(X===Q||!u&&X.startsWith(Q)&&X.charAt(Q.length)==="/"),S={isActive:de,isPending:P,isTransitioning:Y},R=de?r:void 0,O;typeof a=="function"?O=a(S):O=[a,de?"active":null,P?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let L=typeof d=="function"?d(S):d;return F.createElement(O1,Hc({},w,{"aria-current":R,className:O,ref:t,style:L,to:f,viewTransition:m}),typeof v=="function"?v(S):v)});var Wf;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Wf||(Wf={}));var sv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(sv||(sv={}));function L1(n){let e=F.useContext(gh);return e||ut(!1),e}function V1(n,e){let{target:t,replace:r,state:o,preventScrollReset:a,relative:u,viewTransition:d}=e===void 0?{}:e,f=Hi(),m=ns(),v=vh(n,{relative:u});return F.useCallback(w=>{if(I1(w,t)){w.preventDefault();let T=r!==void 0?r:qc(m)===qc(v);f(n,{replace:T,state:o,preventScrollReset:a,relative:u,viewTransition:d})}},[m,f,v,r,o,t,n,a,u,d])}function zL(n){let e=F.useRef(Hf(n)),t=F.useRef(!1),r=ns(),o=F.useMemo(()=>S1(r.search,t.current?null:e.current),[r.search]),a=Hi(),u=F.useCallback((d,f)=>{const m=Hf(typeof d=="function"?d(o):d);t.current=!0,a("?"+m,f)},[a,o]);return[o,u]}function M1(n,e){e===void 0&&(e={});let t=F.useContext(A1);t==null&&ut(!1);let{basename:r}=L1(Wf.useViewTransitionState),o=vh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ea(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ea(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $f(o.pathname,u)!=null||$f(o.pathname,a)!=null}const F1="modulepreload",j1=function(n){return"/"+n},iv={},yt=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let f=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");o=f(t.map(m=>{if(m=j1(m),m in iv)return;iv[m]=!0;const v=m.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":F1,v||(T.as="script"),T.crossOrigin="",T.href=m,d&&T.setAttribute("nonce",d),document.head.appendChild(T),v)return new Promise((M,C)=>{T.addEventListener("load",M),T.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};var ha=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},U1={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},z1=class{#e=U1;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},Pi=new z1;function B1(n){setTimeout(n,0)}var Mi=typeof window>"u"||"Deno"in globalThis;function rn(){}function $1(n,e){return typeof n=="function"?n(e):n}function Kf(n){return typeof n=="number"&&n>=0&&n!==1/0}function z0(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Fs(n,e){return typeof n=="function"?n(e):n}function Mn(n,e){return typeof n=="function"?n(e):n}function ov(n,e){const{type:t="all",exact:r,fetchStatus:o,predicate:a,queryKey:u,stale:d}=n;if(u){if(r){if(e.queryHash!==Vp(u,e.options))return!1}else if(!Dl(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||a&&!a(e))}function av(n,e){const{exact:t,status:r,predicate:o,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(Fi(e.options.mutationKey)!==Fi(a))return!1}else if(!Dl(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function Vp(n,e){return(e?.queryKeyHashFn||Fi)(n)}function Fi(n){return JSON.stringify(n,(e,t)=>Gf(t)?Object.keys(t).sort().reduce((r,o)=>(r[o]=t[o],r),{}):t)}function Dl(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Dl(n[t],e[t])):!1}var q1=Object.prototype.hasOwnProperty;function B0(n,e){if(n===e)return n;const t=lv(n)&&lv(e);if(!t&&!(Gf(n)&&Gf(e)))return e;const o=(t?n:Object.keys(n)).length,a=t?e:Object.keys(e),u=a.length,d=t?new Array(u):{};let f=0;for(let m=0;m<u;m++){const v=t?m:a[m],w=n[v],T=e[v];if(w===T){d[v]=w,(t?m<o:q1.call(n,v))&&f++;continue}if(w===null||T===null||typeof w!="object"||typeof T!="object"){d[v]=T;continue}const M=B0(w,T);d[v]=M,M===w&&f++}return o===u&&f===o?n:d}function Wc(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function lv(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Gf(n){if(!uv(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!uv(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function uv(n){return Object.prototype.toString.call(n)==="[object Object]"}function H1(n){return new Promise(e=>{Pi.setTimeout(e,n)})}function Qf(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?B0(n,e):e}function W1(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function K1(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Mp=Symbol();function $0(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===Mp?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function q0(n,e){return typeof n=="function"?n(...e):!!n}var G1=class extends ha{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!Mi&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Fp=new G1;function Jf(){let n,e;const t=new Promise((o,a)=>{n=o,e=a});t.status="pending",t.catch(()=>{});function r(o){Object.assign(t,o),delete t.resolve,delete t.reject}return t.resolve=o=>{r({status:"fulfilled",value:o}),n(o)},t.reject=o=>{r({status:"rejected",reason:o}),e(o)},t}var Q1=B1;function J1(){let n=[],e=0,t=d=>{d()},r=d=>{d()},o=Q1;const a=d=>{e?n.push(d):o(()=>{t(d)})},u=()=>{const d=n;n=[],d.length&&o(()=>{r(()=>{d.forEach(f=>{t(f)})})})};return{batch:d=>{let f;e++;try{f=d()}finally{e--,e||u()}return f},batchCalls:d=>(...f)=>{a(()=>{d(...f)})},schedule:a,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{o=d}}}var Ct=J1(),X1=class extends ha{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!Mi&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},Kc=new X1;function Y1(n){return Math.min(1e3*2**n,3e4)}function H0(n){return(n??"online")==="online"?Kc.isOnline():!0}var Xf=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function W0(n){let e=!1,t=0,r;const o=Jf(),a=()=>o.status!=="pending",u=N=>{if(!a()){const A=new Xf(N);T(A),n.onCancel?.(A)}},d=()=>{e=!0},f=()=>{e=!1},m=()=>Fp.isFocused()&&(n.networkMode==="always"||Kc.isOnline())&&n.canRun(),v=()=>H0(n.networkMode)&&n.canRun(),w=N=>{a()||(r?.(),o.resolve(N))},T=N=>{a()||(r?.(),o.reject(N))},M=()=>new Promise(N=>{r=A=>{(a()||m())&&N(A)},n.onPause?.()}).then(()=>{r=void 0,a()||n.onContinue?.()}),C=()=>{if(a())return;let N;const A=t===0?n.initialPromise:void 0;try{N=A??n.fn()}catch(Y){N=Promise.reject(Y)}Promise.resolve(N).then(w).catch(Y=>{if(a())return;const Q=n.retry??(Mi?0:3),J=n.retryDelay??Y1,X=typeof J=="function"?J(t,Y):J,ue=Q===!0||typeof Q=="number"&&t<Q||typeof Q=="function"&&Q(t,Y);if(e||!ue){T(Y);return}t++,n.onFail?.(t,Y),H1(X).then(()=>m()?void 0:M()).then(()=>{e?T(Y):C()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(r?.(),o),cancelRetry:d,continueRetry:f,canStart:v,start:()=>(v()?C():M().then(C),o)}}var K0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kf(this.gcTime)&&(this.#e=Pi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Mi?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Pi.clearTimeout(this.#e),this.#e=void 0)}},Z1=class extends K0{#e;#t;#n;#s;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=hv(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=hv(this.options);t.data!==void 0&&(this.setState(cv(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=Qf(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(rn).catch(rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Mn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Fs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!z0(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},a=()=>{const f=$0(this.options,t),v=(()=>{const w={client:this.#s,queryKey:this.queryKey,meta:this.meta};return o(w),w})();return this.#a=!1,this.options.persister?this.options.persister(f,v,this):f(v)},d=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:a};return o(f),f})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#i({type:"fetch",meta:d.fetchOptions?.meta}),this.#r=W0({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:f=>{f instanceof Xf&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(f,m)=>{this.#i({type:"failed",failureCount:f,error:m})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Xf){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...G0(r.data,this.options),fetchMeta:e.meta??null};case"success":const o={...r,...cv(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?o:void 0,o;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Ct.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function G0(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:H0(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function cv(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function hv(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ex=class extends ha{constructor(n,e){super(),this.options=e,this.#e=n,this.#i=null,this.#a=Jf(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#o;#a;#i;#m;#d;#f;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),dv(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Yf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Yf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#E(),this.#t.removeObserver(this)}setOptions(n){const e=this.options,t=this.#t;if(this.options=this.#e.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#T(),this.#t.setOptions(this.options),e._defaulted&&!Wc(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&fv(this.#t,t,this.options,e)&&this.#h(),this.updateResult(),r&&(this.#t!==t||Mn(this.options.enabled,this.#t)!==Mn(e.enabled,this.#t)||Fs(this.options.staleTime,this.#t)!==Fs(e.staleTime,this.#t))&&this.#g();const o=this.#y();r&&(this.#t!==t||Mn(this.options.enabled,this.#t)!==Mn(e.enabled,this.#t)||o!==this.#l)&&this.#v(o)}getOptimisticResult(n){const e=this.#e.getQueryCache().build(this.#e,n),t=this.createResult(e,n);return nx(this,t)&&(this.#s=t,this.#o=this.options,this.#r=this.#t.state),t}getCurrentResult(){return this.#s}trackResult(n,e){return new Proxy(n,{get:(t,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(t,r))})}trackProp(n){this.#p.add(n)}getCurrentQuery(){return this.#t}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const e=this.#e.defaultQueryOptions(n),t=this.#e.getQueryCache().build(this.#e,e);return t.fetch().then(()=>this.createResult(t,e))}fetch(n){return this.#h({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(n){this.#T();let e=this.#t.fetch(this.options,n);return n?.throwOnError||(e=e.catch(rn)),e}#g(){this.#w();const n=Fs(this.options.staleTime,this.#t);if(Mi||this.#s.isStale||!Kf(n))return;const t=z0(this.#s.dataUpdatedAt,n)+1;this.#u=Pi.setTimeout(()=>{this.#s.isStale||this.updateResult()},t)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(n){this.#E(),this.#l=n,!(Mi||Mn(this.options.enabled,this.#t)===!1||!Kf(this.#l)||this.#l===0)&&(this.#c=Pi.setInterval(()=>{(this.options.refetchIntervalInBackground||Fp.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#v(this.#y())}#w(){this.#u&&(Pi.clearTimeout(this.#u),this.#u=void 0)}#E(){this.#c&&(Pi.clearInterval(this.#c),this.#c=void 0)}createResult(n,e){const t=this.#t,r=this.options,o=this.#s,a=this.#r,u=this.#o,f=n!==t?n.state:this.#n,{state:m}=n;let v={...m},w=!1,T;if(e._optimisticResults){const S=this.hasListeners(),R=!S&&dv(n,e),O=S&&fv(n,t,e,r);(R||O)&&(v={...v,...G0(m.data,n.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:M,errorUpdatedAt:C,status:N}=v;T=v.data;let A=!1;if(e.placeholderData!==void 0&&T===void 0&&N==="pending"){let S;o?.isPlaceholderData&&e.placeholderData===u?.placeholderData?(S=o.data,A=!0):S=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,S!==void 0&&(N="success",T=Qf(o?.data,S,e),w=!0)}if(e.select&&T!==void 0&&!A)if(o&&T===a?.data&&e.select===this.#m)T=this.#d;else try{this.#m=e.select,T=e.select(T),T=Qf(o?.data,T,e),this.#d=T,this.#i=null}catch(S){this.#i=S}this.#i&&(M=this.#i,T=this.#d,C=Date.now(),N="error");const Y=v.fetchStatus==="fetching",Q=N==="pending",J=N==="error",X=Q&&Y,ue=T!==void 0,P={status:N,fetchStatus:v.fetchStatus,isPending:Q,isSuccess:N==="success",isError:J,isInitialLoading:X,isLoading:X,data:T,dataUpdatedAt:v.dataUpdatedAt,error:M,errorUpdatedAt:C,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>f.dataUpdateCount||v.errorUpdateCount>f.errorUpdateCount,isFetching:Y,isRefetching:Y&&!Q,isLoadingError:J&&!ue,isPaused:v.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:J&&ue,isStale:jp(n,e),refetch:this.refetch,promise:this.#a,isEnabled:Mn(e.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const S=L=>{P.status==="error"?L.reject(P.error):P.data!==void 0&&L.resolve(P.data)},R=()=>{const L=this.#a=P.promise=Jf();S(L)},O=this.#a;switch(O.status){case"pending":n.queryHash===t.queryHash&&S(O);break;case"fulfilled":(P.status==="error"||P.data!==O.value)&&R();break;case"rejected":(P.status!=="error"||P.error!==O.reason)&&R();break}}return P}updateResult(){const n=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#f=this.#t),Wc(e,n))return;this.#s=e;const t=()=>{if(!n)return!0;const{notifyOnChangeProps:r}=this.options,o=typeof r=="function"?r():r;if(o==="all"||!o&&!this.#p.size)return!0;const a=new Set(o??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#s).some(u=>{const d=u;return this.#s[d]!==n[d]&&a.has(d)})};this.#I({listeners:t()})}#T(){const n=this.#e.getQueryCache().build(this.#e,this.options);if(n===this.#t)return;const e=this.#t;this.#t=n,this.#n=n.state,this.hasListeners()&&(e?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#I(n){Ct.batch(()=>{n.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function tx(n,e){return Mn(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function dv(n,e){return tx(n,e)||n.state.data!==void 0&&Yf(n,e,e.refetchOnMount)}function Yf(n,e,t){if(Mn(e.enabled,n)!==!1&&Fs(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&jp(n,e)}return!1}function fv(n,e,t,r){return(n!==e||Mn(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&jp(n,t)}function jp(n,e){return Mn(e.enabled,n)!==!1&&n.isStaleByTime(Fs(e.staleTime,n))}function nx(n,e){return!Wc(n.getCurrentResult(),e)}function pv(n){return{onFetch:(e,t)=>{const r=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const m=async()=>{let v=!1;const w=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},T=$0(e.options,e.fetchOptions),M=async(C,N,A)=>{if(v)return Promise.reject();if(N==null&&C.pages.length)return Promise.resolve(C);const Q=(()=>{const de={client:e.client,queryKey:e.queryKey,pageParam:N,direction:A?"backward":"forward",meta:e.options.meta};return w(de),de})(),J=await T(Q),{maxPages:X}=e.options,ue=A?K1:W1;return{pages:ue(C.pages,J,X),pageParams:ue(C.pageParams,N,X)}};if(o&&a.length){const C=o==="backward",N=C?rx:mv,A={pages:a,pageParams:u},Y=N(r,A);d=await M(A,Y,C)}else{const C=n??a.length;do{const N=f===0?u[0]??r.initialPageParam:mv(r,d);if(f>0&&N==null)break;d=await M(d,N),f++}while(f<C)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=m}}}function mv(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function rx(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var sx=class extends K0{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Q0(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=W0({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#r({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",a=!this.#s.canStart();try{if(o)t();else{this.#r({type:"pending",variables:e,isPaused:a}),await this.#n.config.onMutate?.(e,this,r);const d=await this.options.onMutate?.(e,r);d!==this.state.context&&this.#r({type:"pending",context:d,variables:e,isPaused:a})}const u=await this.#s.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#r({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,r),await this.options.onError?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,u,e,this.state.context,r),u}finally{this.#r({type:"error",error:u})}}finally{this.#n.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ct.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Q0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ix=class extends ha{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,t){const r=new sx({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(r),r}add(n){this.#e.add(n);const e=Ec(n);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=Ec(n);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const r=t.indexOf(n);r!==-1&&t.splice(r,1)}else t[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=Ec(n);if(typeof e=="string"){const r=this.#t.get(e)?.find(o=>o.state.status==="pending");return!r||r===n}else return!0}runNext(n){const e=Ec(n);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==n&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ct.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>av(e,t))}findAll(n={}){return this.getAll().filter(e=>av(n,e))}notify(n){Ct.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return Ct.batch(()=>Promise.all(n.map(e=>e.continue().catch(rn))))}};function Ec(n){return n.options.scope?.id}var ox=class extends ha{#e;#t=void 0;#n;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),Wc(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&Fi(t.mutationKey)!==Fi(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#o()}mutate(e,t){return this.#s=t,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??Q0();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){Ct.batch(()=>{if(this.#s&&this.hasListeners()){const t=this.#t.variables,r=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r,o),this.#s.onSettled?.(e.data,null,t,r,o)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r,o),this.#s.onSettled?.(void 0,e.error,t,r,o))}this.listeners.forEach(t=>{t(this.#t)})})}},ax=class extends ha{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const r=e.queryKey,o=e.queryHash??Vp(r,e);let a=this.get(o);return a||(a=new Z1({client:n,queryKey:r,queryHash:o,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(r)}),this.add(a)),a}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Ct.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>ov(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>ov(n,t)):e}notify(n){Ct.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){Ct.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Ct.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},lx=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(n={}){this.#e=n.queryCache||new ax,this.#t=n.mutationCache||new ix,this.#n=n.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Fp.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Kc.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#e.build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Fs(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=this.#e.get(r.queryHash)?.state.data,u=$1(e,a);if(u!==void 0)return this.#e.build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return Ct.batch(()=>this.#e.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;Ct.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e;return Ct.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Ct.batch(()=>this.#e.findAll(n).map(o=>o.cancel(t)));return Promise.all(r).then(rn).catch(rn)}invalidateQueries(n,e={}){return Ct.batch(()=>(this.#e.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Ct.batch(()=>this.#e.findAll(n).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,t);return t.throwOnError||(a=a.catch(rn)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(rn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(Fs(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(rn).catch(rn)}fetchInfiniteQuery(n){return n.behavior=pv(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(rn).catch(rn)}ensureInfiniteQueryData(n){return n.behavior=pv(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Kc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#s.set(Fi(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#s.values()],t={};return e.forEach(r=>{Dl(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){this.#r.set(Fi(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#r.values()],t={};return e.forEach(r=>{Dl(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Vp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Mp&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},J0=F.createContext(void 0),Up=n=>{const e=F.useContext(J0);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ux=({client:n,children:e})=>(F.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),x.jsx(J0.Provider,{value:n,children:e})),X0=F.createContext(!1),cx=()=>F.useContext(X0);X0.Provider;function hx(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var dx=F.createContext(hx()),fx=()=>F.useContext(dx),px=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},mx=n=>{F.useEffect(()=>{n.clearReset()},[n])},gx=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:o})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(o&&n.data===void 0||q0(t,[n.error,r])),yx=n=>{if(n.suspense){const t=o=>o==="static"?o:Math.max(o??1e3,1e3),r=n.staleTime;n.staleTime=typeof r=="function"?(...o)=>t(r(...o)):t(r),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},vx=(n,e)=>n.isLoading&&n.isFetching&&!e,_x=(n,e)=>n?.suspense&&e.isPending,gv=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function wx(n,e,t){const r=cx(),o=fx(),a=Up(),u=a.defaultQueryOptions(n);a.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=r?"isRestoring":"optimistic",yx(u),px(u,o),mx(o);const d=!a.getQueryCache().get(u.queryHash),[f]=F.useState(()=>new e(a,u)),m=f.getOptimisticResult(u),v=!r&&n.subscribed!==!1;if(F.useSyncExternalStore(F.useCallback(w=>{const T=v?f.subscribe(Ct.batchCalls(w)):rn;return f.updateResult(),T},[f,v]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),F.useEffect(()=>{f.setOptions(u)},[u,f]),_x(u,m))throw gv(u,f,o);if(gx({result:m,errorResetBoundary:o,throwOnError:u.throwOnError,query:a.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw m.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(u,m),u.experimental_prefetchInRender&&!Mi&&vx(m,r)&&(d?gv(u,f,o):a.getQueryCache().get(u.queryHash)?.promise)?.catch(rn).finally(()=>{f.updateResult()}),u.notifyOnChangeProps?m:f.trackResult(m)}function Ex(n,e){return wx(n,ex)}function Tx(n,e){const t=Up(),[r]=F.useState(()=>new ox(t,n));F.useEffect(()=>{r.setOptions(n)},[r,n]);const o=F.useSyncExternalStore(F.useCallback(u=>r.subscribe(Ct.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=F.useCallback((u,d)=>{r.mutate(u,d).catch(rn)},[r]);if(o.error&&q0(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}const Ix=({open:n=!1,onClose:e})=>{const t=u=>{u.key==="Escape"&&e?.()},r=[{label:"Dashboard",path:"/",icon:"dashboard"},{label:"Transaes",path:"/transactions",icon:"receipt_long"},{label:"Auditoria & Limpeza",path:"/data-cleaning",icon:"verified_user"},{label:"IA & Insights",path:"/insights",icon:"psychology",badge:"NEW"},{label:"Deep Dive Financeiro",path:"/cfo/deep-dive",icon:"finance_mode"}],o=[{label:"Clientes",path:"/clients",icon:"people"},{label:"Real Estate",path:"/real-estate",icon:"domain"},{label:"Configuraes",path:"/settings",icon:"settings"}],a=u=>u.map(d=>x.jsxs(D1,{to:d.path,onClick:e,className:({isActive:f})=>["flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all group mx-2",f?"bg-primary text-white shadow-glow":"text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-white/5"].join(" "),children:[x.jsx("span",{className:"material-symbols-outlined text-[22px] transition-colors",children:d.icon}),x.jsx("span",{className:"text-[14px] font-medium",children:d.label}),d.badge&&x.jsx("span",{className:"ml-auto bg-gradient-to-r from-primary to-secondary text-[10px] px-1.5 py-0.5 rounded text-white font-bold",children:d.badge})]},d.path));return x.jsxs(x.Fragment,{children:[x.jsx("div",{onClick:e,className:`fixed inset-0 bg-black/50 md:hidden transition-opacity z-40 ${n?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,"aria-hidden":!n}),x.jsxs("aside",{id:"app-sidebar",tabIndex:-1,onKeyDown:t,className:["fixed top-0 left-0 h-full w-64 z-50 flex flex-col glass border-r border-slate-200 dark:border-slate-800 transition-all duration-300","transform transition-transform duration-500 ease-in-out",n?"translate-x-0":"-translate-x-64","md:translate-x-0"].join(" "),children:[x.jsxs("div",{className:"h-20 flex items-center px-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"bg-primary/10 p-2 rounded-lg dark:bg-primary/20",children:x.jsx("img",{src:"/assets/brand/momentum-logo.png",alt:"Momentum Logo",className:"w-6 h-6 object-contain"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-[17px] font-bold tracking-tight text-slate-900 dark:text-white leading-none font-display",children:"MOMENTUM"}),x.jsx("span",{className:"text-[9px] font-bold tracking-[0.2em] text-primary uppercase font-display mt-1 block opacity-80",children:"PREMIUM V14.6"})]})]}),x.jsx("button",{onClick:e,className:"md:hidden ml-auto inline-flex items-center justify-center h-8 w-8 rounded-lg border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/70 text-slate-600 dark:text-slate-300",children:""})]}),x.jsxs("nav",{className:"flex-1 px-4 space-y-1 py-4 overflow-y-auto",children:[x.jsx("p",{className:"px-3 text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em] mb-4 mt-2 font-display",children:"PRINCIPAL"}),a(r),x.jsx("p",{className:"px-3 text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em] mt-8 mb-4 font-display",children:"GERENCIAMENTO"}),a(o)]}),x.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800 mt-auto",children:x.jsxs("div",{className:"flex items-center gap-3 px-2 py-2",children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-[10px] font-bold dark:text-slate-300",children:"GM"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"text-[11px] font-bold text-slate-900 dark:text-slate-200 font-display",children:"Glass Momentum"}),x.jsx("span",{className:"text-[9px] text-slate-500 font-display uppercase tracking-wider",children:"v14.6 Enterprise"})]})]})})]})]})};function Sx(){const[n,e]=F.useState(()=>localStorage.getItem("theme")||"light");return F.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),n==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.documentElement.classList.add("light"),document.documentElement.classList.remove("dark")),localStorage.setItem("theme",n)},[n]),{theme:n,toggle:()=>e(t=>t==="light"?"dark":"light")}}const xx=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rx=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),yv=n=>{const e=Rx(n);return e.charAt(0).toUpperCase()+e.slice(1)},Y0=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),bx=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Ax={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Cx=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:u,...d},f)=>F.createElement("svg",{ref:f,...Ax,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Y0("lucide",o),...!a&&!bx(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,v])=>F.createElement(m,v)),...Array.isArray(a)?a:[a]]));const on=(n,e)=>{const t=F.forwardRef(({className:r,...o},a)=>F.createElement(Cx,{ref:a,iconNode:e,className:Y0(`lucide-${xx(yv(n))}`,`lucide-${n}`,r),...o}));return t.displayName=yv(n),t};const kx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Px=on("arrow-right",kx);const Nx=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ox=on("bell",Nx);const Dx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vv=on("circle-alert",Dx);const Lx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vx=on("circle-question-mark",Lx);const Mx=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Fx=on("external-link",Mx);const jx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ux=on("loader-circle",jx);const zx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Bx=on("lock",zx);const $x=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qx=on("mail",$x);const Hx=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Wx=on("message-circle",Hx);const Kx=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Gx=on("mic",Kx);const Qx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_v=on("sparkles",Qx);const Jx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Xx=on("square",Jx);const Yx=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Zx=on("volume-2",Yx);const eR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gc=on("x",eR);const tR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Z0=on("zap",tR);function ew(n,e){return function(){return n.apply(e,arguments)}}const{toString:nR}=Object.prototype,{getPrototypeOf:zp}=Object,{iterator:_h,toStringTag:tw}=Symbol,wh=(n=>e=>{const t=nR.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),or=n=>(n=n.toLowerCase(),e=>wh(e)===n),Eh=n=>e=>typeof e===n,{isArray:da}=Array,ta=Eh("undefined");function Hl(n){return n!==null&&!ta(n)&&n.constructor!==null&&!ta(n.constructor)&&yn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const nw=or("ArrayBuffer");function rR(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&nw(n.buffer),e}const sR=Eh("string"),yn=Eh("function"),rw=Eh("number"),Wl=n=>n!==null&&typeof n=="object",iR=n=>n===!0||n===!1,Nc=n=>{if(wh(n)!=="object")return!1;const e=zp(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(tw in n)&&!(_h in n)},oR=n=>{if(!Wl(n)||Hl(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},aR=or("Date"),lR=or("File"),uR=or("Blob"),cR=or("FileList"),hR=n=>Wl(n)&&yn(n.pipe),dR=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||yn(n.append)&&((e=wh(n))==="formdata"||e==="object"&&yn(n.toString)&&n.toString()==="[object FormData]"))},fR=or("URLSearchParams"),[pR,mR,gR,yR]=["ReadableStream","Request","Response","Headers"].map(or),vR=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kl(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,o;if(typeof n!="object"&&(n=[n]),da(n))for(r=0,o=n.length;r<o;r++)e.call(null,n[r],r,n);else{if(Hl(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),u=a.length;let d;for(r=0;r<u;r++)d=a[r],e.call(null,n[d],d,n)}}function sw(n,e){if(Hl(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,o;for(;r-- >0;)if(o=t[r],e===o.toLowerCase())return o;return null}const Ni=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iw=n=>!ta(n)&&n!==Ni;function Zf(){const{caseless:n,skipUndefined:e}=iw(this)&&this||{},t={},r=(o,a)=>{const u=n&&sw(t,a)||a;Nc(t[u])&&Nc(o)?t[u]=Zf(t[u],o):Nc(o)?t[u]=Zf({},o):da(o)?t[u]=o.slice():(!e||!ta(o))&&(t[u]=o)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Kl(arguments[o],r);return t}const _R=(n,e,t,{allOwnKeys:r}={})=>(Kl(e,(o,a)=>{t&&yn(o)?n[a]=ew(o,t):n[a]=o},{allOwnKeys:r}),n),wR=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),ER=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},TR=(n,e,t,r)=>{let o,a,u;const d={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),a=o.length;a-- >0;)u=o[a],(!r||r(u,n,e))&&!d[u]&&(e[u]=n[u],d[u]=!0);n=t!==!1&&zp(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},IR=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},SR=n=>{if(!n)return null;if(da(n))return n;let e=n.length;if(!rw(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},xR=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&zp(Uint8Array)),RR=(n,e)=>{const r=(n&&n[_h]).call(n);let o;for(;(o=r.next())&&!o.done;){const a=o.value;e.call(n,a[0],a[1])}},bR=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},AR=or("HTMLFormElement"),CR=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,o){return r.toUpperCase()+o}),wv=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),kR=or("RegExp"),ow=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Kl(t,(o,a)=>{let u;(u=e(o,a,n))!==!1&&(r[a]=u||o)}),Object.defineProperties(n,r)},PR=n=>{ow(n,(e,t)=>{if(yn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(yn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},NR=(n,e)=>{const t={},r=o=>{o.forEach(a=>{t[a]=!0})};return da(n)?r(n):r(String(n).split(e)),t},OR=()=>{},DR=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function LR(n){return!!(n&&yn(n.append)&&n[tw]==="FormData"&&n[_h])}const VR=n=>{const e=new Array(10),t=(r,o)=>{if(Wl(r)){if(e.indexOf(r)>=0)return;if(Hl(r))return r;if(!("toJSON"in r)){e[o]=r;const a=da(r)?[]:{};return Kl(r,(u,d)=>{const f=t(u,o+1);!ta(f)&&(a[d]=f)}),e[o]=void 0,a}}return r};return t(n,0)},MR=or("AsyncFunction"),FR=n=>n&&(Wl(n)||yn(n))&&yn(n.then)&&yn(n.catch),aw=((n,e)=>n?setImmediate:e?((t,r)=>(Ni.addEventListener("message",({source:o,data:a})=>{o===Ni&&a===t&&r.length&&r.shift()()},!1),o=>{r.push(o),Ni.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",yn(Ni.postMessage)),jR=typeof queueMicrotask<"u"?queueMicrotask.bind(Ni):typeof process<"u"&&process.nextTick||aw,UR=n=>n!=null&&yn(n[_h]),H={isArray:da,isArrayBuffer:nw,isBuffer:Hl,isFormData:dR,isArrayBufferView:rR,isString:sR,isNumber:rw,isBoolean:iR,isObject:Wl,isPlainObject:Nc,isEmptyObject:oR,isReadableStream:pR,isRequest:mR,isResponse:gR,isHeaders:yR,isUndefined:ta,isDate:aR,isFile:lR,isBlob:uR,isRegExp:kR,isFunction:yn,isStream:hR,isURLSearchParams:fR,isTypedArray:xR,isFileList:cR,forEach:Kl,merge:Zf,extend:_R,trim:vR,stripBOM:wR,inherits:ER,toFlatObject:TR,kindOf:wh,kindOfTest:or,endsWith:IR,toArray:SR,forEachEntry:RR,matchAll:bR,isHTMLForm:AR,hasOwnProperty:wv,hasOwnProp:wv,reduceDescriptors:ow,freezeMethods:PR,toObjectSet:NR,toCamelCase:CR,noop:OR,toFiniteNumber:DR,findKey:sw,global:Ni,isContextDefined:iw,isSpecCompliantForm:LR,toJSONObject:VR,isAsyncFn:MR,isThenable:FR,setImmediate:aw,asap:jR,isIterable:UR};function Ne(n,e,t,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}H.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const lw=Ne.prototype,uw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{uw[n]={value:n}});Object.defineProperties(Ne,uw);Object.defineProperty(lw,"isAxiosError",{value:!0});Ne.from=(n,e,t,r,o,a)=>{const u=Object.create(lw);H.toFlatObject(n,u,function(v){return v!==Error.prototype},m=>m!=="isAxiosError");const d=n&&n.message?n.message:"Error",f=e==null&&n?n.code:e;return Ne.call(u,d,f,t,r,o),n&&u.cause==null&&Object.defineProperty(u,"cause",{value:n,configurable:!0}),u.name=n&&n.name||"Error",a&&Object.assign(u,a),u};const zR=null;function ep(n){return H.isPlainObject(n)||H.isArray(n)}function cw(n){return H.endsWith(n,"[]")?n.slice(0,-2):n}function Ev(n,e,t){return n?n.concat(e).map(function(o,a){return o=cw(o),!t&&a?"["+o+"]":o}).join(t?".":""):e}function BR(n){return H.isArray(n)&&!n.some(ep)}const $R=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function Th(n,e,t){if(!H.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=H.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,A){return!H.isUndefined(A[N])});const r=t.metaTokens,o=t.visitor||v,a=t.dots,u=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(o))throw new TypeError("visitor must be a function");function m(C){if(C===null)return"";if(H.isDate(C))return C.toISOString();if(H.isBoolean(C))return C.toString();if(!f&&H.isBlob(C))throw new Ne("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(C)||H.isTypedArray(C)?f&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function v(C,N,A){let Y=C;if(C&&!A&&typeof C=="object"){if(H.endsWith(N,"{}"))N=r?N:N.slice(0,-2),C=JSON.stringify(C);else if(H.isArray(C)&&BR(C)||(H.isFileList(C)||H.endsWith(N,"[]"))&&(Y=H.toArray(C)))return N=cw(N),Y.forEach(function(J,X){!(H.isUndefined(J)||J===null)&&e.append(u===!0?Ev([N],X,a):u===null?N:N+"[]",m(J))}),!1}return ep(C)?!0:(e.append(Ev(A,N,a),m(C)),!1)}const w=[],T=Object.assign($R,{defaultVisitor:v,convertValue:m,isVisitable:ep});function M(C,N){if(!H.isUndefined(C)){if(w.indexOf(C)!==-1)throw Error("Circular reference detected in "+N.join("."));w.push(C),H.forEach(C,function(Y,Q){(!(H.isUndefined(Y)||Y===null)&&o.call(e,Y,H.isString(Q)?Q.trim():Q,N,T))===!0&&M(Y,N?N.concat(Q):[Q])}),w.pop()}}if(!H.isObject(n))throw new TypeError("data must be an object");return M(n),e}function Tv(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Bp(n,e){this._pairs=[],n&&Th(n,this,e)}const hw=Bp.prototype;hw.append=function(e,t){this._pairs.push([e,t])};hw.toString=function(e){const t=e?function(r){return e.call(this,r,Tv)}:Tv;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function qR(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function dw(n,e,t){if(!e)return n;const r=t&&t.encode||qR;H.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let a;if(o?a=o(e,t):a=H.isURLSearchParams(e)?e.toString():new Bp(e,t).toString(r),a){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class Iv{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(r){r!==null&&e(r)})}}const fw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HR=typeof URLSearchParams<"u"?URLSearchParams:Bp,WR=typeof FormData<"u"?FormData:null,KR=typeof Blob<"u"?Blob:null,GR={isBrowser:!0,classes:{URLSearchParams:HR,FormData:WR,Blob:KR},protocols:["http","https","file","blob","url","data"]},$p=typeof window<"u"&&typeof document<"u",tp=typeof navigator=="object"&&navigator||void 0,QR=$p&&(!tp||["ReactNative","NativeScript","NS"].indexOf(tp.product)<0),JR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",XR=$p&&window.location.href||"http://localhost",YR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$p,hasStandardBrowserEnv:QR,hasStandardBrowserWebWorkerEnv:JR,navigator:tp,origin:XR},Symbol.toStringTag,{value:"Module"})),Jt={...YR,...GR};function ZR(n,e){return Th(n,new Jt.classes.URLSearchParams,{visitor:function(t,r,o,a){return Jt.isNode&&H.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function eb(n){return H.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tb(n){const e={},t=Object.keys(n);let r;const o=t.length;let a;for(r=0;r<o;r++)a=t[r],e[a]=n[a];return e}function pw(n){function e(t,r,o,a){let u=t[a++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),f=a>=t.length;return u=!u&&H.isArray(o)?o.length:u,f?(H.hasOwnProp(o,u)?o[u]=[o[u],r]:o[u]=r,!d):((!o[u]||!H.isObject(o[u]))&&(o[u]=[]),e(t,r,o[u],a)&&H.isArray(o[u])&&(o[u]=tb(o[u])),!d)}if(H.isFormData(n)&&H.isFunction(n.entries)){const t={};return H.forEachEntry(n,(r,o)=>{e(eb(r),o,t,0)}),t}return null}function nb(n,e,t){if(H.isString(n))try{return(e||JSON.parse)(n),H.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Gl={transitional:fw,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",o=r.indexOf("application/json")>-1,a=H.isObject(e);if(a&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return o?JSON.stringify(pw(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ZR(e,this.formSerializer).toString();if((d=H.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Th(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||o?(t.setContentType("application/json",!1),nb(e)):e}],transformResponse:[function(e){const t=this.transitional||Gl.transitional,r=t&&t.forcedJSONParsing,o=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(r&&!this.responseType||o)){const u=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(d){if(u)throw d.name==="SyntaxError"?Ne.from(d,Ne.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jt.classes.FormData,Blob:Jt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],n=>{Gl.headers[n]={}});const rb=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sb=n=>{const e={};let t,r,o;return n&&n.split(`
`).forEach(function(u){o=u.indexOf(":"),t=u.substring(0,o).trim().toLowerCase(),r=u.substring(o+1).trim(),!(!t||e[t]&&rb[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Sv=Symbol("internals");function vl(n){return n&&String(n).trim().toLowerCase()}function Oc(n){return n===!1||n==null?n:H.isArray(n)?n.map(Oc):String(n)}function ib(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const ob=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Sf(n,e,t,r,o){if(H.isFunction(r))return r.call(this,e,t);if(o&&(e=t),!!H.isString(e)){if(H.isString(r))return e.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(e)}}function ab(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function lb(n,e){const t=H.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(o,a,u){return this[r].call(this,e,o,a,u)},configurable:!0})})}let vn=class{constructor(e){e&&this.set(e)}set(e,t,r){const o=this;function a(d,f,m){const v=vl(f);if(!v)throw new Error("header name must be a non-empty string");const w=H.findKey(o,v);(!w||o[w]===void 0||m===!0||m===void 0&&o[w]!==!1)&&(o[w||f]=Oc(d))}const u=(d,f)=>H.forEach(d,(m,v)=>a(m,v,f));if(H.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(H.isString(e)&&(e=e.trim())&&!ob(e))u(sb(e),t);else if(H.isObject(e)&&H.isIterable(e)){let d={},f,m;for(const v of e){if(!H.isArray(v))throw TypeError("Object iterator must return a key-value pair");d[m=v[0]]=(f=d[m])?H.isArray(f)?[...f,v[1]]:[f,v[1]]:v[1]}u(d,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=vl(e),e){const r=H.findKey(this,e);if(r){const o=this[r];if(!t)return o;if(t===!0)return ib(o);if(H.isFunction(t))return t.call(this,o,r);if(H.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=vl(e),e){const r=H.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Sf(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let o=!1;function a(u){if(u=vl(u),u){const d=H.findKey(r,u);d&&(!t||Sf(r,r[d],d,t))&&(delete r[d],o=!0)}}return H.isArray(e)?e.forEach(a):a(e),o}clear(e){const t=Object.keys(this);let r=t.length,o=!1;for(;r--;){const a=t[r];(!e||Sf(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const t=this,r={};return H.forEach(this,(o,a)=>{const u=H.findKey(r,a);if(u){t[u]=Oc(o),delete t[a];return}const d=e?ab(a):String(a).trim();d!==a&&delete t[a],t[d]=Oc(o),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return H.forEach(this,(r,o)=>{r!=null&&r!==!1&&(t[o]=e&&H.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[Sv]=this[Sv]={accessors:{}}).accessors,o=this.prototype;function a(u){const d=vl(u);r[d]||(lb(o,u),r[d]=!0)}return H.isArray(e)?e.forEach(a):a(e),this}};vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(vn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});H.freezeMethods(vn);function xf(n,e){const t=this||Gl,r=e||t,o=vn.from(r.headers);let a=r.data;return H.forEach(n,function(d){a=d.call(t,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function mw(n){return!!(n&&n.__CANCEL__)}function fa(n,e,t){Ne.call(this,n??"canceled",Ne.ERR_CANCELED,e,t),this.name="CanceledError"}H.inherits(fa,Ne,{__CANCEL__:!0});function gw(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ne("Request failed with status code "+t.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function ub(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function cb(n,e){n=n||10;const t=new Array(n),r=new Array(n);let o=0,a=0,u;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),v=r[a];u||(u=m),t[o]=f,r[o]=m;let w=a,T=0;for(;w!==o;)T+=t[w++],w=w%n;if(o=(o+1)%n,o===a&&(a=(a+1)%n),m-u<e)return;const M=v&&m-v;return M?Math.round(T*1e3/M):void 0}}function hb(n,e){let t=0,r=1e3/e,o,a;const u=(m,v=Date.now())=>{t=v,o=null,a&&(clearTimeout(a),a=null),n(...m)};return[(...m)=>{const v=Date.now(),w=v-t;w>=r?u(m,v):(o=m,a||(a=setTimeout(()=>{a=null,u(o)},r-w)))},()=>o&&u(o)]}const Qc=(n,e,t=3)=>{let r=0;const o=cb(50,250);return hb(a=>{const u=a.loaded,d=a.lengthComputable?a.total:void 0,f=u-r,m=o(f),v=u<=d;r=u;const w={loaded:u,total:d,progress:d?u/d:void 0,bytes:f,rate:m||void 0,estimated:m&&d&&v?(d-u)/m:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(w)},t)},xv=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},Rv=n=>(...e)=>H.asap(()=>n(...e)),db=Jt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Jt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Jt.origin),Jt.navigator&&/(msie|trident)/i.test(Jt.navigator.userAgent)):()=>!0,fb=Jt.hasStandardBrowserEnv?{write(n,e,t,r,o,a,u){if(typeof document>"u")return;const d=[`${n}=${encodeURIComponent(e)}`];H.isNumber(t)&&d.push(`expires=${new Date(t).toUTCString()}`),H.isString(r)&&d.push(`path=${r}`),H.isString(o)&&d.push(`domain=${o}`),a===!0&&d.push("secure"),H.isString(u)&&d.push(`SameSite=${u}`),document.cookie=d.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function pb(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function mb(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function yw(n,e,t){let r=!pb(e);return n&&(r||t==!1)?mb(n,e):e}const bv=n=>n instanceof vn?{...n}:n;function ji(n,e){e=e||{};const t={};function r(m,v,w,T){return H.isPlainObject(m)&&H.isPlainObject(v)?H.merge.call({caseless:T},m,v):H.isPlainObject(v)?H.merge({},v):H.isArray(v)?v.slice():v}function o(m,v,w,T){if(H.isUndefined(v)){if(!H.isUndefined(m))return r(void 0,m,w,T)}else return r(m,v,w,T)}function a(m,v){if(!H.isUndefined(v))return r(void 0,v)}function u(m,v){if(H.isUndefined(v)){if(!H.isUndefined(m))return r(void 0,m)}else return r(void 0,v)}function d(m,v,w){if(w in e)return r(m,v);if(w in n)return r(void 0,m)}const f={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(m,v,w)=>o(bv(m),bv(v),w,!0)};return H.forEach(Object.keys({...n,...e}),function(v){const w=f[v]||o,T=w(n[v],e[v],v);H.isUndefined(T)&&w!==d||(t[v]=T)}),t}const vw=n=>{const e=ji({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:u,auth:d}=e;if(e.headers=u=vn.from(u),e.url=dw(yw(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),H.isFormData(t)){if(Jt.hasStandardBrowserEnv||Jt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(H.isFunction(t.getHeaders)){const f=t.getHeaders(),m=["content-type","content-length"];Object.entries(f).forEach(([v,w])=>{m.includes(v.toLowerCase())&&u.set(v,w)})}}if(Jt.hasStandardBrowserEnv&&(r&&H.isFunction(r)&&(r=r(e)),r||r!==!1&&db(e.url))){const f=o&&a&&fb.read(a);f&&u.set(o,f)}return e},gb=typeof XMLHttpRequest<"u",yb=gb&&function(n){return new Promise(function(t,r){const o=vw(n);let a=o.data;const u=vn.from(o.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:m}=o,v,w,T,M,C;function N(){M&&M(),C&&C(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let A=new XMLHttpRequest;A.open(o.method.toUpperCase(),o.url,!0),A.timeout=o.timeout;function Y(){if(!A)return;const J=vn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),ue={data:!d||d==="text"||d==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:J,config:n,request:A};gw(function(P){t(P),N()},function(P){r(P),N()},ue),A=null}"onloadend"in A?A.onloadend=Y:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(Y)},A.onabort=function(){A&&(r(new Ne("Request aborted",Ne.ECONNABORTED,n,A)),A=null)},A.onerror=function(X){const ue=X&&X.message?X.message:"Network Error",de=new Ne(ue,Ne.ERR_NETWORK,n,A);de.event=X||null,r(de),A=null},A.ontimeout=function(){let X=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ue=o.transitional||fw;o.timeoutErrorMessage&&(X=o.timeoutErrorMessage),r(new Ne(X,ue.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,n,A)),A=null},a===void 0&&u.setContentType(null),"setRequestHeader"in A&&H.forEach(u.toJSON(),function(X,ue){A.setRequestHeader(ue,X)}),H.isUndefined(o.withCredentials)||(A.withCredentials=!!o.withCredentials),d&&d!=="json"&&(A.responseType=o.responseType),m&&([T,C]=Qc(m,!0),A.addEventListener("progress",T)),f&&A.upload&&([w,M]=Qc(f),A.upload.addEventListener("progress",w),A.upload.addEventListener("loadend",M)),(o.cancelToken||o.signal)&&(v=J=>{A&&(r(!J||J.type?new fa(null,n,A):J),A.abort(),A=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const Q=ub(o.url);if(Q&&Jt.protocols.indexOf(Q)===-1){r(new Ne("Unsupported protocol "+Q+":",Ne.ERR_BAD_REQUEST,n));return}A.send(a||null)})},vb=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,o;const a=function(m){if(!o){o=!0,d();const v=m instanceof Error?m:this.reason;r.abort(v instanceof Ne?v:new fa(v instanceof Error?v.message:v))}};let u=e&&setTimeout(()=>{u=null,a(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const d=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),n=null)};n.forEach(m=>m.addEventListener("abort",a));const{signal:f}=r;return f.unsubscribe=()=>H.asap(d),f}},_b=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,o;for(;r<t;)o=r+e,yield n.slice(r,o),r=o},wb=async function*(n,e){for await(const t of Eb(n))yield*_b(t,e)},Eb=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Av=(n,e,t,r)=>{const o=wb(n,e);let a=0,u,d=f=>{u||(u=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:m,value:v}=await o.next();if(m){d(),f.close();return}let w=v.byteLength;if(t){let T=a+=w;t(T)}f.enqueue(new Uint8Array(v))}catch(m){throw d(m),m}},cancel(f){return d(f),o.return()}},{highWaterMark:2})},Cv=64*1024,{isFunction:Tc}=H,Tb=(({Request:n,Response:e})=>({Request:n,Response:e}))(H.global),{ReadableStream:kv,TextEncoder:Pv}=H.global,Nv=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Ib=n=>{n=H.merge.call({skipUndefined:!0},Tb,n);const{fetch:e,Request:t,Response:r}=n,o=e?Tc(e):typeof fetch=="function",a=Tc(t),u=Tc(r);if(!o)return!1;const d=o&&Tc(kv),f=o&&(typeof Pv=="function"?(C=>N=>C.encode(N))(new Pv):async C=>new Uint8Array(await new t(C).arrayBuffer())),m=a&&d&&Nv(()=>{let C=!1;const N=new t(Jt.origin,{body:new kv,method:"POST",get duplex(){return C=!0,"half"}}).headers.has("Content-Type");return C&&!N}),v=u&&d&&Nv(()=>H.isReadableStream(new r("").body)),w={stream:v&&(C=>C.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!w[C]&&(w[C]=(N,A)=>{let Y=N&&N[C];if(Y)return Y.call(N);throw new Ne(`Response type '${C}' is not supported`,Ne.ERR_NOT_SUPPORT,A)})});const T=async C=>{if(C==null)return 0;if(H.isBlob(C))return C.size;if(H.isSpecCompliantForm(C))return(await new t(Jt.origin,{method:"POST",body:C}).arrayBuffer()).byteLength;if(H.isArrayBufferView(C)||H.isArrayBuffer(C))return C.byteLength;if(H.isURLSearchParams(C)&&(C=C+""),H.isString(C))return(await f(C)).byteLength},M=async(C,N)=>{const A=H.toFiniteNumber(C.getContentLength());return A??T(N)};return async C=>{let{url:N,method:A,data:Y,signal:Q,cancelToken:J,timeout:X,onDownloadProgress:ue,onUploadProgress:de,responseType:P,headers:S,withCredentials:R="same-origin",fetchOptions:O}=vw(C),L=e||fetch;P=P?(P+"").toLowerCase():"text";let U=vb([Q,J&&J.toAbortSignal()],X),k=null;const je=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let Se;try{if(de&&m&&A!=="get"&&A!=="head"&&(Se=await M(S,Y))!==0){let j=new t(N,{method:"POST",body:Y,duplex:"half"}),G;if(H.isFormData(Y)&&(G=j.headers.get("content-type"))&&S.setContentType(G),j.body){const[oe,we]=xv(Se,Qc(Rv(de)));Y=Av(j.body,Cv,oe,we)}}H.isString(R)||(R=R?"include":"omit");const Pe=a&&"credentials"in t.prototype,Oe={...O,signal:U,method:A.toUpperCase(),headers:S.normalize().toJSON(),body:Y,duplex:"half",credentials:Pe?R:void 0};k=a&&new t(N,Oe);let K=await(a?L(k,O):L(N,Oe));const _e=v&&(P==="stream"||P==="response");if(v&&(ue||_e&&je)){const j={};["status","statusText","headers"].forEach(Ae=>{j[Ae]=K[Ae]});const G=H.toFiniteNumber(K.headers.get("content-length")),[oe,we]=ue&&xv(G,Qc(Rv(ue),!0))||[];K=new r(Av(K.body,Cv,oe,()=>{we&&we(),je&&je()}),j)}P=P||"text";let ae=await w[H.findKey(w,P)||"text"](K,C);return!_e&&je&&je(),await new Promise((j,G)=>{gw(j,G,{data:ae,headers:vn.from(K.headers),status:K.status,statusText:K.statusText,config:C,request:k})})}catch(Pe){throw je&&je(),Pe&&Pe.name==="TypeError"&&/Load failed|fetch/i.test(Pe.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,C,k),{cause:Pe.cause||Pe}):Ne.from(Pe,Pe&&Pe.code,C,k)}}},Sb=new Map,_w=n=>{let e=n&&n.env||{};const{fetch:t,Request:r,Response:o}=e,a=[r,o,t];let u=a.length,d=u,f,m,v=Sb;for(;d--;)f=a[d],m=v.get(f),m===void 0&&v.set(f,m=d?new Map:Ib(e)),v=m;return m};_w();const qp={http:zR,xhr:yb,fetch:{get:_w}};H.forEach(qp,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Ov=n=>`- ${n}`,xb=n=>H.isFunction(n)||n===null||n===!1;function Rb(n,e){n=H.isArray(n)?n:[n];const{length:t}=n;let r,o;const a={};for(let u=0;u<t;u++){r=n[u];let d;if(o=r,!xb(r)&&(o=qp[(d=String(r)).toLowerCase()],o===void 0))throw new Ne(`Unknown adapter '${d}'`);if(o&&(H.isFunction(o)||(o=o.get(e))))break;a[d||"#"+u]=o}if(!o){const u=Object.entries(a).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=t?u.length>1?`since :
`+u.map(Ov).join(`
`):" "+Ov(u[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o}const ww={getAdapter:Rb,adapters:qp};function Rf(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new fa(null,n)}function Dv(n){return Rf(n),n.headers=vn.from(n.headers),n.data=xf.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),ww.getAdapter(n.adapter||Gl.adapter,n)(n).then(function(r){return Rf(n),r.data=xf.call(n,n.transformResponse,r),r.headers=vn.from(r.headers),r},function(r){return mw(r)||(Rf(n),r&&r.response&&(r.response.data=xf.call(n,n.transformResponse,r.response),r.response.headers=vn.from(r.response.headers))),Promise.reject(r)})}const Ew="1.13.2",Ih={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Ih[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Lv={};Ih.transitional=function(e,t,r){function o(a,u){return"[Axios v"+Ew+"] Transitional option '"+a+"'"+u+(r?". "+r:"")}return(a,u,d)=>{if(e===!1)throw new Ne(o(u," has been removed"+(t?" in "+t:"")),Ne.ERR_DEPRECATED);return t&&!Lv[u]&&(Lv[u]=!0,console.warn(o(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,u,d):!0}};Ih.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function bb(n,e,t){if(typeof n!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let o=r.length;for(;o-- >0;){const a=r[o],u=e[a];if(u){const d=n[a],f=d===void 0||u(d,a,n);if(f!==!0)throw new Ne("option "+a+" must be "+f,Ne.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ne("Unknown option "+a,Ne.ERR_BAD_OPTION)}}const Dc={assertOptions:bb,validators:Ih},vr=Dc.validators;let Di=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Iv,response:new Iv}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ji(this.defaults,t);const{transitional:r,paramsSerializer:o,headers:a}=t;r!==void 0&&Dc.assertOptions(r,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean)},!1),o!=null&&(H.isFunction(o)?t.paramsSerializer={serialize:o}:Dc.assertOptions(o,{encode:vr.function,serialize:vr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Dc.assertOptions(t,{baseUrl:vr.spelling("baseURL"),withXsrfToken:vr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=a&&H.merge(a.common,a[t.method]);a&&H.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),t.headers=vn.concat(u,a);const d=[];let f=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(t)===!1||(f=f&&N.synchronous,d.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let v,w=0,T;if(!f){const C=[Dv.bind(this),void 0];for(C.unshift(...d),C.push(...m),T=C.length,v=Promise.resolve(t);w<T;)v=v.then(C[w++],C[w++]);return v}T=d.length;let M=t;for(;w<T;){const C=d[w++],N=d[w++];try{M=C(M)}catch(A){N.call(this,A);break}}try{v=Dv.call(this,M)}catch(C){return Promise.reject(C)}for(w=0,T=m.length;w<T;)v=v.then(m[w++],m[w++]);return v}getUri(e){e=ji(this.defaults,e);const t=yw(e.baseURL,e.url,e.allowAbsoluteUrls);return dw(t,e.params,e.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(e){Di.prototype[e]=function(t,r){return this.request(ji(r||{},{method:e,url:t,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(e){function t(r){return function(a,u,d){return this.request(ji(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}Di.prototype[e]=t(),Di.prototype[e+"Form"]=t(!0)});let Ab=class Tw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const u=new Promise(d=>{r.subscribe(d),a=d}).then(o);return u.cancel=function(){r.unsubscribe(a)},u},e(function(a,u,d){r.reason||(r.reason=new fa(a,u,d),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Tw(function(o){e=o}),cancel:e}}};function Cb(n){return function(t){return n.apply(null,t)}}function kb(n){return H.isObject(n)&&n.isAxiosError===!0}const np={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(np).forEach(([n,e])=>{np[e]=n});function Iw(n){const e=new Di(n),t=ew(Di.prototype.request,e);return H.extend(t,Di.prototype,e,{allOwnKeys:!0}),H.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return Iw(ji(n,o))},t}const mt=Iw(Gl);mt.Axios=Di;mt.CanceledError=fa;mt.CancelToken=Ab;mt.isCancel=mw;mt.VERSION=Ew;mt.toFormData=Th;mt.AxiosError=Ne;mt.Cancel=mt.CanceledError;mt.all=function(e){return Promise.all(e)};mt.spread=Cb;mt.isAxiosError=kb;mt.mergeConfig=ji;mt.AxiosHeaders=vn;mt.formToJSON=n=>pw(H.isHTMLForm(n)?new FormData(n):n);mt.getAdapter=ww.getAdapter;mt.HttpStatusCode=np;mt.default=mt;const{Axios:KL,AxiosError:GL,CanceledError:QL,isCancel:JL,CancelToken:XL,VERSION:YL,all:ZL,Cancel:eV,isAxiosError:tV,spread:nV,toFormData:rV,AxiosHeaders:sV,HttpStatusCode:iV,formToJSON:oV,getAdapter:aV,mergeConfig:lV}=mt,Pb=()=>{};var Vv={};const Sw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Nb=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,w=(a&3)<<4|d>>4;let T=(d&15)<<2|m>>6,M=m&63;f||(M=64,u||(T=64)),r.push(t[v],t[w],t[T],t[M])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Sw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Nb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new Ob;const T=a<<2|d>>4;if(r.push(T),m!==64){const M=d<<4&240|m>>2;if(r.push(M),w!==64){const C=m<<6&192|w;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ob extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Db=function(n){const e=Sw(n);return xw.encodeByteArray(e,!0)},Jc=function(n){return Db(n).replace(/\./g,"")},Rw=function(n){try{return xw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Lb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Vb=()=>Lb().__FIREBASE_DEFAULTS__,Mb=()=>{if(typeof process>"u"||typeof Vv>"u")return;const n=Vv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Fb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Rw(n[1]);return e&&JSON.parse(e)},Sh=()=>{try{return Pb()||Vb()||Mb()||Fb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},bw=n=>{var e,t;return(t=(e=Sh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Aw=n=>{const e=bw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Cw=()=>{var n;return(n=Sh())===null||n===void 0?void 0:n.config},kw=n=>{var e;return(e=Sh())===null||e===void 0?void 0:e[`_${n}`]};class jb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Wi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hp(n){return(await fetch(n,{credentials:"include"})).ok}function Pw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Jc(JSON.stringify(t)),Jc(JSON.stringify(u)),""].join(".")}const Rl={};function Ub(){const n={prod:[],emulator:[]};for(const e of Object.keys(Rl))Rl[e]?n.emulator.push(e):n.prod.push(e);return n}function zb(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Mv=!1;function Wp(n,e){if(typeof window>"u"||typeof document>"u"||!Wi(window.location.host)||Rl[n]===e||Rl[n]||Mv)return;Rl[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=Ub().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,M){T.setAttribute("width","24"),T.setAttribute("id",M),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Mv=!0,u()},T}function v(T,M){T.setAttribute("id",M),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=zb(r),M=t("text"),C=document.getElementById(M)||document.createElement("span"),N=t("learnmore"),A=document.getElementById(N)||document.createElement("a"),Y=t("preprendIcon"),Q=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const J=T.element;d(J),v(A,N);const X=m();f(Q,Y),J.append(Q,C,A,X),document.body.appendChild(J)}a?(C.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function $b(){var n;const e=(n=Sh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kb(){const n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Gb(){return!$b()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qb(){try{return typeof indexedDB=="object"}catch{return!1}}function Jb(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}const Xb="FirebaseError";class Cr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Xb,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?Yb(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Cr(o,d,r)}}function Yb(n,e){return n.replace(Zb,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Zb=/\{\$([^}]+)}/g;function eA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ui(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(Fv(a)&&Fv(u)){if(!Ui(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Fv(n){return n!==null&&typeof n=="object"}function Jl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function El(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function tA(n,e){const t=new nA(n,e);return t.subscribe.bind(t)}class nA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");rA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=bf),o.error===void 0&&(o.error=bf),o.complete===void 0&&(o.complete=bf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bf(){}function sn(n){return n&&n._delegate?n._delegate:n}class Hs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ki="[DEFAULT]";class sA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new jb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oA(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iA(n){return n===ki?void 0:n}function oA(n){return n.instantiationMode==="EAGER"}class aA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const lA={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},uA=Fe.INFO,cA={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},hA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=cA[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kp{constructor(e){this.name=e,this._logLevel=uA,this._logHandler=hA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const dA=(n,e)=>e.some(t=>n instanceof t);let jv,Uv;function fA(){return jv||(jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pA(){return Uv||(Uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nw=new WeakMap,rp=new WeakMap,Ow=new WeakMap,Af=new WeakMap,Gp=new WeakMap;function mA(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(js(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Nw.set(t,n)}).catch(()=>{}),Gp.set(e,n),e}function gA(n){if(rp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});rp.set(n,e)}let sp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return rp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ow.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return js(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function yA(n){sp=n(sp)}function vA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Cf(this),e,...t);return Ow.set(r,e.sort?e.sort():[e]),js(r)}:pA().includes(n)?function(...e){return n.apply(Cf(this),e),js(Nw.get(this))}:function(...e){return js(n.apply(Cf(this),e))}}function _A(n){return typeof n=="function"?vA(n):(n instanceof IDBTransaction&&gA(n),dA(n,fA())?new Proxy(n,sp):n)}function js(n){if(n instanceof IDBRequest)return mA(n);if(Af.has(n))return Af.get(n);const e=_A(n);return e!==n&&(Af.set(n,e),Gp.set(e,n)),e}const Cf=n=>Gp.get(n);function wA(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=js(u);return r&&u.addEventListener("upgradeneeded",f=>{r(js(u.result),f.oldVersion,f.newVersion,js(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const EA=["get","getKey","getAll","getAllKeys","count"],TA=["put","add","delete","clear"],kf=new Map;function zv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=TA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||EA.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return kf.set(e,a),a}yA(n=>({...n,get:(e,t,r)=>zv(e,t)||n.get(e,t,r),has:(e,t)=>!!zv(e,t)||n.has(e,t)}));class IA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(SA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function SA(n){const e=n.getComponent();return e?.type==="VERSION"}const ip="@firebase/app",Bv="0.13.2";const Xr=new Kp("@firebase/app"),xA="@firebase/app-compat",RA="@firebase/analytics-compat",bA="@firebase/analytics",AA="@firebase/app-check-compat",CA="@firebase/app-check",kA="@firebase/auth",PA="@firebase/auth-compat",NA="@firebase/database",OA="@firebase/data-connect",DA="@firebase/database-compat",LA="@firebase/functions",VA="@firebase/functions-compat",MA="@firebase/installations",FA="@firebase/installations-compat",jA="@firebase/messaging",UA="@firebase/messaging-compat",zA="@firebase/performance",BA="@firebase/performance-compat",$A="@firebase/remote-config",qA="@firebase/remote-config-compat",HA="@firebase/storage",WA="@firebase/storage-compat",KA="@firebase/firestore",GA="@firebase/ai",QA="@firebase/firestore-compat",JA="firebase",XA="11.10.0";const op="[DEFAULT]",YA={[ip]:"fire-core",[xA]:"fire-core-compat",[bA]:"fire-analytics",[RA]:"fire-analytics-compat",[CA]:"fire-app-check",[AA]:"fire-app-check-compat",[kA]:"fire-auth",[PA]:"fire-auth-compat",[NA]:"fire-rtdb",[OA]:"fire-data-connect",[DA]:"fire-rtdb-compat",[LA]:"fire-fn",[VA]:"fire-fn-compat",[MA]:"fire-iid",[FA]:"fire-iid-compat",[jA]:"fire-fcm",[UA]:"fire-fcm-compat",[zA]:"fire-perf",[BA]:"fire-perf-compat",[$A]:"fire-rc",[qA]:"fire-rc-compat",[HA]:"fire-gcs",[WA]:"fire-gcs-compat",[KA]:"fire-fst",[QA]:"fire-fst-compat",[GA]:"fire-vertex","fire-js":"fire-js",[JA]:"fire-js-all"};const Ll=new Map,ZA=new Map,ap=new Map;function $v(n,e){try{n.container.addComponent(e)}catch(t){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zi(n){const e=n.name;if(ap.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;ap.set(e,n);for(const t of Ll.values())$v(t,n);for(const t of ZA.values())$v(t,n);return!0}function xh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fn(n){return n==null?!1:n.settings!==void 0}const eC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new Ql("app","Firebase",eC);class tC{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}const Ki=XA;function Dw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:op,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw Us.create("bad-app-name",{appName:String(o)});if(t||(t=Cw()),!t)throw Us.create("no-options");const a=Ll.get(o);if(a){if(Ui(t,a.options)&&Ui(r,a.config))return a;throw Us.create("duplicate-app",{appName:o})}const u=new aA(o);for(const f of ap.values())u.addComponent(f);const d=new tC(t,r,u);return Ll.set(o,d),d}function Rh(n=op){const e=Ll.get(n);if(!e&&n===op&&Cw())return Dw();if(!e)throw Us.create("no-app",{appName:n});return e}function nC(){return Array.from(Ll.values())}function Er(n,e,t){var r;let o=(r=YA[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(d.join(" "));return}zi(new Hs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const rC="firebase-heartbeat-database",sC=1,Vl="firebase-heartbeat-store";let Pf=null;function Lw(){return Pf||(Pf=wA(rC,sC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Us.create("idb-open",{originalErrorMessage:n.message})})),Pf}async function iC(n){try{const t=(await Lw()).transaction(Vl),r=await t.objectStore(Vl).get(Vw(n));return await t.done,r}catch(e){if(e instanceof Cr)Xr.warn(e.message);else{const t=Us.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(t.message)}}}async function qv(n,e){try{const r=(await Lw()).transaction(Vl,"readwrite");await r.objectStore(Vl).put(e,Vw(n)),await r.done}catch(t){if(t instanceof Cr)Xr.warn(t.message);else{const r=Us.create("idb-set",{originalErrorMessage:t?.message});Xr.warn(r.message)}}}function Vw(n){return`${n.name}!${n.options.appId}`}const oC=1024,aC=30;class lC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Hv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>aC){const u=hC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hv(),{heartbeatsToSend:r,unsentEntries:o}=uC(this._heartbeatsCache.heartbeats),a=Jc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Xr.warn(t),""}}}function Hv(){return new Date().toISOString().substring(0,10)}function uC(n,e=oC){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Wv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Wv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class cC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qb()?Jb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await iC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return qv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return qv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Wv(n){return Jc(JSON.stringify({version:2,heartbeats:n})).length}function hC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function dC(n){zi(new Hs("platform-logger",e=>new IA(e),"PRIVATE")),zi(new Hs("heartbeat",e=>new lC(e),"PRIVATE")),Er(ip,Bv,n),Er(ip,Bv,"esm2017"),Er("fire-js","")}dC("");function Qp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function Mw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fC=Mw,Fw=new Ql("auth","Firebase",Mw());const Xc=new Kp("@firebase/auth");function pC(n,...e){Xc.logLevel<=Fe.WARN&&Xc.warn(`Auth (${Ki}): ${n}`,...e)}function Lc(n,...e){Xc.logLevel<=Fe.ERROR&&Xc.error(`Auth (${Ki}): ${n}`,...e)}function sr(n,...e){throw Jp(n,...e)}function Tr(n,...e){return Jp(n,...e)}function jw(n,e,t){const r=Object.assign(Object.assign({},fC()),{[e]:t});return new Ql("auth","Firebase",r).create(e,{appName:n.name})}function zs(n){return jw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Fw.create(n,...e)}function Re(n,e,...t){if(!n)throw Jp(e,...t)}function Qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lc(e),new Error(e)}function Yr(n,e){n||Qr(e)}function lp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function mC(){return Kv()==="http:"||Kv()==="https:"}function Kv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function gC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mC()||Hb()||"connection"in navigator)?navigator.onLine:!0}function yC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Xl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yr(t>e,"Short delay should be less than long delay!"),this.isMobile=Bb()||Wb()}get(){return gC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xp(n,e){Yr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Uw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _C=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wC=new Xl(3e4,6e4);function Gi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ei(n,e,t,r,o={}){return zw(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=Jl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return qb()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Wi(n.emulatorConfig.host)&&(m.credentials="include"),Uw.fetch()(await Bw(n,n.config.apiHost,t,d),m)})}async function zw(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},vC),e);try{const o=new TC(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Ic(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Ic(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Ic(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw jw(n,v,m);sr(n,v)}}catch(o){if(o instanceof Cr)throw o;sr(n,"network-request-failed",{message:String(o)})}}async function bh(n,e,t,r,o={}){const a=await ei(n,e,t,r,o);return"mfaPendingCredential"in a&&sr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Bw(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?Xp(n.config,o):`${n.config.apiScheme}://${o}`;return _C.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function EC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),wC.get())})}}function Ic(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Tr(n,e,r);return o.customData._tokenResponse=t,o}function Gv(n){return n!==void 0&&n.enterprise!==void 0}class IC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SC(n,e){return ei(n,"GET","/v2/recaptchaConfig",Gi(n,e))}async function xC(n,e){return ei(n,"POST","/v1/accounts:delete",e)}async function Yc(n,e){return ei(n,"POST","/v1/accounts:lookup",e)}function bl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $w(n,e=!1){return sn(n).getIdToken(e)}async function RC(n,e=!1){const t=sn(n),r=await t.getIdToken(e),o=Yp(r);Re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:bl(Nf(o.auth_time)),issuedAtTime:bl(Nf(o.iat)),expirationTime:bl(Nf(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Nf(n){return Number(n)*1e3}function Yp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Rw(t);return o?JSON.parse(o):(Lc("Failed to decode base64 JWT payload"),null)}catch(o){return Lc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Qv(n){const e=Yp(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ml(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Cr&&bC(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function bC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class AC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class up{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(n){var e;const t=n.auth,r=await n.getIdToken(),o=await Ml(n,Yc(t,{idToken:r}));Re(o?.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?qw(a.providerUserInfo):[],d=kC(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!d?.length,v=f?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new up(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function CC(n){const e=sn(n);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kC(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function qw(n){return n.map(e=>{var{providerId:t}=e,r=Qp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function PC(n,e){const t=await zw(n,{},async()=>{const r=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await Bw(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&Wi(n.emulatorConfig.host)&&(f.credentials="include"),Uw.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function NC(n,e){return ei(n,"POST","/v2/accounts:revokeToken",Gi(n,e))}class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=Qv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await PC(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Go;return r&&(Re(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Re(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Re(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Qr("not implemented")}}function As(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class nr{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=Qp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new up(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ml(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return RC(this,e)}reload(){return CC(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Zc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(zs(this.auth));const e=await this.getIdToken();return await Ml(this,xC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,d,f,m,v;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,M=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,C=(u=t.photoURL)!==null&&u!==void 0?u:void 0,N=(d=t.tenantId)!==null&&d!==void 0?d:void 0,A=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,Y=(m=t.createdAt)!==null&&m!==void 0?m:void 0,Q=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:J,emailVerified:X,isAnonymous:ue,providerData:de,stsTokenManager:P}=t;Re(J&&P,e,"internal-error");const S=Go.fromJSON(this.name,P);Re(typeof J=="string",e,"internal-error"),As(w,e.name),As(T,e.name),Re(typeof X=="boolean",e,"internal-error"),Re(typeof ue=="boolean",e,"internal-error"),As(M,e.name),As(C,e.name),As(N,e.name),As(A,e.name),As(Y,e.name),As(Q,e.name);const R=new nr({uid:J,auth:e,email:T,emailVerified:X,displayName:w,isAnonymous:ue,photoURL:C,phoneNumber:M,tenantId:N,stsTokenManager:S,createdAt:Y,lastLoginAt:Q});return de&&Array.isArray(de)&&(R.providerData=de.map(O=>Object.assign({},O))),A&&(R._redirectEventId=A),R}static async _fromIdTokenResponse(e,t,r=!1){const o=new Go;o.updateFromServerResponse(t);const a=new nr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Zc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Re(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?qw(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,d=new Go;d.updateFromIdToken(r);const f=new nr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new up(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}const Jv=new Map;function Jr(n){Yr(n instanceof Function,"Expected a class definition");let e=Jv.get(n);return e?(Yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Jv.set(n,e),e)}class Hw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Hw.type="NONE";const Xv=Hw;function Vc(n,e,t){return`firebase:${n}:${e}:${t}`}class Qo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Vc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Vc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Yc(this.auth,{idToken:e}).catch(()=>{});return t?nr._fromGetAccountInfoResponse(this.auth,t,e):null}return nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Qo(Jr(Xv),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Jr(Xv);const u=Vc(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(u);if(v){let w;if(typeof v=="string"){const T=await Yc(e,{idToken:v}).catch(()=>{});if(!T)break;w=await nr._fromGetAccountInfoResponse(e,T,v)}else w=nr._fromJSON(e,v);m!==a&&(d=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Qo(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Qo(a,e,r))}}function Yv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ww(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xw(e))return"Blackberry";if(Yw(e))return"Webos";if(Kw(e))return"Safari";if((e.includes("chrome/")||Gw(e))&&!e.includes("edge/"))return"Chrome";if(Jw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Ww(n=Yt()){return/firefox\//i.test(n)}function Kw(n=Yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gw(n=Yt()){return/crios\//i.test(n)}function Qw(n=Yt()){return/iemobile/i.test(n)}function Jw(n=Yt()){return/android/i.test(n)}function Xw(n=Yt()){return/blackberry/i.test(n)}function Yw(n=Yt()){return/webos/i.test(n)}function Zp(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function OC(n=Yt()){var e;return Zp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DC(){return Kb()&&document.documentMode===10}function Zw(n=Yt()){return Zp(n)||Jw(n)||Yw(n)||Xw(n)||/windows phone/i.test(n)||Qw(n)}function eE(n,e=[]){let t;switch(n){case"Browser":t=Yv(Yt());break;case"Worker":t=`${Yv(Yt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ki}/${r}`}class LC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function VC(n,e={}){return ei(n,"GET","/v2/passwordPolicy",Gi(n,e))}const MC=6;class FC{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:MC,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class jC{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zv(this),this.idTokenSubscription=new Zv(this),this.beforeStateQueue=new LC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jr(t)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Yc(this,{idToken:e}),r=await nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Fn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o?._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&f?.user&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(zs(this));const t=e?sn(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VC(this),t=new FC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await NC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Jr(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Jr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&pC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function pa(n){return sn(n)}class Zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=tA(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UC(n){Ah=n}function tE(n){return Ah.loadJS(n)}function zC(){return Ah.recaptchaEnterpriseScript}function BC(){return Ah.gapiScript}function $C(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class qC{constructor(){this.enterprise=new HC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class HC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const WC="recaptcha-enterprise",nE="NO_RECAPTCHA";class KC{constructor(e){this.type=WC,this.auth=pa(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{SC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new IC(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function o(a,u,d){const f=window.grecaptcha;Gv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(nE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qC().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&Gv(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=zC();f.length!==0&&(f+=d),tE(f).then(()=>{o(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function e_(n,e,t,r=!1,o=!1){const a=new KC(n);let u;if(o)u=nE;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function t_(n,e,t,r,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await e_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await e_(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}function GC(n,e){const t=xh(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ui(a,e??{}))return o;sr(o,"already-initialized")}return t.initialize({options:e})}function QC(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Jr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function JC(n,e,t){const r=pa(n);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=rE(e),{host:u,port:d}=XC(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(Ui(m,r.config.emulator)&&Ui(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Wi(u)?(Hp(`${a}//${u}${f}`),Wp("Auth",!0)):YC()}function rE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function XC(n){const e=rE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:n_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:n_(u)}}}function n_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function YC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class em{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,t){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function ZC(n,e){return ei(n,"POST","/v1/accounts:signUp",e)}async function ek(n,e){return bh(n,"POST","/v1/accounts:signInWithPassword",Gi(n,e))}async function tk(n,e){return bh(n,"POST","/v1/accounts:signInWithEmailLink",Gi(n,e))}async function nk(n,e){return bh(n,"POST","/v1/accounts:signInWithEmailLink",Gi(n,e))}class Fl extends em{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Fl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Fl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t_(e,t,"signInWithPassword",ek);case"emailLink":return tk(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t_(e,r,"signUpPassword",ZC);case"emailLink":return nk(e,{idToken:t,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Jo(n,e){return bh(n,"POST","/v1/accounts:signInWithIdp",Gi(n,e))}const rk="http://localhost";class Bi extends em{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=Qp(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new Bi(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Jo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Jo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jo(e,t)}buildRequest(){const e={requestUri:rk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jl(t)}return e}}function sk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ik(n){const e=wl(El(n)).link,t=e?wl(El(e)).deep_link_id:null,r=wl(El(n)).deep_link_id;return(r?wl(El(r)).link:null)||r||t||e||n}class tm{constructor(e){var t,r,o,a,u,d;const f=wl(El(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(r=f.oobCode)!==null&&r!==void 0?r:null,w=sk((o=f.mode)!==null&&o!==void 0?o:null);Re(m&&v&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=ik(e);try{return new tm(t)}catch{return null}}}class ma{constructor(){this.providerId=ma.PROVIDER_ID}static credential(e,t){return Fl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=tm.parseLink(t);return Re(r,"argument-error"),Fl._fromEmailAndCode(e,r.code,r.tenantId)}}ma.PROVIDER_ID="password";ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class sE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Yl extends sE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ks extends Yl{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";class Ps extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bi._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ps.credential(t,r)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";class Ns extends Yl{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";class Os extends Yl{constructor(){super("twitter.com")}static credential(e,t){return Bi._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Os.credential(t,r)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";class na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await nr._fromIdTokenResponse(e,r,o),u=r_(r);return new na({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=r_(r);return new na({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function r_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class eh extends Cr{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new eh(e,t,r,o)}}function iE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(n,a,e,r):a})}async function ok(n,e,t=!1){const r=await Ml(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return na._forOperation(n,"link",r)}async function ak(n,e,t=!1){const{auth:r}=n;if(Fn(r.app))return Promise.reject(zs(r));const o="reauthenticate";try{const a=await Ml(n,iE(r,o,e,n),t);Re(a.idToken,r,"internal-error");const u=Yp(a.idToken);Re(u,r,"internal-error");const{sub:d}=u;return Re(n.uid===d,r,"user-mismatch"),na._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&sr(r,"user-mismatch"),a}}async function oE(n,e,t=!1){if(Fn(n.app))return Promise.reject(zs(n));const r="signIn",o=await iE(n,r,e),a=await na._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function lk(n,e){return oE(pa(n),e)}async function uk(n){const e=pa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ck(n,e,t){return Fn(n.app)?Promise.reject(zs(n)):lk(sn(n),ma.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uk(n),r})}function aE(n,e,t,r){return sn(n).onIdTokenChanged(e,t,r)}function hk(n,e,t){return sn(n).beforeAuthStateChanged(e,t)}function lE(n,e,t,r){return sn(n).onAuthStateChanged(e,t,r)}const th="__sak";class uE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dk=1e3,fk=10;class cE extends uE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);DC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,fk):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},dk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cE.type="LOCAL";const pk=cE;class hE extends uE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hE.type="SESSION";const dE=hE;function mk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Ch(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await mk(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];function nm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class gk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=nm("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Ir(){return window}function yk(n){Ir().location.href=n}function fE(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function vk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _k(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function wk(){return fE()?self:null}const pE="firebaseLocalStorageDb",Ek=1,nh="firebaseLocalStorage",mE="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kh(n,e){return n.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function Tk(){const n=indexedDB.deleteDatabase(pE);return new Zl(n).toPromise()}function cp(){const n=indexedDB.open(pE,Ek);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(nh,{keyPath:mE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(nh)?e(r):(r.close(),await Tk(),e(await cp()))})})}async function s_(n,e,t){const r=kh(n,!0).put({[mE]:e,value:t});return new Zl(r).toPromise()}async function Ik(n,e){const t=kh(n,!1).get(e),r=await new Zl(t).toPromise();return r===void 0?null:r.value}function i_(n,e){const t=kh(n,!0).delete(e);return new Zl(t).toPromise()}const Sk=800,xk=3;class gE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>xk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(wk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await vk(),!this.activeServiceWorker)return;this.sender=new gk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_k()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cp();return await s_(e,th,"1"),await i_(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>s_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Ik(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>i_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=kh(o,!1).getAll();return new Zl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gE.type="LOCAL";const Rk=gE;new Xl(3e4,6e4);function bk(n,e){return e?Jr(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class rm extends em{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ak(n){return oE(n.auth,new rm(n),n.bypassAuthState)}function Ck(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),ak(t,new rm(n),n.bypassAuthState)}async function kk(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),ok(t,new rm(n),n.bypassAuthState)}class yE{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ak;case"linkViaPopup":case"linkViaRedirect":return kk;case"reauthViaPopup":case"reauthViaRedirect":return Ck;default:sr(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pk=new Xl(2e3,1e4);class Ko extends yE{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Pk.get())};e()}}Ko.currentPopupAction=null;const Nk="pendingRedirect",Mc=new Map;class Ok extends yE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Mc.get(this.auth._key());if(!e){try{const r=await Dk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Mc.set(this.auth._key(),e)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dk(n,e){const t=Mk(e),r=Vk(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function Lk(n,e){Mc.set(n._key(),e)}function Vk(n){return Jr(n._redirectPersistence)}function Mk(n){return Vc(Nk,n.config.apiKey,n.name)}async function Fk(n,e,t=!1){if(Fn(n.app))return Promise.reject(zs(n));const r=pa(n),o=bk(r,e),u=await new Ok(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const jk=600*1e3;class Uk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!vE(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Tr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jk&&this.cachedEventUids.clear(),this.cachedEventUids.has(o_(e))}saveEventToCache(e){this.cachedEventUids.add(o_(e)),this.lastProcessedEventTime=Date.now()}}function o_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function zk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vE(n);default:return!1}}async function Bk(n,e={}){return ei(n,"GET","/v1/projects",e)}const $k=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qk=/^https?/;async function Hk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Bk(n);for(const t of e)try{if(Wk(t))return}catch{}sr(n,"unauthorized-domain")}function Wk(n){const e=lp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!qk.test(t))return!1;if($k.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const Kk=new Xl(3e4,6e4);function a_(){const n=Ir().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Gk(n){return new Promise((e,t)=>{var r,o,a;function u(){a_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a_(),t(Tr(n,"network-request-failed"))},timeout:Kk.get()})}if(!((o=(r=Ir().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Ir().gapi)===null||a===void 0)&&a.load)u();else{const d=$C("iframefcb");return Ir()[d]=()=>{gapi.load?u():t(Tr(n,"network-request-failed"))},tE(`${BC()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function Qk(n){return Fc=Fc||Gk(n),Fc}const Jk=new Xl(5e3,15e3),Xk="__/auth/iframe",Yk="emulator/auth/iframe",Zk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tP(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Xp(e,Yk):`https://${n.config.authDomain}/${Xk}`,r={apiKey:e.apiKey,appName:n.name,v:Ki},o=eP.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Jl(r).slice(1)}`}async function nP(n){const e=await Qk(n),t=Ir().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:tP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zk,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Tr(n,"network-request-failed"),d=Ir().setTimeout(()=>{a(u)},Jk.get());function f(){Ir().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(u)})}))}const rP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sP=500,iP=600,oP="_blank",aP="http://localhost";class l_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lP(n,e,t,r=sP,o=iP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},rP),{width:r.toString(),height:o.toString(),top:a,left:u}),m=Yt().toLowerCase();t&&(d=Gw(m)?oP:t),Ww(m)&&(e=e||aP,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[M,C])=>`${T}${M}=${C},`,"");if(OC(m)&&d!=="_self")return uP(e||"",d),new l_(null);const w=window.open(e||"",d,v);Re(w,n,"popup-blocked");try{w.focus()}catch{}return new l_(w)}function uP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const cP="__/auth/handler",hP="emulator/auth/handler",dP=encodeURIComponent("fac");async function u_(n,e,t,r,o,a){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ki,eventId:o};if(e instanceof sE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",eA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof Yl){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${dP}=${encodeURIComponent(f)}`:"";return`${fP(n)}?${Jl(d).slice(1)}${m}`}function fP({config:n}){return n.emulator?Xp(n,hP):`https://${n.authDomain}/${cP}`}const Of="webStorageSupport";class pP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dE,this._completeRedirectFn=Fk,this._overrideRedirectResult=Lk}async _openPopup(e,t,r,o){var a;Yr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await u_(e,t,r,lp(),o);return lP(e,u,nm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await u_(e,t,r,lp(),o);return yk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Yr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await nP(e),r=new Uk(e);return t.register("authEvent",o=>(Re(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Of,{type:Of},o=>{var a;const u=(a=o?.[0])===null||a===void 0?void 0:a[Of];u!==void 0&&t(!!u),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Hk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Zw()||Kw()||Zp()}}const mP=pP;var c_="@firebase/auth",h_="1.10.8";class gP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vP(n){zi(new Hs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eE(n)},m=new jC(r,o,a,f);return QC(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zi(new Hs("auth-internal",e=>{const t=pa(e.getProvider("auth").getImmediate());return(r=>new gP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(c_,h_,yP(n)),Er(c_,h_,"esm2017")}const _P=300,wP=kw("authIdTokenMaxAge")||_P;let d_=null;const EP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>wP)return;const o=t?.token;d_!==o&&(d_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function TP(n=Rh()){const e=xh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=GC(n,{popupRedirectResolver:mP,persistence:[Rk,pk,dE]}),r=kw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=EP(a.toString());hk(t,u,()=>u(t.currentUser)),aE(t,d=>u(d))}}const o=bw("auth");return o&&JC(t,`http://${o}`),t}function IP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}UC({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Tr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",IP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vP("Browser");const sm="/api".trim?.()||"/api".trim?.()||"/api",rh="vivare-oficial",_E=F.createContext({tenantId:rh,setTenantId:()=>{}});let hp=rh;const wE=()=>hp;function SP({children:n}){const[e,t]=F.useState(rh),r=F.useCallback(a=>{hp=a||rh,t(hp)},[]),o=F.useMemo(()=>({tenantId:e,setTenantId:r}),[e,r]);return x.jsx(_E.Provider,{value:o,children:n})}function uV(){return F.useContext(_E)}var xP="firebase",RP="11.10.0";Er(xP,RP,"app");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Bs,EE;(function(){var n;function e(P,S){function R(){}R.prototype=S.prototype,P.D=S.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(O,L,U){for(var k=Array(arguments.length-2),je=2;je<arguments.length;je++)k[je-2]=arguments[je];return S.prototype[L].apply(O,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)O[L]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(L=0;16>L;++L)O[L]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=P.g[0],R=P.g[1],L=P.g[2];var U=P.g[3],k=S+(U^R&(L^U))+O[0]+3614090360&4294967295;S=R+(k<<7&4294967295|k>>>25),k=U+(L^S&(R^L))+O[1]+3905402710&4294967295,U=S+(k<<12&4294967295|k>>>20),k=L+(R^U&(S^R))+O[2]+606105819&4294967295,L=U+(k<<17&4294967295|k>>>15),k=R+(S^L&(U^S))+O[3]+3250441966&4294967295,R=L+(k<<22&4294967295|k>>>10),k=S+(U^R&(L^U))+O[4]+4118548399&4294967295,S=R+(k<<7&4294967295|k>>>25),k=U+(L^S&(R^L))+O[5]+1200080426&4294967295,U=S+(k<<12&4294967295|k>>>20),k=L+(R^U&(S^R))+O[6]+2821735955&4294967295,L=U+(k<<17&4294967295|k>>>15),k=R+(S^L&(U^S))+O[7]+4249261313&4294967295,R=L+(k<<22&4294967295|k>>>10),k=S+(U^R&(L^U))+O[8]+1770035416&4294967295,S=R+(k<<7&4294967295|k>>>25),k=U+(L^S&(R^L))+O[9]+2336552879&4294967295,U=S+(k<<12&4294967295|k>>>20),k=L+(R^U&(S^R))+O[10]+4294925233&4294967295,L=U+(k<<17&4294967295|k>>>15),k=R+(S^L&(U^S))+O[11]+2304563134&4294967295,R=L+(k<<22&4294967295|k>>>10),k=S+(U^R&(L^U))+O[12]+1804603682&4294967295,S=R+(k<<7&4294967295|k>>>25),k=U+(L^S&(R^L))+O[13]+4254626195&4294967295,U=S+(k<<12&4294967295|k>>>20),k=L+(R^U&(S^R))+O[14]+2792965006&4294967295,L=U+(k<<17&4294967295|k>>>15),k=R+(S^L&(U^S))+O[15]+1236535329&4294967295,R=L+(k<<22&4294967295|k>>>10),k=S+(L^U&(R^L))+O[1]+4129170786&4294967295,S=R+(k<<5&4294967295|k>>>27),k=U+(R^L&(S^R))+O[6]+3225465664&4294967295,U=S+(k<<9&4294967295|k>>>23),k=L+(S^R&(U^S))+O[11]+643717713&4294967295,L=U+(k<<14&4294967295|k>>>18),k=R+(U^S&(L^U))+O[0]+3921069994&4294967295,R=L+(k<<20&4294967295|k>>>12),k=S+(L^U&(R^L))+O[5]+3593408605&4294967295,S=R+(k<<5&4294967295|k>>>27),k=U+(R^L&(S^R))+O[10]+38016083&4294967295,U=S+(k<<9&4294967295|k>>>23),k=L+(S^R&(U^S))+O[15]+3634488961&4294967295,L=U+(k<<14&4294967295|k>>>18),k=R+(U^S&(L^U))+O[4]+3889429448&4294967295,R=L+(k<<20&4294967295|k>>>12),k=S+(L^U&(R^L))+O[9]+568446438&4294967295,S=R+(k<<5&4294967295|k>>>27),k=U+(R^L&(S^R))+O[14]+3275163606&4294967295,U=S+(k<<9&4294967295|k>>>23),k=L+(S^R&(U^S))+O[3]+4107603335&4294967295,L=U+(k<<14&4294967295|k>>>18),k=R+(U^S&(L^U))+O[8]+1163531501&4294967295,R=L+(k<<20&4294967295|k>>>12),k=S+(L^U&(R^L))+O[13]+2850285829&4294967295,S=R+(k<<5&4294967295|k>>>27),k=U+(R^L&(S^R))+O[2]+4243563512&4294967295,U=S+(k<<9&4294967295|k>>>23),k=L+(S^R&(U^S))+O[7]+1735328473&4294967295,L=U+(k<<14&4294967295|k>>>18),k=R+(U^S&(L^U))+O[12]+2368359562&4294967295,R=L+(k<<20&4294967295|k>>>12),k=S+(R^L^U)+O[5]+4294588738&4294967295,S=R+(k<<4&4294967295|k>>>28),k=U+(S^R^L)+O[8]+2272392833&4294967295,U=S+(k<<11&4294967295|k>>>21),k=L+(U^S^R)+O[11]+1839030562&4294967295,L=U+(k<<16&4294967295|k>>>16),k=R+(L^U^S)+O[14]+4259657740&4294967295,R=L+(k<<23&4294967295|k>>>9),k=S+(R^L^U)+O[1]+2763975236&4294967295,S=R+(k<<4&4294967295|k>>>28),k=U+(S^R^L)+O[4]+1272893353&4294967295,U=S+(k<<11&4294967295|k>>>21),k=L+(U^S^R)+O[7]+4139469664&4294967295,L=U+(k<<16&4294967295|k>>>16),k=R+(L^U^S)+O[10]+3200236656&4294967295,R=L+(k<<23&4294967295|k>>>9),k=S+(R^L^U)+O[13]+681279174&4294967295,S=R+(k<<4&4294967295|k>>>28),k=U+(S^R^L)+O[0]+3936430074&4294967295,U=S+(k<<11&4294967295|k>>>21),k=L+(U^S^R)+O[3]+3572445317&4294967295,L=U+(k<<16&4294967295|k>>>16),k=R+(L^U^S)+O[6]+76029189&4294967295,R=L+(k<<23&4294967295|k>>>9),k=S+(R^L^U)+O[9]+3654602809&4294967295,S=R+(k<<4&4294967295|k>>>28),k=U+(S^R^L)+O[12]+3873151461&4294967295,U=S+(k<<11&4294967295|k>>>21),k=L+(U^S^R)+O[15]+530742520&4294967295,L=U+(k<<16&4294967295|k>>>16),k=R+(L^U^S)+O[2]+3299628645&4294967295,R=L+(k<<23&4294967295|k>>>9),k=S+(L^(R|~U))+O[0]+4096336452&4294967295,S=R+(k<<6&4294967295|k>>>26),k=U+(R^(S|~L))+O[7]+1126891415&4294967295,U=S+(k<<10&4294967295|k>>>22),k=L+(S^(U|~R))+O[14]+2878612391&4294967295,L=U+(k<<15&4294967295|k>>>17),k=R+(U^(L|~S))+O[5]+4237533241&4294967295,R=L+(k<<21&4294967295|k>>>11),k=S+(L^(R|~U))+O[12]+1700485571&4294967295,S=R+(k<<6&4294967295|k>>>26),k=U+(R^(S|~L))+O[3]+2399980690&4294967295,U=S+(k<<10&4294967295|k>>>22),k=L+(S^(U|~R))+O[10]+4293915773&4294967295,L=U+(k<<15&4294967295|k>>>17),k=R+(U^(L|~S))+O[1]+2240044497&4294967295,R=L+(k<<21&4294967295|k>>>11),k=S+(L^(R|~U))+O[8]+1873313359&4294967295,S=R+(k<<6&4294967295|k>>>26),k=U+(R^(S|~L))+O[15]+4264355552&4294967295,U=S+(k<<10&4294967295|k>>>22),k=L+(S^(U|~R))+O[6]+2734768916&4294967295,L=U+(k<<15&4294967295|k>>>17),k=R+(U^(L|~S))+O[13]+1309151649&4294967295,R=L+(k<<21&4294967295|k>>>11),k=S+(L^(R|~U))+O[4]+4149444226&4294967295,S=R+(k<<6&4294967295|k>>>26),k=U+(R^(S|~L))+O[11]+3174756917&4294967295,U=S+(k<<10&4294967295|k>>>22),k=L+(S^(U|~R))+O[2]+718787259&4294967295,L=U+(k<<15&4294967295|k>>>17),k=R+(U^(L|~S))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+U&4294967295}r.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var R=S-this.blockSize,O=this.B,L=this.h,U=0;U<S;){if(L==0)for(;U<=R;)o(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<S;)if(O[L++]=P.charCodeAt(U++),L==this.blockSize){o(this,O),L=0;break}}else for(;U<S;)if(O[L++]=P[U++],L==this.blockSize){o(this,O),L=0;break}}this.h=L,this.o+=S},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var R=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=R&255,R/=256;for(this.u(P),P=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)P[R++]=this.g[S]>>>O&255;return P};function a(P,S){var R=d;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=S(P)}function u(P,S){this.h=S;for(var R=[],O=!0,L=P.length-1;0<=L;L--){var U=P[L]|0;O&&U==S||(R[L]=U,O=!1)}this.g=R}var d={};function f(P){return-128<=P&&128>P?a(P,function(S){return new u([S|0],0>S?-1:0)}):new u([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return A(m(-P));for(var S=[],R=1,O=0;P>=R;O++)S[O]=P/R|0,R*=4294967296;return new u(S,0)}function v(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return A(v(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=m(Math.pow(S,8)),O=w,L=0;L<P.length;L+=8){var U=Math.min(8,P.length-L),k=parseInt(P.substring(L,L+U),S);8>U?(U=m(Math.pow(S,U)),O=O.j(U).add(m(k))):(O=O.j(R),O=O.add(m(k)))}return O}var w=f(0),T=f(1),M=f(16777216);n=u.prototype,n.m=function(){if(N(this))return-A(this).m();for(var P=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);P+=(0<=O?O:4294967296+O)*S,S*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(C(this))return"0";if(N(this))return"-"+A(this).toString(P);for(var S=m(Math.pow(P,6)),R=this,O="";;){var L=X(R,S).g;R=Y(R,L.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=L,C(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function C(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function N(P){return P.h==-1}n.l=function(P){return P=Y(this,P),N(P)?-1:C(P)?0:1};function A(P){for(var S=P.g.length,R=[],O=0;O<S;O++)R[O]=~P.g[O];return new u(R,~P.h).add(T)}n.abs=function(){return N(this)?A(this):this},n.add=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],O=0,L=0;L<=S;L++){var U=O+(this.i(L)&65535)+(P.i(L)&65535),k=(U>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);O=k>>>16,U&=65535,k&=65535,R[L]=k<<16|U}return new u(R,R[R.length-1]&-2147483648?-1:0)};function Y(P,S){return P.add(A(S))}n.j=function(P){if(C(this)||C(P))return w;if(N(this))return N(P)?A(this).j(A(P)):A(A(this).j(P));if(N(P))return A(this.j(A(P)));if(0>this.l(M)&&0>P.l(M))return m(this.m()*P.m());for(var S=this.g.length+P.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<P.g.length;L++){var U=this.i(O)>>>16,k=this.i(O)&65535,je=P.i(L)>>>16,Se=P.i(L)&65535;R[2*O+2*L]+=k*Se,Q(R,2*O+2*L),R[2*O+2*L+1]+=U*Se,Q(R,2*O+2*L+1),R[2*O+2*L+1]+=k*je,Q(R,2*O+2*L+1),R[2*O+2*L+2]+=U*je,Q(R,2*O+2*L+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new u(R,0)};function Q(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function J(P,S){this.g=P,this.h=S}function X(P,S){if(C(S))throw Error("division by zero");if(C(P))return new J(w,w);if(N(P))return S=X(A(P),S),new J(A(S.g),A(S.h));if(N(S))return S=X(P,A(S)),new J(A(S.g),S.h);if(30<P.g.length){if(N(P)||N(S))throw Error("slowDivide_ only works with positive integers.");for(var R=T,O=S;0>=O.l(P);)R=ue(R),O=ue(O);var L=de(R,1),U=de(O,1);for(O=de(O,2),R=de(R,2);!C(O);){var k=U.add(O);0>=k.l(P)&&(L=L.add(R),U=k),O=de(O,1),R=de(R,1)}return S=Y(P,L.j(S)),new J(L,S)}for(L=w;0<=P.l(S);){for(R=Math.max(1,Math.floor(P.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=m(R),k=U.j(S);N(k)||0<k.l(P);)R-=O,U=m(R),k=U.j(S);C(U)&&(U=T),L=L.add(U),P=Y(P,k)}return new J(L,P)}n.A=function(P){return X(this,P).h},n.and=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&P.i(O);return new u(R,this.h&P.h)},n.or=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|P.i(O);return new u(R,this.h|P.h)},n.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^P.i(O);return new u(R,this.h^P.h)};function ue(P){for(var S=P.g.length+1,R=[],O=0;O<S;O++)R[O]=P.i(O)<<1|P.i(O-1)>>>31;return new u(R,P.h)}function de(P,S){var R=S>>5;S%=32;for(var O=P.g.length-R,L=[],U=0;U<O;U++)L[U]=0<S?P.i(U+R)>>>S|P.i(U+R+1)<<32-S:P.i(U+R);return new u(L,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,EE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Bs=u}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TE,Tl,IE,jc,dp,SE,xE,RE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var z=c[I];if(!(z in _))break e;_=_[z]}c=c[c.length-1],I=_[c],g=g(I),g!=I&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,I=!1,z={next:function(){if(!I&&_<c.length){var W=_++;return{value:g(W,c[W]),done:!1}}return I=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,I),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function T(c,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function M(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function C(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,z,W){for(var ie=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ie[Qe-2]=arguments[Qe];return g.prototype[z].apply(I,ie)}}function N(c){const g=c.length;if(0<g){const _=Array(g);for(let I=0;I<g;I++)_[I]=c[I];return _}return[]}function A(c,g){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const z=c.length||0,W=I.length||0;c.length=z+W;for(let ie=0;ie<W;ie++)c[z+ie]=I[ie]}else c.push(I)}}class Y{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Q(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var ue=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function de(c,g,_){for(const I in c)g.call(_,c[I],I,c)}function P(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(_ in I)c[_]=I[_];for(let W=0;W<R.length;W++)_=R[W],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function L(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){d.setTimeout(()=>{throw c},0)}function k(){var c=_e;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class je{constructor(){this.h=this.g=null}add(g,_){const I=Se.get();I.set(g,_),this.h?this.h.next=I:this.g=I,this.h=I}}var Se=new Y(()=>new Pe,c=>c.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,K=!1,_e=new je,ae=()=>{const c=d.Promise.resolve(void 0);Oe=()=>{c.then(j)}};var j=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(_){U(_)}var g=Se;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}K=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var we=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c})();function Ae(c,g){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ue){e:{try{X(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ae.aa.h.call(this)}}C(Ae,oe);var Me={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Ge(c,g,_,I,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!I,this.ha=z,this.key=++ze,this.da=this.fa=!1}function ot(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _n(c){this.src=c,this.g={},this.h=0}_n.prototype.add=function(c,g,_,I,z){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var ie=rs(c,g,I,z);return-1<ie?(g=c[ie],_||(g.fa=!1)):(g=new Ge(g,this.src,W,!!I,z),g.fa=_,c.push(g)),g};function Un(c,g){var _=g.type;if(_ in c.g){var I=c.g[_],z=Array.prototype.indexOf.call(I,g,void 0),W;(W=0<=z)&&Array.prototype.splice.call(I,z,1),W&&(ot(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function rs(c,g,_,I){for(var z=0;z<c.length;++z){var W=c[z];if(!W.da&&W.listener==g&&W.capture==!!_&&W.ha==I)return z}return-1}var ti="closure_lm_"+(1e6*Math.random()|0),Ji={};function Ia(c,g,_,I,z){if(Array.isArray(g)){for(var W=0;W<g.length;W++)Ia(c,g[W],_,I,z);return null}return _=Ra(_),c&&c[xe]?c.K(g,_,m(I)?!!I.capture:!1,z):Sa(c,g,_,!1,I,z)}function Sa(c,g,_,I,z,W){if(!g)throw Error("Invalid event type");var ie=m(z)?!!z.capture:!!z,Qe=Yi(c);if(Qe||(c[ti]=Qe=new _n(c)),_=Qe.add(g,_,I,ie,W),_.proxy)return _;if(I=iu(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)we||(z=ie),z===void 0&&(z=!1),c.addEventListener(g.toString(),I,z);else if(c.attachEvent)c.attachEvent(Nr(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function iu(){function c(_){return g.call(c.src,c.listener,_)}const g=xa;return c}function Xi(c,g,_,I,z){if(Array.isArray(g))for(var W=0;W<g.length;W++)Xi(c,g[W],_,I,z);else I=m(I)?!!I.capture:!!I,_=Ra(_),c&&c[xe]?(c=c.i,g=String(g).toString(),g in c.g&&(W=c.g[g],_=rs(W,_,I,z),-1<_&&(ot(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete c.g[g],c.h--)))):c&&(c=Yi(c))&&(g=c.g[g.toString()],c=-1,g&&(c=rs(g,_,I,z)),(_=-1<c?g[c]:null)&&Pr(_))}function Pr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[xe])Un(g.i,c);else{var _=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(_,I,c.capture):g.detachEvent?g.detachEvent(Nr(_),I):g.addListener&&g.removeListener&&g.removeListener(I),(_=Yi(g))?(Un(_,c),_.h==0&&(_.src=null,g[ti]=null)):ot(c)}}}function Nr(c){return c in Ji?Ji[c]:Ji[c]="on"+c}function xa(c,g){if(c.da)c=!0;else{g=new Ae(g,this);var _=c.listener,I=c.ha||c.src;c.fa&&Pr(c),c=_.call(I,g)}return c}function Yi(c){return c=c[ti],c instanceof _n?c:null}var Zi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ra(c){return typeof c=="function"?c:(c[Zi]||(c[Zi]=function(g){return c.handleEvent(g)}),c[Zi])}function It(){G.call(this),this.i=new _n(this),this.M=this,this.F=null}C(It,G),It.prototype[xe]=!0,It.prototype.removeEventListener=function(c,g,_,I){Xi(this,c,g,_,I)};function St(c,g){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new oe(g,c);else if(g instanceof oe)g.target=g.target||c;else{var z=g;g=new oe(I,c),O(g,z)}if(z=!0,_)for(var W=_.length-1;0<=W;W--){var ie=g.g=_[W];z=Or(ie,I,!0,g)&&z}if(ie=g.g=c,z=Or(ie,I,!0,g)&&z,z=Or(ie,I,!1,g)&&z,_)for(W=0;W<_.length;W++)ie=g.g=_[W],z=Or(ie,I,!1,g)&&z}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],I=0;I<_.length;I++)ot(_[I]);delete c.g[g],c.h--}}this.F=null},It.prototype.K=function(c,g,_,I){return this.i.add(String(c),g,!1,_,I)},It.prototype.L=function(c,g,_,I){return this.i.add(String(c),g,!0,_,I)};function Or(c,g,_,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,W=0;W<g.length;++W){var ie=g[W];if(ie&&!ie.da&&ie.capture==_){var Qe=ie.listener,xt=ie.ha||ie.src;ie.fa&&Un(c.i,ie),z=Qe.call(xt,I)!==!1&&z}}return z&&!I.defaultPrevented}function ba(c,g,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function ss(c){c.g=ba(()=>{c.g=null,c.i&&(c.i=!1,ss(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ni extends G{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ss(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(c){G.call(this),this.h=c,this.g={}}C(ri,G);var Aa=[];function Ca(c){de(c.g,function(g,_){this.g.hasOwnProperty(_)&&Pr(g)},c),c.g={}}ri.prototype.N=function(){ri.aa.N.call(this),Ca(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=d.JSON.stringify,Pa=d.JSON.parse,Na=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function si(){}si.prototype.h=null;function eo(c){return c.h||(c.h=c.i())}function to(){}var bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ar(){oe.call(this,"d")}C(ar,oe);function no(){oe.call(this,"c")}C(no,oe);var lr={},Oa=null;function ii(){return Oa=Oa||new It}lr.La="serverreachability";function Da(c){oe.call(this,lr.La,c)}C(Da,oe);function Dr(c){const g=ii();St(g,new Da(g))}lr.STAT_EVENT="statevent";function La(c,g){oe.call(this,lr.STAT_EVENT,c),this.stat=g}C(La,oe);function dt(c){const g=ii();St(g,new La(g,c))}lr.Ma="timingevent";function ro(c,g){oe.call(this,lr.Ma,c),this.size=g}C(ro,oe);function zn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function ai(c,g,_,I,z,W){c.info(function(){if(c.g)if(W)for(var ie="",Qe=W.split("&"),xt=0;xt<Qe.length;xt++){var Be=Qe[xt].split("=");if(1<Be.length){var Nt=Be[0];Be=Be[1];var vt=Nt.split("_");ie=2<=vt.length&&vt[1]=="type"?ie+(Nt+"="+Be+"&"):ie+(Nt+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+g+`
`+_+`
`+ie})}function so(c,g,_,I,z,W,ie){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+g+`
`+_+`
`+W+" "+ie})}function Bn(c,g,_,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Hh(c,_)+(I?" "+I:"")})}function Va(c,g){c.info(function(){return"TIMEOUT: "+g})}oi.prototype.info=function(){};function Hh(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var z=I[1];if(Array.isArray(z)&&!(1>z.length)){var W=z[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return ka(_)}catch{return g}}var io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ou={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function li(){}C(li,si),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},$n=new li;function qn(c,g,_,I){this.j=c,this.i=g,this.l=_,this.R=I||1,this.U=new ri(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new au}function au(){this.i=null,this.g="",this.h=!1}var Ma={},oo={};function ao(c,g,_){c.L=1,c.v=us(En(g)),c.m=_,c.P=!0,Fa(c,null)}function Fa(c,g){c.F=Date.now(),Xe(c),c.A=En(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),hs(_.i,"t",I),c.C=0,_=c.j.J,c.h=new au,c.g=xu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new ni(T(c.Y,c,c.g),c.O)),g=c.U,_=c.g,I=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Aa[0]=z.toString()),z=Aa);for(var W=0;W<z.length;W++){var ie=Ia(_,z[W],I||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Dr(),ai(c.i,c.u,c.A,c.l,c.R,c.m)}qn.prototype.ca=function(c){c=c.target;const g=this.M;g&&ln(c)==3?g.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const vt=ln(this.g);var g=this.g.Ba();const kn=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||qa(this.g)))){this.J||vt!=4||g==7||(g==8||0>=kn?Dr(3):Dr(2)),ui(this);var _=this.g.Z();this.X=_;t:if(lu(this)){var I=qa(this.g);c="";var z=I.length,W=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),is(this);var ie="";break t}this.h.i=new d.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(W&&g==z-1)});I.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,so(this.i,this.u,this.A,this.l,this.R,vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,xt=this.g;if((Qe=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Qe)){var Be=Qe;break t}}Be=null}if(_=Be)Bn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ja(this,_);else{this.o=!1,this.s=3,dt(12),An(this),is(this);break e}}if(this.P){_=!0;let In;for(;!this.J&&this.C<ie.length;)if(In=Wh(this,ie),In==oo){vt==4&&(this.s=4,dt(14),_=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(In==Ma){this.s=4,dt(15),Bn(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else Bn(this.i,this.l,In,null),ja(this,In);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||ie.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)Bn(this.i,this.l,ie,"[Invalid Chunked Response]"),An(this),is(this);else if(0<ie.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Wa(Nt),Nt.M=!0,dt(11))}}else Bn(this.i,this.l,ie,null),ja(this,ie);vt==4&&An(this),this.o&&!this.J&&(vt==4?_o(this.j,this):(this.o=!1,Xe(this)))}else po(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),An(this),is(this)}}}catch{}finally{}};function lu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Wh(c,g){var _=c.C,I=g.indexOf(`
`,_);return I==-1?oo:(_=Number(g.substring(_,I)),isNaN(_)?Ma:(I+=1,I+_>g.length?oo:(g=g.slice(I,I+_),c.C=I+_,g)))}qn.prototype.cancel=function(){this.J=!0,An(this)};function Xe(c){c.S=Date.now()+c.I,uu(c,c.I)}function uu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=zn(T(c.ba,c),g)}function ui(c){c.B&&(d.clearTimeout(c.B),c.B=null)}qn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Va(this.i,this.A),this.L!=2&&(Dr(),dt(17)),An(this),this.s=2,is(this)):uu(this,this.S-c)};function is(c){c.j.G==0||c.J||_o(c.j,c)}function An(c){ui(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ca(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ja(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Zt(_.h,c))){if(!c.K&&Zt(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)vo(_),Qn(_);else break e;yo(_),dt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=zn(T(_.Za,_),6e3));if(1>=hu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else jr(_,11)}else if((c.K||_.g==c)&&vo(_),!Q(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let Be=z[g];if(_.T=Be[0],Be=Be[1],_.G==2)if(Be[0]=="c"){_.K=Be[1],_.ia=Be[2];const Nt=Be[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const vt=Be[4];vt!=null&&(_.Aa=vt,_.j.info("SVER="+_.Aa));const kn=Be[5];kn!=null&&typeof kn=="number"&&0<kn&&(I=1.5*kn,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const In=c.g;if(In){const gi=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var W=I.h;W.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ua(W,W.h),W.h=null))}if(I.D){const Eo=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(I.ya=Eo,Je(I.I,I.D,Eo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var ie=c;if(I.qa=Su(I,I.J?I.ia:null,I.W),ie.K){du(I.h,ie);var Qe=ie,xt=I.L;xt&&(Qe.I=xt),Qe.B&&(ui(Qe),Xe(Qe)),I.g=ie}else mi(I);0<_.i.length&&dr(_)}else Be[0]!="stop"&&Be[0]!="close"||jr(_,7);else _.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?jr(_,7):Ft(_):Be[0]!="noop"&&_.l&&_.l.ta(Be),_.v=0)}}Dr(4)}catch{}}var cu=class{constructor(c,g){this.g=c,this.map=g}};function ci(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hu(c){return c.h?1:c.g?c.g.size:0}function Zt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ua(c,g){c.g?c.g.add(g):c.h=g}function du(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ci.prototype.cancel=function(){if(this.i=fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return N(c.i)}function lo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,I=0;I<_;I++)g.push(c[I]);return g}g=[],_=0;for(I in c)g[_++]=c[I];return g}function uo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const I in c)g[_++]=I;return g}}}function os(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=uo(c),I=lo(c),z=I.length,W=0;W<z;W++)g.call(void 0,I[W],_&&_[W],c)}var hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),z=null;if(0<=I){var W=c[_].substring(0,I);z=c[_].substring(I+1)}else W=c[_];g(W,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Lr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Lr){this.h=c.h,di(this,c.j),this.o=c.o,this.g=c.g,as(this,c.s),this.l=c.l;var g=c.i,_=new ur;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ls(this,_),this.m=c.m}else c&&(g=String(c).match(hi))?(this.h=!1,di(this,g[1]||"",!0),this.o=Ue(g[2]||""),this.g=Ue(g[3]||"",!0),as(this,g[4]),this.l=Ue(g[5]||"",!0),ls(this,g[6]||"",!0),this.m=Ue(g[7]||"")):(this.h=!1,this.i=new ur(null,this.h))}Lr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(cs(g,co,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(cs(g,co,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(cs(_,_.charAt(0)=="/"?gu:mu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",cs(_,za)),c.join("")};function En(c){return new Lr(c)}function di(c,g,_){c.j=_?Ue(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function as(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ls(c,g,_){g instanceof ur?(c.i=g,cr(c.i,c.h)):(_||(g=cs(g,yu)),c.i=new ur(g,c.h))}function Je(c,g,_){c.i.set(g,_)}function us(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ue(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cs(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,pu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var co=/[#\/\?@]/g,mu=/[#\?:]/g,gu=/[#\?]/g,yu=/[#\?@]/g,za=/#/g;function ur(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Mt(c){c.g||(c.g=new Map,c.h=0,c.i&&Kh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=ur.prototype,n.add=function(c,g){Mt(this),this.i=null,c=Cn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Hn(c,g){Mt(c),g=Cn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Wn(c,g){return Mt(c),g=Cn(c,g),c.g.has(g)}n.forEach=function(c,g){Mt(this),this.g.forEach(function(_,I){_.forEach(function(z){c.call(g,z,I,this)},this)},this)},n.na=function(){Mt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let I=0;I<g.length;I++){const z=c[I];for(let W=0;W<z.length;W++)_.push(g[I])}return _},n.V=function(c){Mt(this);let g=[];if(typeof c=="string")Wn(this,c)&&(g=g.concat(this.g.get(Cn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Mt(this),this.i=null,c=Cn(this,c),Wn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function hs(c,g,_){Hn(c,g),0<_.length&&(c.i=null,c.g.set(Cn(c,g),N(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var I=g[_];const W=encodeURIComponent(String(I)),ie=this.V(I);for(I=0;I<ie.length;I++){var z=W;ie[I]!==""&&(z+="="+encodeURIComponent(String(ie[I]))),c.push(z)}}return this.i=c.join("&")};function Cn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function cr(c,g){g&&!c.j&&(Mt(c),c.i=null,c.g.forEach(function(_,I){var z=I.toLowerCase();I!=z&&(Hn(this,I),hs(this,z,_))},c)),c.j=g}function Gh(c,g){const _=new oi;if(d.Image){const I=new Image;I.onload=M(an,_,"TestLoadImage: loaded",!0,g,I),I.onerror=M(an,_,"TestLoadImage: error",!1,g,I),I.onabort=M(an,_,"TestLoadImage: abort",!1,g,I),I.ontimeout=M(an,_,"TestLoadImage: timeout",!1,g,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function vu(c,g){const _=new oi,I=new AbortController,z=setTimeout(()=>{I.abort(),an(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(W=>{clearTimeout(z),W.ok?an(_,"TestPingServer: ok",!0,g):an(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),an(_,"TestPingServer: error",!1,g)})}function an(c,g,_,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(_)}catch{}}function Qh(){this.g=new Na}function _u(c,g,_){const I=_||"";try{os(c,function(z,W){let ie=z;m(z)&&(ie=ka(z)),g.push(I+W+"="+encodeURIComponent(ie))})}catch(z){throw g.push(I+"type="+encodeURIComponent("_badmap")),z}}function Vr(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Vr,si),Vr.prototype.g=function(){return new fi(this.l,this.j)},Vr.prototype.i=(function(c){return function(){return c}})({});function fi(c,g){It.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(fi,It),n=fi.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Gn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function wu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Kn(this):Gn(this),this.readyState==3&&wu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Kn(this))},n.Qa=function(c){this.g&&(this.response=c,Kn(this))},n.ga=function(){this.g&&Kn(this)};function Kn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Gn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mr(c){let g="";return de(c,function(_,I){g+=I,g+=":",g+=_,g+=`\r
`}),g}function ds(c,g,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Mr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Je(c,g,_))}function rt(c){It.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(rt,It);var Jh=/^https?$/i,Ba=["POST","PUT"];n=rt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?eo(this.o):eo($n),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(W){pi(this,W);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)_.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())_.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),z=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ba,g,void 0))||I||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of _)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fo(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){pi(this,W)}};function pi(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ho(c),Tn(c)}function ho(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,St(this,"complete"),St(this,"abort"),Tn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tn(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$a(this):this.bb())},n.bb=function(){$a(this)};function $a(c){if(c.h&&typeof u<"u"&&(!c.v[1]||ln(c)!=4||c.Z()!=2)){if(c.u&&ln(c)==4)ba(c.Ea,0,c);else if(St(c,"readystatechange"),ln(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var I;if(I=ie===0){var z=String(c.D).match(hi)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),I=!Jh.test(z?z.toLowerCase():"")}_=I}if(_)St(c,"complete"),St(c,"success");else{c.m=6;try{var W=2<ln(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",ho(c)}}finally{Tn(c)}}}}function Tn(c,g){if(c.g){fo(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||St(c,"ready");try{_.onreadystatechange=I}catch{}}}function fo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function ln(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Pa(g)}};function qa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function po(c){const g={};c=(c.g&&2<=ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(Q(c[I]))continue;var _=L(c[I]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=g[z]||[];g[z]=W,W.push(_)}P(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Ha(c){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hr("baseRetryDelayMs",5e3,c),this.cb=hr("retryDelaySeedMs",1e4,c),this.Wa=hr("forwardChannelMaxRetries",2,c),this.wa=hr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(c&&c.concurrentRequestLimit),this.Da=new Qh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ha.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,I){dt(0),this.W=c,this.H=g||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=Su(this,null,this.W),dr(this)};function Ft(c){if(mo(c),c.G==3){var g=c.U++,_=En(c.I);if(Je(_,"SID",c.K),Je(_,"RID",g),Je(_,"TYPE","terminate"),Fr(c,_),g=new qn(c,c.j,g),g.L=2,g.v=us(En(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=xu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Xe(g)}Iu(c)}function Qn(c){c.g&&(Wa(c),c.g.cancel(),c.g=null)}function mo(c){Qn(c),c.u&&(d.clearTimeout(c.u),c.u=null),vo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function dr(c){if(!wn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Oe||ae(),K||(Oe(),K=!0),_e.add(g,c),c.B=0}}function Xh(c,g){return hu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=zn(T(c.Ga,c,g),Tu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new qn(this,this.j,c);let W=this.o;if(this.S&&(W?(W=S(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(z.H=W,W=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=fs(this,z,g),_=En(this.I),Je(_,"RID",c),Je(_,"CVER",22),this.D&&Je(_,"X-HTTP-Session-Id",this.D),Fr(this,_),W&&(this.O?g="headers="+encodeURIComponent(String(Mr(W)))+"&"+g:this.m&&ds(_,this.m,W)),Ua(this.h,z),this.Ua&&Je(_,"TYPE","init"),this.P?(Je(_,"$req",g),Je(_,"SID","null"),z.T=!0,ao(z,_,null)):ao(z,_,g),this.G=2}}else this.G==3&&(c?go(this,c):this.i.length==0||wn(this.h)||go(this))};function go(c,g){var _;g?_=g.l:_=c.U++;const I=En(c.I);Je(I,"SID",c.K),Je(I,"RID",_),Je(I,"AID",c.T),Fr(c,I),c.m&&c.o&&ds(I,c.m,c.o),_=new qn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=fs(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ua(c.h,_),ao(_,I,g)}function Fr(c,g){c.H&&de(c.H,function(_,I){Je(g,I,_)}),c.l&&os({},function(_,I){Je(g,I,_)})}function fs(c,g,_){_=Math.min(c.i.length,_);var I=c.l?T(c.l.Na,c.l,c):null;e:{var z=c.i;let W=-1;for(;;){const ie=["count="+_];W==-1?0<_?(W=z[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let Qe=!0;for(let xt=0;xt<_;xt++){let Be=z[xt].g;const Nt=z[xt].map;if(Be-=W,0>Be)W=Math.max(0,z[xt].g-100),Qe=!1;else try{_u(Nt,ie,"req"+Be+"_")}catch{I&&I(Nt)}}if(Qe){I=ie.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,I}function mi(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Oe||ae(),K||(Oe(),K=!0),_e.add(g,c),c.v=0}}function yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=zn(T(c.Fa,c),Tu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=zn(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Qn(this),Eu(this))};function Wa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Eu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=En(c.qa);Je(g,"RID","rpc"),Je(g,"SID",c.K),Je(g,"AID",c.T),Je(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(g,"TO",c.ja),Je(g,"TYPE","xmlhttp"),Fr(c,g),c.m&&c.o&&ds(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=us(En(g)),_.m=null,_.P=!0,Fa(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Qn(this),yo(this),dt(19))};function vo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function _o(c,g){var _=null;if(c.g==g){vo(c),Wa(c),c.g=null;var I=2}else if(Zt(c.h,g))_=g.D,du(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;I=ii(),St(I,new ro(I,_)),dr(c)}else mi(c);else if(z=g.s,z==3||z==0&&0<g.X||!(I==1&&Xh(c,g)||I==2&&yo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:jr(c,5);break;case 4:jr(c,10);break;case 3:jr(c,6);break;default:jr(c,2)}}}function Tu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function jr(c,g){if(c.j.info("Error code "+g),g==2){var _=T(c.fb,c),I=c.Xa;const z=!I;I=new Lr(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||di(I,"https"),us(I),z?Gh(I.toString(),_):vu(I.toString(),_)}else dt(2);c.G=0,c.l&&c.l.sa(g),Iu(c),mo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Iu(c){if(c.G=0,c.ka=[],c.l){const g=fu(c.h);(g.length!=0||c.i.length!=0)&&(A(c.ka,g),A(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Su(c,g,_){var I=_ instanceof Lr?En(_):new Lr(_);if(I.g!="")g&&(I.g=g+"."+I.g),as(I,I.s);else{var z=d.location;I=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var W=new Lr(null);I&&di(W,I),g&&(W.g=g),z&&as(W,z),_&&(W.l=_),I=W}return _=c.D,g=c.ya,_&&g&&Je(I,_,g),Je(I,"VER",c.la),Fr(c,I),I}function xu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new rt(new Vr({eb:_})):new rt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ka(){}n=Ka.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wo(){}wo.prototype.g=function(c,g){return new en(c,g)};function en(c,g){It.call(this),this.g=new Ha(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new fr(this)}C(en,It),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Ft(this.g)},en.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ka(c),c=_);g.i.push(new cu(g.Ya++,c)),g.G==3&&dr(g)},en.prototype.N=function(){this.g.l=null,delete this.j,Ft(this.g),delete this.g,en.aa.N.call(this)};function Ru(c){ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}C(Ru,ar);function bu(){no.call(this),this.status=1}C(bu,no);function fr(c){this.g=c}C(fr,Ka),fr.prototype.ua=function(){St(this.g,"a")},fr.prototype.ta=function(c){St(this.g,new Ru(c))},fr.prototype.sa=function(c){St(this.g,new bu)},fr.prototype.ra=function(){St(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,RE=function(){return new wo},xE=function(){return ii()},SE=lr,dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},io.NO_ERROR=0,io.TIMEOUT=8,io.HTTP_ERROR=6,jc=io,ou.COMPLETE="complete",IE=ou,to.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",It.prototype.listen=It.prototype.K,Tl=to,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,TE=rt}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const p_="@firebase/firestore",m_="4.8.0";class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");let ga="11.10.0";const $i=new Kp("@firebase/firestore");function $o(){return $i.logLevel}function he(n,...e){if($i.logLevel<=Fe.DEBUG){const t=e.map(im);$i.debug(`Firestore (${ga}): ${n}`,...t)}}function Zr(n,...e){if($i.logLevel<=Fe.ERROR){const t=e.map(im);$i.error(`Firestore (${ga}): ${n}`,...t)}}function Ws(n,...e){if($i.logLevel<=Fe.WARN){const t=e.map(im);$i.warn(`Firestore (${ga}): ${n}`,...t)}}function im(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ke(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,bE(n,r,t)}function bE(n,e,t){let r=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Zr(r),new Error(r)}function ct(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||bE(e,o,r)}function qe(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Cr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $s{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class AE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gt.UNAUTHENTICATED)))}shutdown(){}}class AP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class CP{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ct(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new $s,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},d=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $s)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new AE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class kP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new kP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Gt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ct(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new g_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function OP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function CE(){return new TextEncoder}class om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=OP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function fp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Ve(r,o);{const a=CE(),u=DP(a.encode(y_(n,t)),a.encode(y_(e,t)));return u!==0?u:Ve(r,o)}}t+=r>65535?2:1}return Ve(n.length,e.length)}function y_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function DP(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ve(n[t],e[t]);return Ve(n.length,e.length)}function ra(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}const v_="__name__";class _r{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ke(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=_r.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ve(e.length,t.length)}static compareSegments(e,t){const r=_r.isNumericId(e),o=_r.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?_r.extractNumericId(e).compare(_r.extractNumericId(t)):fp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class Ze extends _r{construct(e,t,r){return new Ze(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const LP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends _r{construct(e,t,r){return new Xt(e,t,r)}static isValidIdentifier(e){return LP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v_}static keyField(){return new Xt([v_])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new ce(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ce(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ce(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new ce(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Ze.fromString(e))}static fromName(e){return new Ee(Ze.fromString(e).popFirst(5))}static empty(){return new Ee(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Ze(e.slice()))}}function kE(n,e,t){if(!t)throw new ce(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VP(n,e,t,r){if(e===!0&&r===!0)throw new ce(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function __(n){if(!Ee.isDocumentKey(n))throw new ce(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function w_(n){if(Ee.isDocumentKey(n))throw new ce(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function PE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ph(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke(12329,{type:typeof n})}function jl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ph(n);throw new ce(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Tt(n,e){const t={typeString:n};return e&&(t.value=e),t}function eu(n,e){if(!PE(n))throw new ce(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ce(re.INVALID_ARGUMENT,t);return!0}const E_=-62135596800,T_=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*T_);return new it(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<E_)throw new ce(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T_}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Tt("string",it._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new it(0,0))}static max(){return new Ce(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function MP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(r===1e9?new it(t+1,0):new it(t,r));return new Ks(o,Ee.empty(),e)}function FP(n){return new Ks(n.readTime,n.key,Ul)}class Ks{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ks(Ce.min(),Ee.empty(),Ul)}static max(){return new Ks(Ce.max(),Ee.empty(),Ul)}}function jP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}const UP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Nh(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==UP)throw n;he("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.reject(t)}static resolve(e){return new Z(((t,r)=>{t(e)}))}static reject(e){return new Z(((t,r)=>{r(e)}))}static waitFor(e){return new Z(((t,r)=>{let o=0,a=0,u=!1;e.forEach((d=>{++o,d.next((()=>{++a,u&&a===o&&t()}),(f=>r(f)))})),u=!0,a===o&&t()}))}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next((o=>o?Z.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new Z(((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((v=>{u[m]=v,++d,d===a&&r(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new Z(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function BP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ya(n){return n.name==="IndexedDbTransactionError"}class Oh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Oh.ue=-1;const $P=-1;function Dh(n){return n==null}function sh(n){return n===0&&1/n==-1/0}function qP(n){return typeof n=="number"&&Number.isInteger(n)&&!sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const NE="";function HP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=I_(e)),e=WP(n.get(t),e);return I_(e)}function WP(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case NE:t+="";break;default:t+=a}}return t}function I_(n){return n+NE+""}function S_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function va(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gt{constructor(e,t){this.comparator=e,this.root=t||zt.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xc(this.root,e,this.comparator,!0)}}class xc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??zt.RED,this.left=o??zt.EMPTY,this.right=a??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new zt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new x_(this.data.getIterator())}getIteratorFrom(e){return new x_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class x_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ls{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Ls([])}unionWith(e){let t=new Pt(Xt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ls(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class DE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new DE("Invalid base64 string: "+a):a}})(e);return new Bt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const KP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(n){if(ct(!!n,39018),typeof n=="string"){let e=0;const t=KP.exec(n);if(ct(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qs(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}const LE="server_timestamp",VE="__type__",ME="__previous_value__",FE="__local_write_time__";function am(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[VE])===null||t===void 0?void 0:t.stringValue)===LE}function Lh(n){const e=n.mapValue.fields[ME];return am(e)?Lh(e):e}function zl(n){const e=Gs(n.mapValue.fields[FE].timestampValue);return new it(e.seconds,e.nanos)}class GP{constructor(e,t,r,o,a,u,d,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v}}const ih="(default)";class Bl{constructor(e,t){this.projectId=e,this.database=t||ih}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}const jE="__type__",QP="__max__",Rc={mapValue:{}},UE="__vector__",oh="value";function Js(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?am(n)?4:XP(n)?9007199254740991:JP(n)?10:11:ke(28295,{value:n})}function br(n,e){if(n===e)return!0;const t=Js(n);if(t!==Js(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zl(n).isEqual(zl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Gs(o.timestampValue),d=Gs(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Qs(o.bytesValue).isEqual(Qs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return pt(o.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return pt(o.integerValue)===pt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=pt(o.doubleValue),d=pt(a.doubleValue);return u===d?sh(u)===sh(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return ra(n.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(S_(u)!==S_(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!br(u[f],d[f])))return!1;return!0})(n,e);default:return ke(52216,{left:n})}}function $l(n,e){return(n.values||[]).find((t=>br(t,e)))!==void 0}function sa(n,e){if(n===e)return 0;const t=Js(n),r=Js(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=pt(a.integerValue||a.doubleValue),f=pt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return R_(n.timestampValue,e.timestampValue);case 4:return R_(zl(n),zl(e));case 5:return fp(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=Qs(a),f=Qs(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=Ve(d[m],f[m]);if(v!==0)return v}return Ve(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Ve(pt(a.latitude),pt(u.latitude));return d!==0?d:Ve(pt(a.longitude),pt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return b_(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var d,f,m,v;const w=a.fields||{},T=u.fields||{},M=(d=w[oh])===null||d===void 0?void 0:d.arrayValue,C=(f=T[oh])===null||f===void 0?void 0:f.arrayValue,N=Ve(((m=M?.values)===null||m===void 0?void 0:m.length)||0,((v=C?.values)===null||v===void 0?void 0:v.length)||0);return N!==0?N:b_(M,C)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Rc.mapValue&&u===Rc.mapValue)return 0;if(a===Rc.mapValue)return 1;if(u===Rc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const T=fp(f[w],v[w]);if(T!==0)return T;const M=sa(d[f[w]],m[v[w]]);if(M!==0)return M}return Ve(f.length,v.length)})(n.mapValue,e.mapValue);default:throw ke(23264,{le:t})}}function R_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Gs(n),r=Gs(e),o=Ve(t.seconds,r.seconds);return o!==0?o:Ve(t.nanos,r.nanos)}function b_(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=sa(t[o],r[o]);if(a)return a}return Ve(t.length,r.length)}function ia(n){return pp(n)}function pp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Gs(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Qs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=pp(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${pp(t.fields[u])}`;return o+"}"})(n.mapValue):ke(61005,{value:n})}function Uc(n){switch(Js(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(n);return e?16+Uc(e):16;case 5:return 2*n.stringValue.length;case 6:return Qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Uc(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return va(r.fields,((a,u)=>{o+=a.length+Uc(u)})),o})(n.mapValue);default:throw ke(13486,{value:n})}}function A_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mp(n){return!!n&&"integerValue"in n}function lm(n){return!!n&&"arrayValue"in n}function C_(n){return!!n&&"nullValue"in n}function k_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Df(n){return!!n&&"mapValue"in n}function JP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[jE])===null||t===void 0?void 0:t.stringValue)===UE}function Al(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return va(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Al(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Al(n.arrayValue.values[t]);return e}return Object.assign({},n)}function XP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===QP}class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Df(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(t)}setAll(e){let t=Xt.emptyPath(),r={},o=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=Al(u):o.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Df(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Df(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){va(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new wr(Al(this.value))}}class Qt{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Qt(e,0,Ce.min(),Ce.min(),Ce.min(),wr.empty(),0)}static newFoundDocument(e,t,r,o){return new Qt(e,1,t,Ce.min(),r,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,Ce.min(),Ce.min(),wr.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,Ce.min(),Ce.min(),wr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(e,t){this.position=e,this.inclusive=t}}function P_(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(u.referenceValue),t.key):r=sa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function N_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!br(n.position[t],e.position[t]))return!1;return!0}class lh{constructor(e,t="asc"){this.field=e,this.dir=t}}function YP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class zE{}class Et extends zE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new eN(e,t,r):t==="array-contains"?new rN(e,r):t==="in"?new sN(e,r):t==="not-in"?new iN(e,r):t==="array-contains-any"?new oN(e,r):new Et(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new tN(e,r):new nN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(sa(t,this.value)):t!==null&&Js(this.value)===Js(t)&&this.matchesComparison(sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends zE{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ir(e,t)}matches(e){return BE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function BE(n){return n.op==="and"}function $E(n){return ZP(n)&&BE(n)}function ZP(n){for(const e of n.filters)if(e instanceof ir)return!1;return!0}function gp(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+ia(n.value);if($E(n))return n.filters.map((e=>gp(e))).join(",");{const e=n.filters.map((t=>gp(t))).join(",");return`${n.op}(${e})`}}function qE(n,e){return n instanceof Et?(function(r,o){return o instanceof Et&&r.op===o.op&&r.field.isEqual(o.field)&&br(r.value,o.value)})(n,e):n instanceof ir?(function(r,o){return o instanceof ir&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,d)=>a&&qE(u,o.filters[d])),!0):!1})(n,e):void ke(19439)}function HE(n){return n instanceof Et?(function(t){return`${t.field.canonicalString()} ${t.op} ${ia(t.value)}`})(n):n instanceof ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(HE).join(" ,")+"}"})(n):"Filter"}class eN extends Et{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class tN extends Et{constructor(e,t){super(e,"in",t),this.keys=WE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class nN extends Et{constructor(e,t){super(e,"not-in",t),this.keys=WE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function WE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>Ee.fromName(r.referenceValue)))}class rN extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lm(t)&&$l(t.arrayValue,this.value)}}class sN extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$l(this.value.arrayValue,t)}}class iN extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$l(this.value.arrayValue,t)}}class oN extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>$l(this.value.arrayValue,r)))}}class aN{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Pe=null}}function O_(n,e=null,t=[],r=[],o=null,a=null,u=null){return new aN(n,e,t,r,o,a,u)}function um(n){const e=qe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>gp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Dh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ia(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ia(r))).join(",")),e.Pe=t}return e.Pe}function cm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!YP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!N_(n.startAt,e.startAt)&&N_(n.endAt,e.endAt)}function yp(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class tu{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function lN(n,e,t,r,o,a,u,d){return new tu(n,e,t,r,o,a,u,d)}function hm(n){return new tu(n)}function D_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function KE(n){return n.collectionGroup!==null}function Cl(n){const e=qe(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Pt(Xt.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new lh(a,r))})),t.has(Xt.keyField().canonicalString())||e.Te.push(new lh(Xt.keyField(),r))}return e.Te}function Sr(n){const e=qe(n);return e.Ie||(e.Ie=uN(e,Cl(n))),e.Ie}function uN(n,e){if(n.limitType==="F")return O_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new lh(o.field,a)}));const t=n.endAt?new ah(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ah(n.startAt.position,n.startAt.inclusive):null;return O_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function vp(n,e){const t=n.filters.concat([e]);return new tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _p(n,e,t){return new tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vh(n,e){return cm(Sr(n),Sr(e))&&n.limitType===e.limitType}function GE(n){return`${um(Sr(n))}|lt:${n.limitType}`}function qo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>HE(o))).join(", ")}]`),Dh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>ia(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>ia(o))).join(",")),`Target(${r})`})(Sr(n))}; limitType=${n.limitType})`}function Mh(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of Cl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(u,d,f){const m=P_(u,d,f);return u.inclusive?m<=0:m<0})(r.startAt,Cl(r),o)||r.endAt&&!(function(u,d,f){const m=P_(u,d,f);return u.inclusive?m>=0:m>0})(r.endAt,Cl(r),o))})(n,e)}function cN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function QE(n){return(e,t)=>{let r=!1;for(const o of Cl(n)){const a=hN(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function hN(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?sa(f,m):ke(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:n.dir})}}class Qi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return OE(this.inner)}size(){return this.innerSize}}const dN=new gt(Ee.comparator);function Xs(){return dN}const JE=new gt(Ee.comparator);function Il(...n){let e=JE;for(const t of n)e=e.insert(t.key,t);return e}function fN(n){let e=JE;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Oi(){return kl()}function XE(){return kl()}function kl(){return new Qi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const pN=new Pt(Ee.comparator);function We(...n){let e=pN;for(const t of n)e=e.add(t);return e}const mN=new Pt(Ve);function gN(){return mN}function dm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function YE(n){return{integerValue:""+n}}function yN(n,e){return qP(e)?YE(e):dm(n,e)}class Fh{constructor(){this._=void 0}}function vN(n,e,t){return n instanceof wp?(function(o,a){const u={fields:{[VE]:{stringValue:LE},[FE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&am(a)&&(a=Lh(a)),a&&(u.fields[ME]=a),{mapValue:u}})(t,e):n instanceof uh?ZE(n,e):n instanceof ch?eT(n,e):(function(o,a){const u=wN(o,a),d=L_(u)+L_(o.Ee);return mp(u)&&mp(o.Ee)?YE(d):dm(o.serializer,d)})(n,e)}function _N(n,e,t){return n instanceof uh?ZE(n,e):n instanceof ch?eT(n,e):t}function wN(n,e){return n instanceof Ep?(function(r){return mp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class wp extends Fh{}class uh extends Fh{constructor(e){super(),this.elements=e}}function ZE(n,e){const t=tT(e);for(const r of n.elements)t.some((o=>br(o,r)))||t.push(r);return{arrayValue:{values:t}}}class ch extends Fh{constructor(e){super(),this.elements=e}}function eT(n,e){let t=tT(e);for(const r of n.elements)t=t.filter((o=>!br(o,r)));return{arrayValue:{values:t}}}class Ep extends Fh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function L_(n){return pt(n.integerValue||n.doubleValue)}function tT(n){return lm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function EN(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof uh&&o instanceof uh||r instanceof ch&&o instanceof ch?ra(r.elements,o.elements,br):r instanceof Ep&&o instanceof Ep?br(r.Ee,o.Ee):r instanceof wp&&o instanceof wp})(n.transform,e.transform)}class Li{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fm{}function nT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new IN(n.key,Li.none()):new pm(n.key,n.data,Li.none());{const t=n.data,r=wr.empty();let o=new Pt(Xt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new jh(n.key,r,new Ls(o.toArray()),Li.none())}}function TN(n,e,t){n instanceof pm?(function(o,a,u){const d=o.value.clone(),f=M_(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof jh?(function(o,a,u){if(!zc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=M_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(rT(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Pl(n,e,t,r){return n instanceof pm?(function(a,u,d,f){if(!zc(a.precondition,u))return d;const m=a.value.clone(),v=F_(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof jh?(function(a,u,d,f){if(!zc(a.precondition,u))return d;const m=F_(a.fieldTransforms,f,u),v=u.data;return v.setAll(rT(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(a,u,d){return zc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function V_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ra(r,o,((a,u)=>EN(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class pm extends fm{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class jh extends fm{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function M_(n,e,t){const r=new Map;ct(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,_N(u,d,t[o]))}return r}function F_(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,vN(a,u,e))}return r}class IN extends fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SN{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&TN(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Pl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XE();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=nT(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),We())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,((t,r)=>V_(t,r)))&&ra(this.baseMutations,e.baseMutations,((t,r)=>V_(t,r)))}}class xN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RN{constructor(e,t){this.count=e,this.unchangedNames=t}}var wt,$e;function sT(n){if(n===void 0)return Zr("GRPC error has no .code"),re.UNKNOWN;switch(n){case wt.OK:return re.OK;case wt.CANCELLED:return re.CANCELLED;case wt.UNKNOWN:return re.UNKNOWN;case wt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case wt.INTERNAL:return re.INTERNAL;case wt.UNAVAILABLE:return re.UNAVAILABLE;case wt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case wt.NOT_FOUND:return re.NOT_FOUND;case wt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case wt.ABORTED:return re.ABORTED;case wt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case wt.DATA_LOSS:return re.DATA_LOSS;default:return ke(39323,{code:n})}}($e=wt||(wt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";const bN=new Bs([4294967295,4294967295],0);function j_(n){const e=CE().encode(n),t=new EE;return t.update(e),new Uint8Array(t.digest())}function U_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Bs([t,r],0),new Bs([o,a],0)]}class mm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Sl(`Invalid padding: ${t}`);if(r<0)throw new Sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Bs.fromNumber(this.fe)}pe(e,t,r){let o=e.add(t.multiply(Bs.fromNumber(r)));return o.compare(bN)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=j_(e),[r,o]=U_(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,o,a);if(!this.ye(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new mm(a,o,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.fe===0)return;const t=j_(e),[r,o]=U_(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,o,a);this.we(u)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Uh(Ce.min(),o,new gt(Ve),Xs(),We())}}class nu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new nu(r,t,We(),We(),We())}}class Bc{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=o}}class iT{constructor(e,t){this.targetId=e,this.De=t}}class oT{constructor(e,t,r=Bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class z_{constructor(){this.ve=0,this.Ce=B_(),this.Fe=Bt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=We(),t=We(),r=We();return this.Ce.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ke(38017,{changeType:a})}})),new nu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=B_()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class AN{constructor(e){this.We=e,this.Ge=new Map,this.ze=Xs(),this.je=bc(),this.Je=bc(),this.He=new gt(Ve)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((r,o)=>{this.nt(o)&&t(o)}))}it(e){const t=e.targetId,r=e.De.count,o=this.st(t);if(o){const a=o.target;if(yp(a))if(r===0){const u=new Ee(a.path);this.Xe(t,u,Qt.newNoDocument(u,Ce.min()))}else ct(r===1,20013,{expectedCount:r});else{const u=this.ot(t);if(u!==r){const d=this._t(e),f=d?this.ut(d,e,u):1;if(f!==0){this.rt(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,m)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=Qs(r).toUint8Array()}catch(f){if(f instanceof DE)return Ws("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new mm(u,o,a)}catch(f){return Ws(f instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.fe===0?null:d}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const u=this.We.lt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,a,null),o++)})),o}Pt(e){const t=new Map;this.Ge.forEach(((a,u)=>{const d=this.st(u);if(d){if(a.current&&yp(d.target)){const f=new Ee(d.target.path);this.Tt(f).has(u)||this.It(u,f)||this.Xe(u,f,Qt.newNoDocument(f,e))}a.Ne&&(t.set(u,a.Le()),a.ke())}}));let r=We();this.Je.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const m=this.st(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.ze.forEach(((a,u)=>u.setReadTime(e)));const o=new Uh(e,t,this.He,this.ze,r);return this.ze=Xs(),this.je=bc(),this.Je=bc(),this.He=new gt(Ve),o}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new z_,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Pt(Ve),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Pt(Ve),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new z_),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function bc(){return new gt(Ee.comparator)}function B_(){return new gt(Ee.comparator)}const CN={asc:"ASCENDING",desc:"DESCENDING"},kN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PN={and:"AND",or:"OR"};class NN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tp(n,e){return n.useProto3Json||Dh(e)?e:{value:e}}function Ip(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Xo(n){return ct(!!n,49232),Ce.fromTimestamp((function(t){const r=Gs(t);return new it(r.seconds,r.nanos)})(n))}function lT(n,e){return Sp(n,e).canonicalString()}function Sp(n,e){const t=(function(o){return new Ze(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function uT(n){const e=Ze.fromString(n);return ct(pT(e),10190,{key:e.toString()}),e}function Lf(n,e){const t=uT(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(hT(t))}function cT(n,e){return lT(n.databaseId,e)}function ON(n){const e=uT(n);return e.length===4?Ze.emptyPath():hT(e)}function $_(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hT(n){return ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function DN(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ke(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,v){return m.useProto3Json?(ct(v===void 0||typeof v=="string",58123),Bt.fromBase64String(v||"")):(ct(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Bt.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(m){const v=m.code===void 0?re.UNKNOWN:sT(m.code);return new ce(v,m.message||"")})(u);t=new oT(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Lf(n,r.document.name),a=Xo(r.document.updateTime),u=r.document.createTime?Xo(r.document.createTime):Ce.min(),d=new wr({mapValue:{fields:r.document.fields}}),f=Qt.newFoundDocument(o,a,u,d),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Bc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Lf(n,r.document),a=r.readTime?Xo(r.readTime):Ce.min(),u=Qt.newNoDocument(o,a),d=r.removedTargetIds||[];t=new Bc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Lf(n,r.document),a=r.removedTargetIds||[];t=new Bc([],a,o,null)}else{if(!("filter"in e))return ke(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new RN(o,a),d=r.targetId;t=new iT(d,u)}}return t}function LN(n,e){return{documents:[cT(n,e.path)]}}function VN(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=cT(n,o);const a=(function(m){if(m.length!==0)return fT(ir.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((v=>(function(T){return{field:Ho(T.field),direction:jN(T.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Tp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{Vt:t,parent:o}}function MN(n){let e=ON(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ct(r===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(w){const T=dT(w);return T instanceof ir&&$E(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((T=>(function(C){return new lh(Wo(C.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let T;return T=typeof w=="object"?w.value:w,Dh(T)?null:T})(t.limit));let f=null;t.startAt&&(f=(function(w){const T=!!w.before,M=w.values||[];return new ah(M,T)})(t.startAt));let m=null;return t.endAt&&(m=(function(w){const T=!w.before,M=w.values||[];return new ah(M,T)})(t.endAt)),lN(e,o,u,a,d,"F",f,m)}function FN(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Wo(t.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Wo(t.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wo(t.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Wo(t.unaryFilter.field);return Et.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Et.create(Wo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ir.create(t.compositeFilter.filters.map((r=>dT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(t.compositeFilter.op))})(n):ke(30097,{filter:n})}function jN(n){return CN[n]}function UN(n){return kN[n]}function zN(n){return PN[n]}function Ho(n){return{fieldPath:n.canonicalString()}}function Wo(n){return Xt.fromServerFormat(n.fieldPath)}function fT(n){return n instanceof Et?(function(t){if(t.op==="=="){if(k_(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(C_(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(k_(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(C_(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:UN(t.op),value:t.value}}})(n):n instanceof ir?(function(t){const r=t.getFilters().map((o=>fT(o)));return r.length===1?r[0]:{compositeFilter:{op:zN(t.op),filters:r}}})(n):ke(54877,{filter:n})}function pT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Vs{constructor(e,t,r,o,a=Ce.min(),u=Ce.min(),d=Bt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BN{constructor(e){this.gt=e}}function $N(n){const e=MN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_p(e,e.limit,"L"):e}class qN{constructor(){this.Dn=new HN}addToCollectionParentIndex(e,t){return this.Dn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Ks.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class HN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Pt(Ze.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Pt(Ze.comparator)).toArray()}}const q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mT=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(mT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class oa{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new oa(0)}static ur(){return new oa(-1)}}const H_="LruGarbageCollector",WN=1048576;function W_([n,e],[t,r]){const o=Ve(n,t);return o===0?Ve(e,r):o}class KN{constructor(e){this.Tr=e,this.buffer=new Pt(W_),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();W_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){he(H_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ya(t)?he(H_,"Ignoring IndexedDB error during garbage collection: ",t):await Nh(t)}await this.Rr(3e5)}))}}class QN{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Oh.ue);const r=new KN(t);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(q_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q_):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,o,a,u,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,d=Date.now(),this.removeTargets(e,r,t)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(m=Date.now(),$o()<=Fe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w}))))}}function JN(n,e){return new QN(n,e)}class XN{constructor(){this.changes=new Qi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ZN{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Pl(r.mutation,o,Ls.empty(),it.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=We()){const o=Oi();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let u=Il();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Oi();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,We())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,o){let a=Xs();const u=kl(),d=(function(){return kl()})();return t.forEach(((f,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof jh)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Pl(v.mutation,m,v.mutation.getFieldMask(),it.now())):u.set(m.key,Ls.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,v)=>u.set(m,v))),t.forEach(((m,v)=>{var w;return d.set(m,new YN(v,(w=u.get(m))!==null&&w!==void 0?w:null))})),d)))}recalculateAndSaveOverlays(e,t){const r=kl();let o=new gt(((u,d)=>u-d)),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||Ls.empty();v=d.applyToLocalView(m,v),r.set(f,v);const w=(o.get(d.batchId)||We()).add(f);o=o.insert(d.batchId,w)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,w=XE();v.forEach((T=>{if(!a.has(T)){const M=nT(t.get(T),r.get(T));M!==null&&w.set(T,M),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return Z.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):KE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):Z.resolve(Oi());let d=Ul,f=a;return u.next((m=>Z.forEach(m,((v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{f=f.insert(v,T)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,We()))).next((v=>({batchId:d,changes:fN(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((r=>{let o=Il();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=Il();return this.indexManager.getCollectionParents(e,a).next((d=>Z.forEach(d,(f=>{const m=(function(w,T){return new tu(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((v=>{v.forEach(((w,T)=>{u=u.insert(w,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((u=>{a.forEach(((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Qt.newInvalidDocument(v)))}));let d=Il();return u.forEach(((f,m)=>{const v=a.get(f);v!==void 0&&Pl(v.mutation,m,Ls.empty(),it.now()),Mh(t,m)&&(d=d.insert(f,m))})),d}))}}class eO{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Z.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Xo(o.createTime)}})(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(o){return{name:o.name,query:$N(o.bundledQuery),readTime:Xo(o.readTime)}})(t)),Z.resolve()}}class tO{constructor(){this.overlays=new gt(Ee.comparator),this.kr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Oi();return Z.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.wt(e,t,a)})),Z.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const o=Oi(),a=t.length+1,u=new Ee(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new gt(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Oi(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Oi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>d.set(m,v))),!(d.size()>=o)););return Z.resolve(d)}wt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new xN(t,r));let a=this.kr.get(t);a===void 0&&(a=We(),this.kr.set(t,a)),this.kr.set(t,a.add(r.key))}}class nO{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}class gm{constructor(){this.qr=new Pt(Vt.Qr),this.$r=new Pt(Vt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Vt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Vt(e,t))}Gr(e,t){e.forEach((r=>this.removeReference(r,t)))}zr(e){const t=new Ee(new Ze([])),r=new Vt(t,e),o=new Vt(t,e+1),a=[];return this.$r.forEachInRange([r,o],(u=>{this.Wr(u),a.push(u.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ee(new Ze([])),r=new Vt(t,e),o=new Vt(t,e+1);let a=We();return this.$r.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Vt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ee.comparator(e.key,t.key)||Ve(e.Hr,t.Hr)}static Ur(e,t){return Ve(e.Hr,t.Hr)||Ee.comparator(e.key,t.key)}}class rO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Pt(Vt.Qr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new SN(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Yr=this.Yr.add(new Vt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(u)}lookupMutationBatch(e,t){return Z.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),a=o<0?0:o;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?$P:this.er-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vt(t,0),o=new Vt(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,o],(u=>{const d=this.Zr(u.Hr);a.push(d)})),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pt(Ve);return t.forEach((o=>{const a=new Vt(o,0),u=new Vt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,u],(d=>{r=r.add(d.Hr)}))})),Z.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const u=new Vt(new Ee(a),0);let d=new Pt(Ve);return this.Yr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Hr)),!0)}),u),Z.resolve(this.ei(d))}ei(e){const t=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ct(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Z.forEach(t.mutations,(o=>{const a=new Vt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,t){const r=new Vt(t,0),o=this.Yr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sO{constructor(e){this.ni=e,this.docs=(function(){return new gt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let r=Xs();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Qt.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Xs();const u=t.path,d=new Ee(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||jP(FP(v),r)<=0||(o.has(v.key)||Mh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,r,o){ke(9500)}ri(e,t){return Z.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new iO(this)}getSize(e){return Z.resolve(this.size)}}class iO extends XN{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(r)})),Z.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class oO{constructor(e){this.persistence=e,this.ii=new Qi((t=>um(t)),cm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.si=0,this.oi=new gm,this.targetCount=0,this._i=oa.ar()}forEachTarget(e,t){return this.ii.forEach(((r,o)=>t(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),Z.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new oa(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.hr(t),Z.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.ii.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ii.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Z.waitFor(a).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.oi.containsKey(t))}}class gT{constructor(e,t){this.ai={},this.overlays={},this.ui=new Oh(0),this.ci=!1,this.ci=!0,this.li=new nO,this.referenceDelegate=e(this),this.hi=new oO(this),this.indexManager=new qN,this.remoteDocumentCache=(function(o){return new sO(o)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new BN(t),this.Ti=new eO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new rO(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const o=new aO(this.ui.next());return this.referenceDelegate.Ii(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,t){return Z.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,t))))}}class aO extends zP{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.Ai=new gm,this.Ri=null}static Vi(e){return new ym(e)}get mi(){if(this.Ri)return this.Ri;throw ke(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((o=>this.mi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.mi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.mi,(r=>{const o=Ee.fromPath(r);return this.fi(e,o).next((a=>{a||t.removeEntry(o,Ce.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return Z.or([()=>Z.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class hh{constructor(e,t){this.persistence=e,this.gi=new Qi((r=>HP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=JN(this,t)}static Vi(e,t){return new hh(e,t)}Ii(){}di(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}yr(e){let t=0;return this.gr(e,(r=>{t++})).next((()=>t))}gr(e,t){return Z.forEach(this.gi,((r,o)=>this.Sr(e,r,o).next((a=>a?Z.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ri(e,(u=>this.Sr(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Ce.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Z.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Uc(e.data.value)),t}Sr(e,t,r){return Z.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class vm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=o}static Es(e,t){let r=We(),o=We();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new vm(e,t.fromCache,r,o)}}class lO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class uO{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Gb()?8:BP(Yt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ps(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ys(e,t,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new lO;return this.ws(e,t,u).next((d=>{if(a.result=d,this.Rs)return this.Ss(e,t,u,d.size)}))})).next((()=>a.result))}Ss(e,t,r,o){return r.documentReadCount<this.Vs?($o()<=Fe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):($o()<=Fe.DEBUG&&he("QueryEngine","Query:",qo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?($o()<=Fe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):Z.resolve())}ps(e,t){if(D_(t))return Z.resolve(null);let r=Sr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=_p(t,null,"F"),r=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=We(...a);return this.gs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,d);return this.Ds(t,m,u,f.readTime)?this.ps(e,_p(t,null,"F")):this.vs(e,m,t,f)}))))})))))}ys(e,t,r,o){return D_(t)||o.isEqual(Ce.min())?Z.resolve(null):this.gs.getDocuments(e,r).next((a=>{const u=this.bs(t,a);return this.Ds(t,u,r,o)?Z.resolve(null):($o()<=Fe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qo(t)),this.vs(e,u,t,MP(o,Ul)).next((d=>d)))}))}bs(e,t){let r=new Pt(QE(e));return t.forEach(((o,a)=>{Mh(e,a)&&(r=r.add(a))})),r}Ds(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ws(e,t,r){return $o()<=Fe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",qo(t)),this.gs.getDocumentsMatchingQuery(e,t,Ks.min(),r)}vs(e,t,r,o){return this.gs.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}const _m="LocalStore",cO=3e8;class hO{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new gt(Ve),this.Ms=new Qi((a=>um(a)),cm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function dO(n,e,t,r){return new hO(n,e,t,r)}async function yT(n,e){const t=qe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=We();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Bs:m,removedBatchIds:u,addedBatchIds:d})))}))}))}function vT(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function fO(n,e){const t=qe(n),r=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach(((v,w)=>{const T=o.get(w);if(!T)return;d.push(t.hi.removeMatchingKeys(a,v.removedDocuments,w).next((()=>t.hi.addMatchingKeys(a,v.addedDocuments,w))));let M=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?M=M.withResumeToken(Bt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(v.resumeToken,r)),o=o.insert(w,M),(function(N,A,Y){return N.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=cO?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(T,M,v)&&d.push(t.hi.updateTargetData(a,M))}));let f=Xs(),m=We();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),d.push(pO(a,u,e.documentUpdates).next((v=>{f=v.Ls,m=v.ks}))),!r.isEqual(Ce.min())){const v=t.hi.getLastRemoteSnapshotVersion(a).next((w=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(v)}return Z.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.Fs=o,a)))}function pO(n,e,t){let r=We(),o=We();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=Xs();return t.forEach(((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Ce.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):he(_m,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Ls:u,ks:o}}))}function mO(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.hi.getTargetData(r,e).next((a=>a?(o=a,Z.resolve(o)):t.hi.allocateTargetId(r).next((u=>(o=new Vs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r}))}async function xp(n,e,t){const r=qe(n),o=r.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!ya(u))throw u;he(_m,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(o.target)}function K_(n,e,t){const r=qe(n);let o=Ce.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,v){const w=qe(f),T=w.Ms.get(v);return T!==void 0?Z.resolve(w.Fs.get(T)):w.hi.getTargetData(m,v)})(r,u,Sr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?o:Ce.min(),t?a:We()))).next((d=>(gO(r,cN(e),d),{documents:d,qs:a})))))}function gO(n,e,t){let r=n.xs.get(e)||Ce.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.xs.set(e,r)}class G_{constructor(){this.activeTargetIds=gN()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yO{constructor(){this.Fo=new G_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new G_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vO{xo(e){}shutdown(){}}const Q_="ConnectivityMonitor";class J_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){he(Q_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){he(Q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ac=null;function Rp(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}const Vf="RestConnection",_O={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wO{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===ih?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,a){const u=Rp(),d=this.Go(e,t.toUriEncodedString());he(Vf,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,o,a);const{host:m}=new URL(d),v=Wi(m);return this.jo(e,d,f,r,v).then((w=>(he(Vf,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw Ws(Vf,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w}))}Jo(e,t,r,o,a,u){return this.Wo(e,t,r,o,a)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ga})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}Go(e,t){const r=_O[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}class EO{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const Kt="WebChannelConnection";class TO extends wO{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,o,a){const u=Rp();return new Promise(((d,f)=>{const m=new TE;m.setWithCredentials(!0),m.listenOnce(IE.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case jc.NO_ERROR:const w=m.getResponseJson();he(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case jc.TIMEOUT:he(Kt,`RPC '${e}' ${u} timed out`),f(new ce(re.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const T=m.getStatus();if(he(Kt,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let M=m.getResponseJson();Array.isArray(M)&&(M=M[0]);const C=M?.error;if(C&&C.status&&C.message){const N=(function(Y){const Q=Y.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(Q)>=0?Q:re.UNKNOWN})(C.status);f(new ce(N,C.message))}else f(new ce(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ce(re.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{c_:e,streamId:u,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{he(Kt,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);he(Kt,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",v,r,15)}))}P_(e,t,r){const o=Rp(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=RE(),d=xE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");he(Kt,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=u.createWebChannel(v,f);this.T_(w);let T=!1,M=!1;const C=new EO({Ho:A=>{M?he(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,A):(T||(he(Kt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),he(Kt,`RPC '${e}' stream ${o} sending:`,A),w.send(A))},Yo:()=>w.close()}),N=(A,Y,Q)=>{A.listen(Y,(J=>{try{Q(J)}catch(X){setTimeout((()=>{throw X}),0)}}))};return N(w,Tl.EventType.OPEN,(()=>{M||(he(Kt,`RPC '${e}' stream ${o} transport opened.`),C.s_())})),N(w,Tl.EventType.CLOSE,(()=>{M||(M=!0,he(Kt,`RPC '${e}' stream ${o} transport closed`),C.__(),this.I_(w))})),N(w,Tl.EventType.ERROR,(A=>{M||(M=!0,Ws(Kt,`RPC '${e}' stream ${o} transport errored. Name:`,A.name,"Message:",A.message),C.__(new ce(re.UNAVAILABLE,"The operation could not be completed")))})),N(w,Tl.EventType.MESSAGE,(A=>{var Y;if(!M){const Q=A.data[0];ct(!!Q,16349);const J=Q,X=J?.error||((Y=J[0])===null||Y===void 0?void 0:Y.error);if(X){he(Kt,`RPC '${e}' stream ${o} received error:`,X);const ue=X.status;let de=(function(R){const O=wt[R];if(O!==void 0)return sT(O)})(ue),P=X.message;de===void 0&&(de=re.INTERNAL,P="Unknown error status: "+ue+" with message "+X.message),M=!0,C.__(new ce(de,P)),w.close()}else he(Kt,`RPC '${e}' stream ${o} received:`,Q),C.a_(Q)}})),N(d,SE.STAT_EVENT,(A=>{A.stat===dp.PROXY?he(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):A.stat===dp.NOPROXY&&he(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{C.o_()}),0),C}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function Mf(){return typeof document<"u"?document:null}function zh(n){return new NN(n,!0)}class _T{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=o,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-r);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const X_="PersistentStream";class IO{constructor(e,t,r,o,a,u,d,f){this.Fi=e,this.w_=r,this.S_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new _T(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.b_===t&&this.W_(r,o)}),(r=>{e((()=>{const o=new ce(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)}))}))}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{r((()=>this.G_(o)))})),this.stream.onMessage((o=>{r((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return he(X_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(he(X_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SO extends IO{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=DN(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ce.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Xo(u.readTime):Ce.min()})(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=$_(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=yp(f)?{documents:LN(a,f)}:{query:VN(a,f).Vt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=aT(a,u.resumeToken);const m=Tp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ce.min())>0){d.readTime=Ip(a,u.snapshotVersion.toTimestamp());const m=Tp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=FN(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=$_(this.serializer),t.removeTarget=e,this.k_(t)}}class xO{}class RO extends xO{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ce(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,Sp(t,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(re.UNKNOWN,a.toString())}))}Jo(e,t,r,o,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Jo(e,Sp(t,r),o,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(re.UNKNOWN,u.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class bO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Zr(t),this._a=!1):he("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}const aa="RemoteStore";class AO{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((u=>{r.enqueueAndForget((async()=>{su(this)&&(he(aa,"Restarting streams for network reachability change."),await(async function(f){const m=qe(f);m.Ia.add(4),await ru(m),m.Aa.set("Unknown"),m.Ia.delete(4),await Bh(m)})(this))}))})),this.Aa=new bO(r,o)}}async function Bh(n){if(su(n))for(const e of n.da)await e(!0)}async function ru(n){for(const e of n.da)await e(!1)}function wT(n,e){const t=qe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Im(t)?Tm(t):_a(t).x_()&&Em(t,e))}function wm(n,e){const t=qe(n),r=_a(t);t.Ta.delete(e),r.x_()&&ET(t,e),t.Ta.size===0&&(r.x_()?r.B_():su(t)&&t.Aa.set("Unknown"))}function Em(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_a(n).H_(e)}function ET(n,e){n.Ra.$e(e),_a(n).Y_(e)}function Tm(n){n.Ra=new AN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),_a(n).start(),n.Aa.aa()}function Im(n){return su(n)&&!_a(n).M_()&&n.Ta.size>0}function su(n){return qe(n).Ia.size===0}function TT(n){n.Ra=void 0}async function CO(n){n.Aa.set("Online")}async function kO(n){n.Ta.forEach(((e,t)=>{Em(n,e)}))}async function PO(n,e){TT(n),Im(n)?(n.Aa.la(e),Tm(n)):n.Aa.set("Unknown")}async function NO(n,e,t){if(n.Aa.set("Online"),e instanceof oT&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ta.delete(d),o.Ra.removeTarget(d))})(n,e)}catch(r){he(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Y_(n,r)}else if(e instanceof Bc?n.Ra.Ye(e):e instanceof iT?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ce.min()))try{const r=await vT(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Ra.Pt(u);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ta.get(m);v&&a.Ta.set(m,v.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,m)=>{const v=a.Ta.get(f);if(!v)return;a.Ta.set(f,v.withResumeToken(Bt.EMPTY_BYTE_STRING,v.snapshotVersion)),ET(a,f);const w=new Vs(v.target,f,m,v.sequenceNumber);Em(a,w)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){he(aa,"Failed to raise snapshot:",r),await Y_(n,r)}}async function Y_(n,e,t){if(!ya(e))throw e;n.Ia.add(1),await ru(n),n.Aa.set("Offline"),t||(t=()=>vT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(aa,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Bh(n)}))}async function Z_(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),he(aa,"RemoteStore received new credentials");const r=su(t);t.Ia.add(3),await ru(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Bh(t)}async function OO(n,e){const t=qe(n);e?(t.Ia.delete(2),await Bh(t)):e||(t.Ia.add(2),await ru(t),t.Aa.set("Unknown"))}function _a(n){return n.Va||(n.Va=(function(t,r,o){const a=qe(t);return a.ia(),new SO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:CO.bind(null,n),e_:kO.bind(null,n),n_:PO.bind(null,n),J_:NO.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),Im(n)?Tm(n):n.Aa.set("Unknown")):(await n.Va.stop(),TT(n))}))),n.Va}class Sm{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new Sm(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IT(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),ya(n))return new ce(re.UNAVAILABLE,`${e}: ${n}`);throw n}class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=Il(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class e0{constructor(){this.fa=new gt(Ee.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ke(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,r)=>{e.push(r)})),e}}class la{constructor(e,t,r,o,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new la(e,t,Yo.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class DO{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class LO{constructor(){this.queries=t0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const o=qe(t),a=o.queries;o.queries=t0(),a.forEach(((u,d)=>{for(const f of d.wa)f.onError(r)}))})(this,new ce(re.ABORTED,"Firestore shutting down"))}}function t0(){return new Qi((n=>GE(n)),Vh)}async function ST(n,e){const t=qe(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Sa()&&e.ba()&&(r=2):(a=new DO,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await t.onListen(o,!0);break;case 1:a.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=IT(u,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&xm(t)}async function xT(n,e){const t=qe(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.wa.indexOf(e);u>=0&&(a.wa.splice(u,1),a.wa.length===0?o=e.ba()?0:1:!a.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function VO(n,e){const t=qe(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.wa)d.Ca(o)&&(r=!0);u.ya=o}}r&&xm(t)}function MO(n,e,t){const r=qe(n),o=r.queries.get(e);if(o)for(const a of o.wa)a.onError(t);r.queries.delete(e)}function xm(n){n.Da.forEach((e=>{e.next()}))}var bp,n0;(n0=bp||(bp={})).Fa="default",n0.Cache="cache";class RT{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new la(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==bp.Cache}}class bT{constructor(e){this.key=e}}class AT{constructor(e){this.key=e}}class FO{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=We(),this.mutatedKeys=We(),this.Xa=QE(e),this.eu=new Yo(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new e0,o=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,w)=>{const T=o.get(v),M=Mh(this.query,w)?w:null,C=!!T&&this.mutatedKeys.has(T.key),N=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let A=!1;T&&M?T.data.isEqual(M.data)?C!==N&&(r.track({type:3,doc:M}),A=!0):this.iu(T,M)||(r.track({type:2,doc:M}),A=!0,(f&&this.Xa(M,f)>0||m&&this.Xa(M,m)<0)&&(d=!0)):!T&&M?(r.track({type:0,doc:M}),A=!0):T&&!M&&(r.track({type:1,doc:T}),A=!0,(f||m)&&(d=!0)),A&&(M?(u=u.add(M),a=N?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{eu:u,ru:r,Ds:d,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort(((v,w)=>(function(M,C){const N=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{At:A})}};return N(M)-N(C)})(v.type,w.type)||this.Xa(v.doc,w.doc))),this.su(r),o=o!=null&&o;const d=t&&!o?this.ou():[],f=this.Za.size===0&&this.current&&!o?1:0,m=f!==this.Ya;return this.Ya=f,u.length!==0||m?{snapshot:new la(this.query,e.eu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new e0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=We(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const t=[];return e.forEach((r=>{this.Za.has(r)||t.push(new AT(r))})),this.Za.forEach((r=>{e.has(r)||t.push(new bT(r))})),t}uu(e){this.Ha=e.qs,this.Za=We();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return la.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Rm="SyncEngine";class jO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class UO{constructor(e){this.key=e,this.lu=!1}}class zO{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Qi((d=>GE(d)),Vh),this.Tu=new Map,this.Iu=new Set,this.du=new gt(Ee.comparator),this.Eu=new Map,this.Au=new gm,this.Ru={},this.Vu=new Map,this.mu=oa.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function BO(n,e,t=!0){const r=OT(n);let o;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.cu()):o=await CT(r,e,t,!0),o}async function $O(n,e){const t=OT(n);await CT(t,e,!0,!1)}async function CT(n,e,t,r){const o=await mO(n.localStore,Sr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await qO(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&wT(n.remoteStore,o),d}async function qO(n,e,t,r,o){n.gu=(w,T,M)=>(async function(N,A,Y,Q){let J=A.view.nu(Y);J.Ds&&(J=await K_(N.localStore,A.query,!1).then((({documents:P})=>A.view.nu(P,J))));const X=Q&&Q.targetChanges.get(A.targetId),ue=Q&&Q.targetMismatches.get(A.targetId)!=null,de=A.view.applyChanges(J,N.isPrimaryClient,X,ue);return s0(N,A.targetId,de._u),de.snapshot})(n,w,T,M);const a=await K_(n.localStore,e,!0),u=new FO(e,a.qs),d=u.nu(a.documents),f=nu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);s0(n,t,m._u);const v=new jO(e,t,u);return n.Pu.set(e,v),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),m.snapshot}async function HO(n,e,t){const r=qe(n),o=r.Pu.get(e),a=r.Tu.get(o.targetId);if(a.length>1)return r.Tu.set(o.targetId,a.filter((u=>!Vh(u,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await xp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&wm(r.remoteStore,o.targetId),Ap(r,o.targetId)})).catch(Nh)):(Ap(r,o.targetId),await xp(r.localStore,o.targetId,!0))}async function WO(n,e){const t=qe(n),r=t.Pu.get(e),o=t.Tu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),wm(t.remoteStore,r.targetId))}async function kT(n,e){const t=qe(n);try{const r=await fO(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=t.Eu.get(a);u&&(ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.lu=!0:o.modifiedDocuments.size>0?ct(u.lu,14607):o.removedDocuments.size>0&&(ct(u.lu,42227),u.lu=!1))})),await NT(t,r,e)}catch(r){await Nh(r)}}function r0(n,e,t){const r=qe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Pu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const f=qe(u);f.onlineState=d;let m=!1;f.queries.forEach(((v,w)=>{for(const T of w.wa)T.va(d)&&(m=!0)})),m&&xm(f)})(r.eventManager,e),o.length&&r.hu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KO(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Eu.get(e),a=o&&o.key;if(a){let u=new gt(Ee.comparator);u=u.insert(a,Qt.newNoDocument(a,Ce.min()));const d=We().add(a),f=new Uh(Ce.min(),new Map,new gt(Ve),u,d);await kT(r,f),r.du=r.du.remove(a),r.Eu.delete(e),bm(r)}else await xp(r.localStore,e,!1).then((()=>Ap(r,e,t))).catch(Nh)}function Ap(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((r=>{n.Au.containsKey(r)||PT(n,r)}))}function PT(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(wm(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),bm(n))}function s0(n,e,t){for(const r of t)r instanceof bT?(n.Au.addReference(r.key,e),GO(n,r)):r instanceof AT?(he(Rm,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||PT(n,r.key)):ke(19791,{yu:r})}function GO(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(he(Rm,"New document in limbo: "+t),n.Iu.add(r),bm(n))}function bm(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Ee(Ze.fromString(e)),r=n.mu.next();n.Eu.set(r,new UO(t)),n.du=n.du.insert(t,r),wT(n.remoteStore,new Vs(Sr(hm(t.path)),r,"TargetPurposeLimboResolution",Oh.ue))}}async function NT(n,e,t){const r=qe(n),o=[],a=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach(((d,f)=>{u.push(r.gu(f,e,t).then((m=>{var v;if((m||t)&&r.isPrimaryClient){const w=m?!m.fromCache:(v=t?.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){o.push(m);const w=vm.Es(f.targetId,m);a.push(w)}})))})),await Promise.all(u),r.hu.J_(o),await(async function(f,m){const v=qe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(m,(T=>Z.forEach(T.Is,(M=>v.persistence.referenceDelegate.addReference(w,T.targetId,M))).next((()=>Z.forEach(T.ds,(M=>v.persistence.referenceDelegate.removeReference(w,T.targetId,M)))))))))}catch(w){if(!ya(w))throw w;he(_m,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const M=v.Fs.get(T),C=M.snapshotVersion,N=M.withLastLimboFreeSnapshotVersion(C);v.Fs=v.Fs.insert(T,N)}}})(r.localStore,a))}async function QO(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){he(Rm,"User change. New user:",e.toKey());const r=await yT(t.localStore,e);t.currentUser=e,(function(a,u){a.Vu.forEach((d=>{d.forEach((f=>{f.reject(new ce(re.CANCELLED,u))}))})),a.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await NT(t,r.Bs)}}function JO(n,e){const t=qe(n),r=t.Eu.get(e);if(r&&r.lu)return We().add(r.key);{let o=We();const a=t.Tu.get(e);if(!a)return o;for(const u of a){const d=t.Pu.get(u);o=o.unionWith(d.view.tu)}return o}}function OT(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KO.bind(null,e),e.hu.J_=VO.bind(null,e.eventManager),e.hu.pu=MO.bind(null,e.eventManager),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return dO(this.persistence,new uO,e.initialUser,this.serializer)}Du(e){return new gT(ym.Vi,this.serializer)}bu(e){return new yO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class XO extends dh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ct(this.persistence.referenceDelegate instanceof hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GN(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new gT((r=>hh.Vi(r,t)),this.serializer)}}class Cp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>r0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QO.bind(null,this.syncEngine),await OO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LO})()}createDatastore(e){const t=zh(e.databaseInfo.databaseId),r=(function(a){return new TO(a)})(e.databaseInfo);return(function(a,u,d,f){return new RO(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,u,d){return new AO(r,o,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>r0(this.syncEngine,t,0)),(function(){return J_.C()?new J_:new vO})())}createSyncEngine(e,t){return(function(o,a,u,d,f,m,v){const w=new zO(o,a,u,d,f,m);return v&&(w.fu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=qe(o);he(aa,"RemoteStore shutting down."),a.Ia.add(5),await ru(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Cp.provider={build:()=>new Cp};class DT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ys="FirestoreClient";class YO{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Gt.UNAUTHENTICATED,this.clientId=om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{he(Ys,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(he(Ys,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=IT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ff(n,e){n.asyncQueue.verifyOperationInProgress(),he(Ys,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await yT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>{Ws("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{he("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Ws("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),n._offlineComponents=e}async function i0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ZO(n);he(Ys,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Z_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>Z_(e.remoteStore,o))),n._onlineComponents=e}async function ZO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Ys,"Using user provided OfflineComponentProvider");try{await Ff(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ws("Error using user provided cache. Falling back to memory cache: "+t),await Ff(n,new dh)}}else he(Ys,"Using default OfflineComponentProvider"),await Ff(n,new XO(void 0));return n._offlineComponents}async function e2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Ys,"Using user provided OnlineComponentProvider"),await i0(n,n._uninitializedComponentsProvider._online)):(he(Ys,"Using default OnlineComponentProvider"),await i0(n,new Cp))),n._onlineComponents}async function LT(n){const e=await e2(n),t=e.eventManager;return t.onListen=BO.bind(null,e.syncEngine),t.onUnlisten=HO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$O.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WO.bind(null,e.syncEngine),t}function t2(n,e,t={}){const r=new $s;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const v=new DT({next:T=>{v.Ou(),u.enqueueAndForget((()=>xT(a,w)));const M=T.docs.has(d);!M&&T.fromCache?m.reject(new ce(re.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&T.fromCache&&f&&f.source==="server"?m.reject(new ce(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new RT(hm(d.path),v,{includeMetadataChanges:!0,ka:!0});return ST(a,w)})(await LT(n),n.asyncQueue,e,t,r))),r.promise}function n2(n,e,t={}){const r=new $s;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const v=new DT({next:T=>{v.Ou(),u.enqueueAndForget((()=>xT(a,w))),T.fromCache&&f.source==="server"?m.reject(new ce(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new RT(d,v,{includeMetadataChanges:!0,ka:!0});return ST(a,w)})(await LT(n),n.asyncQueue,e,t,r))),r.promise}function VT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const o0=new Map;const MT="firestore.googleapis.com",a0=!0;class l0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MT,this.ssl=a0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:a0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WN)throw new ce(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new bP;switch(r.type){case"firstParty":return new PP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=o0.get(t);r&&(he("ComponentProvider","Removing Datastore"),o0.delete(t),r.terminate())})(this),Promise.resolve()}}function r2(n,e,t,r={}){var o;n=jl(n,$h);const a=Wi(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(Hp(`https://${f}`),Wp("Firestore",!0)),u.host!==MT&&u.host!==f&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:f,ssl:a,emulatorOptions:r});if(!Ui(m,d)&&(n._setSettings(m),r.mockUserToken)){let v,w;if(typeof r.mockUserToken=="string")v=r.mockUserToken,w=Gt.MOCK_USER;else{v=Pw(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ce(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Gt(T)}n._authCredentials=new AP(new AE(v,w))}}class wa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class kt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(eu(t,kt._jsonSchema))return new kt(e,r||null,new Ee(Ze.fromString(t.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Tt("string",kt._jsonSchemaVersion),referencePath:Tt("string")};class qs extends wa{constructor(e,t,r){super(e,t,hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new Ee(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function hV(n,e,...t){if(n=sn(n),kE("collection","path",e),n instanceof $h){const r=Ze.fromString(e,...t);return w_(r),new qs(n,null,r)}{if(!(n instanceof kt||n instanceof qs))throw new ce(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return w_(r),new qs(n.firestore,null,r)}}function dV(n,e,...t){if(n=sn(n),arguments.length===1&&(e=om.newId()),kE("doc","path",e),n instanceof $h){const r=Ze.fromString(e,...t);return __(r),new kt(n,null,new Ee(r))}{if(!(n instanceof kt||n instanceof qs))throw new ce(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return __(r),new kt(n.firestore,n instanceof qs?n.converter:null,new Ee(r))}}const u0="AsyncQueue";class c0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new _T(this,"async_queue_retry"),this.oc=()=>{const r=Mf();r&&he(u0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=Mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Mf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new $s;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ya(e))throw e;he(u0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,Zr("INTERNAL UNHANDLED ERROR: ",h0(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=Sm.createAndSchedule(this,e,t,r,(a=>this.lc(a)));return this.ec.push(o),o}ac(){this.tc&&ke(47125,{hc:h0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function h0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Am extends $h{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new c0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new c0(e),this._firestoreClient=void 0,await e}}}function s2(n,e){const t=typeof n=="object"?n:Rh(),r=typeof n=="string"?n:ih,o=xh(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=Aw("firestore");a&&r2(o,...a)}return o}function FT(n){if(n._terminated)throw new ce(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||i2(n),n._firestoreClient}function i2(n){var e,t,r;const o=n._freezeSettings(),a=(function(d,f,m,v){return new GP(d,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,VT(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new YO(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(d){const f=d?._online.build();return{_offline:d?._offline.build(f),_online:f}})(n._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Bt.fromBase64String(e))}catch(t){throw new ce(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jn(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Tt("string",jn._jsonSchemaVersion),bytes:Tt("string")};class jT{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class UT{constructor(e){this._methodName=e}}class xr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xr._jsonSchemaVersion}}static fromJSON(e){if(eu(e,xr._jsonSchema))return new xr(e.latitude,e.longitude)}}xr._jsonSchemaVersion="firestore/geoPoint/1.0",xr._jsonSchema={type:Tt("string",xr._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};class Rr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Rr(e.vectorValues);throw new ce(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:Tt("string",Rr._jsonSchemaVersion),vectorValues:Tt("object")};const o2=/^__.*__$/;function zT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ec:n})}}class Cm{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.fc(e),o}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return kp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(zT(this.Ec)&&o2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class a2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||zh(e)}Dc(e,t,r,o=!1){return new Cm({Ec:e,methodName:t,bc:r,path:Xt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l2(n){const e=n._freezeSettings(),t=zh(n._databaseId);return new a2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function u2(n,e,t,r=!1){return km(t,n.Dc(r?4:3,e))}function km(n,e){if(BT(n=sn(n)))return h2("Unsupported field value:",e,n),c2(n,e);if(n instanceof UT)return(function(r,o){if(!zT(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const d of r){let f=km(d,o.yc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=it.fromDate(r);return{timestampValue:Ip(o.serializer,a)}}if(r instanceof it){const a=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ip(o.serializer,a)}}if(r instanceof xr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:aT(o.serializer,r._byteString)};if(r instanceof kt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:lT(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Rr)return(function(u,d){return{mapValue:{fields:{[jE]:{stringValue:UE},[oh]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw d.wc("VectorValues must only contain numeric values.");return dm(d.serializer,m)}))}}}}}})(r,o);throw o.wc(`Unsupported field value: ${Ph(r)}`)})(n,e)}function c2(n,e){const t={};return OE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(n,((r,o)=>{const a=km(o,e.Vc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function BT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof xr||n instanceof jn||n instanceof kt||n instanceof UT||n instanceof Rr)}function h2(n,e,t){if(!BT(t)||!PE(t)){const r=Ph(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}const d2=new RegExp("[~\\*/\\[\\]]");function f2(n,e,t){if(e.search(d2)>=0)throw kp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jT(...e.split("."))._internalPath}catch{throw kp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kp(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new ce(re.INVALID_ARGUMENT,d+n+f)}class $T{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class p2 extends $T{data(){return super.data()}}function qT(n,e){return typeof e=="string"?f2(n,e):e instanceof jT?e._internalPath:e._delegate._internalPath}function m2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pm{}class g2 extends Pm{}function fV(n,e,...t){let r=[];e instanceof Pm&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((f=>f instanceof Om)).length,d=a.filter((f=>f instanceof Nm)).length;if(u>1||u>0&&d>0)throw new ce(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Nm extends g2{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Nm(e,t,r)}_apply(e){const t=this._parse(e);return HT(e._query,t),new wa(e.firestore,e.converter,vp(e._query,t))}_parse(e){const t=l2(e.firestore);return(function(a,u,d,f,m,v,w){let T;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ce(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){f0(w,v);const C=[];for(const N of w)C.push(d0(f,a,N));T={arrayValue:{values:C}}}else T=d0(f,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||f0(w,v),T=u2(d,u,w,v==="in"||v==="not-in");return Et.create(m,v,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Om extends Pm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Om(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let u=o;const d=a.getFlattenedFilters();for(const f of d)HT(u,f),u=vp(u,f)})(e._query,t),new wa(e.firestore,e.converter,vp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function d0(n,e,t){if(typeof(t=sn(t))=="string"){if(t==="")throw new ce(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KE(e)&&t.indexOf("/")!==-1)throw new ce(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ze.fromString(t));if(!Ee.isDocumentKey(r))throw new ce(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return A_(n,new Ee(r))}if(t instanceof kt)return A_(n,t._key);throw new ce(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ph(t)}.`)}function f0(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HT(n,e){const t=(function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class y2{convertValue(e,t="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return va(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[oh].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((u=>pt(u.doubleValue)));return new Rr(a)}convertGeoPoint(e){return new xr(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Lh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const t=Gs(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ze.fromString(e);ct(pT(r),9688,{name:e});const o=new Bl(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return o.isEqual(t)||Zr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class xl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vi extends $T{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(qT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Vi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Vi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vi._jsonSchema={type:Tt("string",Vi._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class $c extends Vi{data(e={}){return super.data(e)}}class Zo{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new xl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new $c(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const f=new $c(o._firestore,o._userDataWriter,d.doc.key,d.doc,new xl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new $c(o._firestore,o._userDataWriter,d.doc.key,d.doc,new xl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:v2(d.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function v2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:n})}}function pV(n){n=jl(n,kt);const e=jl(n.firestore,Am);return t2(FT(e),n._key).then((t=>_2(e,n,t)))}Zo._jsonSchemaVersion="firestore/querySnapshot/1.0",Zo._jsonSchema={type:Tt("string",Zo._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class WT extends y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function mV(n){n=jl(n,wa);const e=jl(n.firestore,Am),t=FT(e),r=new WT(e);return m2(n._query),n2(t,n._query).then((o=>new Zo(e,r,n,o)))}function _2(n,e,t){const r=t.docs.get(e._key),o=new WT(n);return new Vi(n,o,e._key,r,new xl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ga=o})(Ki),zi(new Hs("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Am(new CP(r.getProvider("auth-internal")),new NP(u,r.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ce(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(m.options.projectId,v)})(u,o),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Er(p_,m_,e),Er(p_,m_,"esm2017")})();const KT="firebasestorage.googleapis.com",w2="storageBucket",E2=120*1e3,T2=600*1e3;class kr extends Cr{constructor(e,t,r=0){super(jf(e),`Firebase Storage: ${t} (${jf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ar;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ar||(Ar={}));function jf(n){return"storage/"+n}function I2(){const n="An unknown error occurred, please check the error payload for server response.";return new kr(Ar.UNKNOWN,n)}function S2(){return new kr(Ar.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function x2(){return new kr(Ar.CANCELED,"User canceled the upload/download.")}function R2(n){return new kr(Ar.INVALID_URL,"Invalid URL '"+n+"'.")}function b2(n){return new kr(Ar.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function p0(n){return new kr(Ar.INVALID_ARGUMENT,n)}function GT(){return new kr(Ar.APP_DELETED,"The Firebase app was deleted.")}function A2(n){return new kr(Ar.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class rr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=rr.makeFromUrl(e,t)}catch{return new rr(e,"")}if(r.path==="")return r;throw b2(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function m(X){X.path_=decodeURIComponent(X.path)}const v="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",M=new RegExp(`^https?://${w}/${v}/b/${o}/o${T}`,"i"),C={bucket:1,path:3},N=t===KT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,A="([^?#]*)",Y=new RegExp(`^https?://${N}/${o}/${A}`,"i"),J=[{regex:d,indices:f,postModify:a},{regex:M,indices:C,postModify:m},{regex:Y,indices:{bucket:1,path:2},postModify:m}];for(let X=0;X<J.length;X++){const ue=J[X],de=ue.regex.exec(e);if(de){const P=de[ue.indices.bucket];let S=de[ue.indices.path];S||(S=""),r=new rr(P,S),ue.postModify(r);break}}if(r==null)throw R2(e);return r}}class C2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function k2(n,e,t){let r=1,o=null,a=null,u=!1,d=0;function f(){return d===2}let m=!1;function v(...A){m||(m=!0,e.apply(null,A))}function w(A){o=setTimeout(()=>{o=null,n(M,f())},A)}function T(){a&&clearTimeout(a)}function M(A,...Y){if(m){T();return}if(A){T(),v.call(null,A,...Y);return}if(f()||u){T(),v.call(null,A,...Y);return}r<64&&(r*=2);let J;d===1?(d=2,J=0):J=(r+Math.random())*1e3,w(J)}let C=!1;function N(A){C||(C=!0,T(),!m&&(o!==null?(A||(d=2),clearTimeout(o),w(0)):A||(d=1)))}return w(0),a=setTimeout(()=>{u=!0,N(!0)},t),N}function P2(n){n(!1)}function N2(n){return n!==void 0}function m0(n,e,t,r){if(r<e)throw p0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw p0(`Invalid value for '${n}'. Expected ${t} or less.`)}function O2(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var fh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(fh||(fh={}));function D2(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}class L2{constructor(e,t,r,o,a,u,d,f,m,v,w,T=!0,M=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=w,this.retry=T,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,N)=>{this.resolve_=C,this.reject_=N,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Cc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===fh.NO_ERROR,f=a.getStatus();if(!d||D2(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===fh.ABORT;r(!1,new Cc(!1,null,v));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Cc(m,a))})},t=(r,o)=>{const a=this.resolve_,u=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());N2(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=I2();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(o.canceled){const f=this.appDelete_?GT():x2();u(f)}else{const f=S2();u(f)}};this.canceled_?t(!1,new Cc(!1,null,!0)):this.backoffId_=k2(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&P2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function V2(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function M2(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function F2(n,e){e&&(n["X-Firebase-GMPID"]=e)}function j2(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function U2(n,e,t,r,o,a,u=!0,d=!1){const f=O2(n.urlParams),m=n.url+f,v=Object.assign({},n.headers);return F2(v,e),V2(v,t),M2(v,a),j2(v,r),new L2(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u,d)}function z2(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function B2(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class ph{constructor(e,t){this._service=e,t instanceof rr?this._location=t:this._location=rr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ph(e,t)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B2(this._location.path)}get storage(){return this._service}get parent(){const e=z2(this._location.path);if(e===null)return null;const t=new rr(this._location.bucket,e);return new ph(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw A2(e)}}function g0(n,e){const t=e?.[w2];return t==null?null:rr.makeFromBucketSpec(t,n)}function $2(n,e,t,r={}){n.host=`${e}:${t}`;const o=Wi(e);o&&(Hp(`https://${n.host}/b`),Wp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:Pw(a,n.app.options.projectId))}class q2{constructor(e,t,r,o,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=KT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=E2,this._maxUploadRetryTime=T2,this._requests=new Set,o!=null?this._bucket=rr.makeFromBucketSpec(o,this._host):this._bucket=g0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=g0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){m0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){m0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ph(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new C2(GT());{const u=U2(e,this._appId,r,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const y0="@firebase/storage",v0="0.13.14";const QT="storage";function H2(n=Rh(),e){n=sn(n);const r=xh(n,QT).getImmediate({identifier:e}),o=Aw("storage");return o&&W2(r,...o),r}function W2(n,e,t,r={}){$2(n,e,t,r)}function K2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new q2(t,r,o,e,Ki)}function G2(){zi(new Hs(QT,K2,"PUBLIC").setMultipleInstances(!0)),Er(y0,v0,""),Er(y0,v0,"esm2017")}G2();const JT={apiKey:"AIzaSyACsMx8R69IaLSm9DWpUupgSRk8wIvjRfs",authDomain:"momentum-premium.firebaseapp.com",projectId:"momentum-premium",storageBucket:"momentum-premium.firebasestorage.app",messagingSenderId:"431576391107",appId:"1:431576391107:web:a01bfbbae32f48077bb176",measurementId:"G-XXXXXXX"};console.log(" Firebase config carregado:",JT);console.log(" Variveis do ambiente Vite:");console.log("API_KEY:","AIzaSyACsMx8R69IaLSm9DWpUupgSRk8wIvjRfs");console.log("API_URL:",sm);console.log("ENVIRONMENT:","production");let ql;nC().length?(ql=Rh(),console.log(" Firebase App reutilizado (j inicializado)")):(ql=Dw(JT),console.log(" Firebase inicializado com sucesso"));const gn=TP(ql),gV=s2(ql);H2(ql);window.momentumAuth=gn;const Zs=mt.create({baseURL:sm,timeout:6e4});function Q2(n){return/^https?:\/\//i.test(n)}function J2(n){if(typeof window>"u")return!1;try{return new URL(n,window.location.origin).origin===window.location.origin}catch{return!1}}function X2(n){const e=String(n.baseURL??Zs.defaults.baseURL??sm??"");return!Q2(e)||J2(e)}async function Y2(){return gn.currentUser?gn.currentUser:new Promise(n=>{const e=lE(gn,t=>{e(),n(t)})})}Zs.interceptors.request.use(async n=>{const e=await Y2(),t={...n.headers||{}};if(X2(n)&&(delete t.Authorization,delete t.authorization),e){const r=await e.getIdToken();t["x-id-token"]=r}return t["x-tenant-id"]=wE(),n.headers=t,n});Zs.interceptors.response.use(n=>n,n=>{const e=n?.response?.status,t=n?.response?.data?.code,r=n?.response?.data?.error||n?.response?.data?.message||n?.message||"Falha de rede. Tente novamente.";return e===401&&console.error("[API] 401 Unauthorized  verifique x-id-token e x-tenant-id.",{url:n?.config?.url}),(e===402||t==="NO_CREDITS")&&(console.warn("[API] 402 No Credits  crditos insuficientes",{url:n?.config?.url}),typeof window<"u"&&window.dispatchEvent(new CustomEvent("no-credits",{detail:{url:n?.config?.url}}))),e===403&&n?.response?.data?.feature&&console.warn("[API] 403 Upgrade required",n?.response?.data),Promise.reject({status:e,message:r,code:t,raw:n?.response?.data})});const yV=Object.freeze(Object.defineProperty({__proto__:null,api:Zs,default:Zs},Symbol.toStringTag,{value:"Module"}));async function Z2(){try{const{data:n}=await Zs.get("/alerts");return!n||n.status!=="ok"?[]:n.items||[]}catch{return[]}}async function eD(n){try{await Zs.post(`/alerts/${n}/read`)}catch{}}function tD(){const n=Up(),e=Ex({queryKey:["alerts"],queryFn:Z2,staleTime:6e4,refetchOnWindowFocus:!1}),t=Tx({mutationFn:o=>eD(o),onSuccess:()=>{n.invalidateQueries({queryKey:["alerts"]})}}),r=e.data?.filter(o=>o.status==="unread").length??0;return{...e,unreadCount:r,markAsRead:t.mutateAsync}}const XT=F.createContext(null),nD=({children:n})=>{const[e,t]=F.useState([]),r=F.useCallback(o=>{const a=Date.now()+Math.random();t(u=>[...u,{id:a,...o}]),setTimeout(()=>{t(u=>u.filter(d=>d.id!==a))},4e3)},[]);return x.jsxs(XT.Provider,{value:{notify:r},children:[n,x.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",role:"status","aria-live":"polite",children:e.map(o=>{let a="rounded-xl px-4 py-3 shadow-md border text-sm bg-white";return o.type==="success"?a+=" border-emerald-300 bg-emerald-50 text-emerald-900":o.type==="error"?a+=" border-rose-300 bg-rose-50 text-rose-900":a+=" border-slate-200 bg-white text-slate-900",x.jsx("div",{className:a,children:x.jsx("span",{children:o.message})},o.id)})})]})};function YT(){const n=F.useContext(XT);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}function ZT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=ZT(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function rD(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=ZT(n))&&(r&&(r+=" "),r+=e);return r}const sD=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},iD=(n,e)=>({classGroupId:n,validator:e}),eI=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),mh="-",_0=[],oD="arbitrary..",aD=n=>{const e=uD(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return lD(u);const d=u.split(mh),f=d[0]===""&&d.length>1?1:0;return tI(d,f,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const f=r[u],m=t[u];return f?m?sD(m,f):f:m||_0}return t[u]||_0}}},tI=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const o=n[e],a=t.nextPart.get(o);if(a){const m=tI(n,e+1,a);if(m)return m}const u=t.validators;if(u===null)return;const d=e===0?n.join(mh):n.slice(e).join(mh),f=u.length;for(let m=0;m<f;m++){const v=u[m];if(v.validator(d))return v.classGroupId}},lD=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?oD+r:void 0})(),uD=n=>{const{theme:e,classGroups:t}=n;return cD(t,e)},cD=(n,e)=>{const t=eI();for(const r in n){const o=n[r];Dm(o,t,r,e)}return t},Dm=(n,e,t,r)=>{const o=n.length;for(let a=0;a<o;a++){const u=n[a];hD(u,e,t,r)}},hD=(n,e,t,r)=>{if(typeof n=="string"){dD(n,e,t);return}if(typeof n=="function"){fD(n,e,t,r);return}pD(n,e,t,r)},dD=(n,e,t)=>{const r=n===""?e:nI(e,n);r.classGroupId=t},fD=(n,e,t,r)=>{if(mD(n)){Dm(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(iD(t,n))},pD=(n,e,t,r)=>{const o=Object.entries(n),a=o.length;for(let u=0;u<a;u++){const[d,f]=o[u];Dm(f,nI(e,d),t,r)}},nI=(n,e)=>{let t=n;const r=e.split(mh),o=r.length;for(let a=0;a<o;a++){const u=r[a];let d=t.nextPart.get(u);d||(d=eI(),t.nextPart.set(u,d)),t=d}return t},mD=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,gD=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const o=(a,u)=>{t[a]=u,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(a){let u=t[a];if(u!==void 0)return u;if((u=r[a])!==void 0)return o(a,u),u},set(a,u){a in t?t[a]=u:o(a,u)}}},Pp="!",w0=":",yD=[],E0=(n,e,t,r,o)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:o}),vD=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const a=[];let u=0,d=0,f=0,m;const v=o.length;for(let N=0;N<v;N++){const A=o[N];if(u===0&&d===0){if(A===w0){a.push(o.slice(f,N)),f=N+1;continue}if(A==="/"){m=N;continue}}A==="["?u++:A==="]"?u--:A==="("?d++:A===")"&&d--}const w=a.length===0?o:o.slice(f);let T=w,M=!1;w.endsWith(Pp)?(T=w.slice(0,-1),M=!0):w.startsWith(Pp)&&(T=w.slice(1),M=!0);const C=m&&m>f?m-f:void 0;return E0(a,M,T,C)};if(e){const o=e+w0,a=r;r=u=>u.startsWith(o)?a(u.slice(o.length)):E0(yD,!1,u,void 0,!0)}if(t){const o=r;r=a=>t({className:a,parseClassName:o})}return r},_D=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let o=[];for(let a=0;a<t.length;a++){const u=t[a],d=u[0]==="[",f=e.has(u);d||f?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(u)):o.push(u)}return o.length>0&&(o.sort(),r.push(...o)),r}},wD=n=>({cache:gD(n.cacheSize),parseClassName:vD(n),sortModifiers:_D(n),...aD(n)}),ED=/\s+/,TD=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=e,u=[],d=n.trim().split(ED);let f="";for(let m=d.length-1;m>=0;m-=1){const v=d[m],{isExternal:w,modifiers:T,hasImportantModifier:M,baseClassName:C,maybePostfixModifierPosition:N}=t(v);if(w){f=v+(f.length>0?" "+f:f);continue}let A=!!N,Y=r(A?C.substring(0,N):C);if(!Y){if(!A){f=v+(f.length>0?" "+f:f);continue}if(Y=r(C),!Y){f=v+(f.length>0?" "+f:f);continue}A=!1}const Q=T.length===0?"":T.length===1?T[0]:a(T).join(":"),J=M?Q+Pp:Q,X=J+Y;if(u.indexOf(X)>-1)continue;u.push(X);const ue=o(Y,A);for(let de=0;de<ue.length;++de){const P=ue[de];u.push(J+P)}f=v+(f.length>0?" "+f:f)}return f},ID=(...n)=>{let e=0,t,r,o="";for(;e<n.length;)(t=n[e++])&&(r=rI(t))&&(o&&(o+=" "),o+=r);return o},rI=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=rI(n[r]))&&(t&&(t+=" "),t+=e);return t},SD=(n,...e)=>{let t,r,o,a;const u=f=>{const m=e.reduce((v,w)=>w(v),n());return t=wD(m),r=t.cache.get,o=t.cache.set,a=d,d(f)},d=f=>{const m=r(f);if(m)return m;const v=TD(f,t);return o(f,v),v};return a=u,(...f)=>a(ID(...f))},xD=[],At=n=>{const e=t=>t[n]||xD;return e.isThemeGetter=!0,e},sI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,iI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,RD=/^\d+\/\d+$/,bD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,kD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bo=n=>RD.test(n),De=n=>!!n&&!Number.isNaN(Number(n)),Cs=n=>!!n&&Number.isInteger(Number(n)),Uf=n=>n.endsWith("%")&&De(n.slice(0,-1)),Gr=n=>bD.test(n),ND=()=>!0,OD=n=>AD.test(n)&&!CD.test(n),oI=()=>!1,DD=n=>kD.test(n),LD=n=>PD.test(n),VD=n=>!me(n)&&!ge(n),MD=n=>Ea(n,uI,oI),me=n=>sI.test(n),Ci=n=>Ea(n,cI,OD),zf=n=>Ea(n,BD,De),T0=n=>Ea(n,aI,oI),FD=n=>Ea(n,lI,LD),kc=n=>Ea(n,hI,DD),ge=n=>iI.test(n),_l=n=>Ta(n,cI),jD=n=>Ta(n,$D),I0=n=>Ta(n,aI),UD=n=>Ta(n,uI),zD=n=>Ta(n,lI),Pc=n=>Ta(n,hI,!0),Ea=(n,e,t)=>{const r=sI.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Ta=(n,e,t=!1)=>{const r=iI.exec(n);return r?r[1]?e(r[1]):t:!1},aI=n=>n==="position"||n==="percentage",lI=n=>n==="image"||n==="url",uI=n=>n==="length"||n==="size"||n==="bg-size",cI=n=>n==="length",BD=n=>n==="number",$D=n=>n==="family-name",hI=n=>n==="shadow",qD=()=>{const n=At("color"),e=At("font"),t=At("text"),r=At("font-weight"),o=At("tracking"),a=At("leading"),u=At("breakpoint"),d=At("container"),f=At("spacing"),m=At("radius"),v=At("shadow"),w=At("inset-shadow"),T=At("text-shadow"),M=At("drop-shadow"),C=At("blur"),N=At("perspective"),A=At("aspect"),Y=At("ease"),Q=At("animate"),J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ue=()=>[...X(),ge,me],de=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],S=()=>[ge,me,f],R=()=>[Bo,"full","auto",...S()],O=()=>[Cs,"none","subgrid",ge,me],L=()=>["auto",{span:["full",Cs,ge,me]},Cs,ge,me],U=()=>[Cs,"auto",ge,me],k=()=>["auto","min","max","fr",ge,me],je=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Se=()=>["start","end","center","stretch","center-safe","end-safe"],Pe=()=>["auto",...S()],Oe=()=>[Bo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],K=()=>[n,ge,me],_e=()=>[...X(),I0,T0,{position:[ge,me]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",UD,MD,{size:[ge,me]}],G=()=>[Uf,_l,Ci],oe=()=>["","none","full",m,ge,me],we=()=>["",De,_l,Ci],Ae=()=>["solid","dashed","dotted","double"],Me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[De,Uf,I0,T0],ze=()=>["","none",C,ge,me],Ge=()=>["none",De,ge,me],ot=()=>["none",De,ge,me],_n=()=>[De,ge,me],Un=()=>[Bo,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gr],breakpoint:[Gr],color:[ND],container:[Gr],"drop-shadow":[Gr],ease:["in","out","in-out"],font:[VD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gr],shadow:[Gr],spacing:["px",De],text:[Gr],"text-shadow":[Gr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bo,me,ge,A]}],container:["container"],columns:[{columns:[De,me,ge,d]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ue()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Cs,"auto",ge,me]}],basis:[{basis:[Bo,"full","auto",d,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[De,Bo,"auto","initial","none",me]}],grow:[{grow:["",De,ge,me]}],shrink:[{shrink:["",De,ge,me]}],order:[{order:[Cs,"first","last","none",ge,me]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...je(),"normal"]}],"justify-items":[{"justify-items":[...Se(),"normal"]}],"justify-self":[{"justify-self":["auto",...Se()]}],"align-content":[{content:["normal",...je()]}],"align-items":[{items:[...Se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Se(),{baseline:["","last"]}]}],"place-content":[{"place-content":je()}],"place-items":[{"place-items":[...Se(),"baseline"]}],"place-self":[{"place-self":["auto",...Se()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:Pe()}],mx:[{mx:Pe()}],my:[{my:Pe()}],ms:[{ms:Pe()}],me:[{me:Pe()}],mt:[{mt:Pe()}],mr:[{mr:Pe()}],mb:[{mb:Pe()}],ml:[{ml:Pe()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:Oe()}],w:[{w:[d,"screen",...Oe()]}],"min-w":[{"min-w":[d,"screen","none",...Oe()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...Oe()]}],h:[{h:["screen","lh",...Oe()]}],"min-h":[{"min-h":["screen","lh","none",...Oe()]}],"max-h":[{"max-h":["screen","lh",...Oe()]}],"font-size":[{text:["base",t,_l,Ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ge,zf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Uf,me]}],"font-family":[{font:[jD,me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ge,me]}],"line-clamp":[{"line-clamp":[De,"none",ge,zf]}],leading:[{leading:[a,...S()]}],"list-image":[{"list-image":["none",ge,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[De,"from-font","auto",ge,Ci]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[De,"auto",ge,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:_e()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Cs,ge,me],radial:["",ge,me],conic:[Cs,ge,me]},zD,FD]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[De,ge,me]}],"outline-w":[{outline:["",De,_l,Ci]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",v,Pc,kc]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",w,Pc,kc]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[De,Ci]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",T,Pc,kc]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[De,ge,me]}],"mix-blend":[{"mix-blend":[...Me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[De]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[ge,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":X()}],"mask-image-conic-pos":[{"mask-conic":[De]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:_e()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,me]}],filter:[{filter:["","none",ge,me]}],blur:[{blur:ze()}],brightness:[{brightness:[De,ge,me]}],contrast:[{contrast:[De,ge,me]}],"drop-shadow":[{"drop-shadow":["","none",M,Pc,kc]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",De,ge,me]}],"hue-rotate":[{"hue-rotate":[De,ge,me]}],invert:[{invert:["",De,ge,me]}],saturate:[{saturate:[De,ge,me]}],sepia:[{sepia:["",De,ge,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,me]}],"backdrop-blur":[{"backdrop-blur":ze()}],"backdrop-brightness":[{"backdrop-brightness":[De,ge,me]}],"backdrop-contrast":[{"backdrop-contrast":[De,ge,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",De,ge,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[De,ge,me]}],"backdrop-invert":[{"backdrop-invert":["",De,ge,me]}],"backdrop-opacity":[{"backdrop-opacity":[De,ge,me]}],"backdrop-saturate":[{"backdrop-saturate":[De,ge,me]}],"backdrop-sepia":[{"backdrop-sepia":["",De,ge,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[De,"initial",ge,me]}],ease:[{ease:["linear","initial",Y,ge,me]}],delay:[{delay:[De,ge,me]}],animate:[{animate:["none",Q,ge,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,ge,me]}],"perspective-origin":[{"perspective-origin":ue()}],rotate:[{rotate:Ge()}],"rotate-x":[{"rotate-x":Ge()}],"rotate-y":[{"rotate-y":Ge()}],"rotate-z":[{"rotate-z":Ge()}],scale:[{scale:ot()}],"scale-x":[{"scale-x":ot()}],"scale-y":[{"scale-y":ot()}],"scale-z":[{"scale-z":ot()}],"scale-3d":["scale-3d"],skew:[{skew:_n()}],"skew-x":[{"skew-x":_n()}],"skew-y":[{"skew-y":_n()}],transform:[{transform:[ge,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:ue()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Un()}],"translate-x":[{"translate-x":Un()}],"translate-y":[{"translate-y":Un()}],"translate-z":[{"translate-z":Un()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,me]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[De,_l,Ci,zf]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},HD=SD(qD);function qi(...n){return HD(rD(n))}function qh({className:n,children:e,...t}){return x.jsx("div",{className:qi("glass shadow-sm rounded-xl overflow-hidden",n),...t,children:e})}function WD({title:n,description:e,severity:t="info",actions:r,className:o}){const a={info:"text-momentum-secondary bg-momentum-secondary/10 border-momentum-secondary/20",warn:"text-momentum-warn bg-momentum-warn/10 border-momentum-warn/20",success:"text-momentum-success bg-momentum-success/10 border-momentum-success/20",danger:"text-momentum-danger bg-momentum-danger/10 border-momentum-danger/20"};return x.jsxs(qh,{className:qi("p-4 flex flex-col gap-3 transition-colors hover:border-momentum-accent/30",o),children:[x.jsx("div",{className:"flex justify-between items-start gap-4",children:x.jsxs("div",{className:"space-y-1 w-full",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h4",{className:"font-semibold text-sm text-momentum-text dark:text-white",children:n}),x.jsx("span",{className:qi("text-[10px] px-2 py-0.5 rounded border uppercase font-bold tracking-wider",a[t]),children:t})]}),x.jsx("p",{className:"text-xs text-momentum-muted leading-relaxed pr-8",children:e})]})}),r&&x.jsx("div",{className:"flex gap-2 pt-1 border-t border-momentum-border/50 mt-1",children:r})]})}function S0({children:n,className:e}){return x.jsx("div",{className:qi("space-y-3",e),children:n})}function x0({icon:n,title:e,description:t,action:r,className:o}){return x.jsxs(qh,{className:qi("flex flex-col items-center justify-center text-center p-8 min-h-[200px]",o),children:[n&&x.jsx("div",{className:"mb-4 text-momentum-muted opacity-50 text-4xl flex items-center justify-center p-4 bg-momentum-bg/50 rounded-full",children:n}),x.jsx("h3",{className:"text-lg font-semibold text-momentum-text dark:text-white mb-2",children:e}),x.jsx("p",{className:"text-sm text-momentum-muted max-w-sm mb-6 leading-relaxed",children:t}),r&&x.jsx("div",{className:"mt-2",children:r})]})}function KD({className:n}){return x.jsx(qh,{className:qi("animate-pulse bg-momentum-bg/50 border-white/5",n),children:x.jsx("div",{className:"h-full w-full opacity-50 min-h-[100px]"})})}const GD=({alerts:n,isLoading:e,error:t,onClose:r,onMarkAsRead:o})=>{const a=Hi(),u=n.filter(m=>m.status==="unread"),d=m=>{switch(m){case"high":return"danger";case"medium":return"warn";default:return"info"}},f=()=>{a("/alerts"),r()};return x.jsxs(qh,{className:"absolute right-0 mt-3 w-80 sm:w-96 p-0 overflow-hidden shadow-2xl z-50 border-momentum-accent/20",role:"dialog","aria-label":"Centro de alertas rpido",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-momentum-border bg-momentum-bg/20",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-momentum-accent",children:"Alertas"}),x.jsxs("p",{className:"text-[10px] text-momentum-muted",children:[u.length," novas notificaes"]})]}),x.jsx("button",{type:"button",onClick:r,className:"p-1.5 rounded-lg hover:bg-momentum-bg/50 text-momentum-muted transition-colors","aria-label":"Fechar",children:x.jsx(Gc,{size:16})})]}),x.jsx("div",{className:"max-h-[28rem] overflow-y-auto p-4 custom-scrollbar",children:e?x.jsx(S0,{children:[1,2,3].map(m=>x.jsx(KD,{className:"h-20"},m))}):t?x.jsx(x0,{title:"Erro",description:"Falha ao carregar alertas.",className:"min-h-0 py-6"}):n.length===0?x.jsx(x0,{title:"Tudo limpo",description:"Nenhum alerta pendente.",className:"min-h-0 py-8"}):x.jsx(S0,{children:n.slice(0,5).map(m=>x.jsx(WD,{title:m.title,description:m.message,severity:d(m.severity),className:qi("p-3 text-[11px]",m.status==="read"&&"opacity-50 saturate-0"),actions:m.status==="unread"?x.jsx("button",{onClick:()=>o(m.id),className:"text-[9px] font-bold text-momentum-accent hover:underline uppercase",children:"Marcar como lido"}):void 0},m.id))})}),x.jsx("div",{className:"p-3 border-t border-momentum-border bg-momentum-bg/30",children:x.jsxs("button",{onClick:f,className:"w-full py-2 rounded-lg bg-momentum-accent/10 hover:bg-momentum-accent/20 text-momentum-accent text-[11px] font-bold uppercase tracking-wider flex items-center justify-center gap-2 transition-all",children:["Ver todos no Centro de Alertas ",x.jsx(Fx,{size:12})]})})]})};function QD(){const{data:n,isLoading:e,error:t,unreadCount:r,markAsRead:o}=tD(),a=n??[],{notify:u}=YT(),[d,f]=F.useState(!1),m=F.useRef(null);F.useEffect(()=>{if(!d)return;const T=M=>{m.current&&(m.current.contains(M.target)||f(!1))};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[d]),F.useEffect(()=>{t&&u({type:"error",message:"No foi possvel carregar seus alertas agora. Tente novamente mais tarde."})},[t,u]);const v=()=>{f(T=>!T)},w=async T=>{try{await o(T)}catch{u({type:"error",message:"Erro ao marcar alerta como lido. Tente novamente."})}};return x.jsxs("div",{className:"relative",ref:m,children:[x.jsxs("button",{type:"button",onClick:v,className:`relative inline-flex items-center justify-center w-10 h-10 rounded-xl\r
                   border border-momentum-border bg-white/50 hover:bg-white\r
                   dark:bg-momentum-bg/50 dark:hover:bg-momentum-bg\r
                   text-momentum-text shadow-sm hover:shadow-md\r
                   transition-all duration-200 group`,"aria-label":"Abrir alertas",children:[x.jsx(Ox,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),r>0&&x.jsx("span",{className:`absolute -top-1 -right-1 inline-flex items-center justify-center\r
                       min-w-[18px] h-[18px] rounded-full bg-momentum-accent text-[10px] font-bold\r
                       text-white px-1 shadow-momentum-glow animate-pulse`,children:r>9?"9+":r})]}),d&&x.jsx(GD,{alerts:a,isLoading:e,error:t,onClose:()=>f(!1),onMarkAsRead:w})]})}function Lm(){const[n,e]=F.useState(null);return F.useEffect(()=>{if(!gn)return;const t=aE(gn,async r=>{if(!r){e(null);return}try{const o=await r.getIdToken();e(o)}catch{e(null)}});return()=>{t()}},[]),n}function JD(){const e=Lm()?.token??null,[t,r]=F.useState(null),[o,a]=F.useState(!1),[u,d]=F.useState(null),f=F.useCallback(async()=>{if(e){a(!0),d(null);try{const v=await Zs.get("/billing/credits");r(v.data)}catch(v){d(v instanceof Error?v:new Error("Erro ao carregar crditos"))}finally{a(!1)}}},[e]);F.useEffect(()=>{f()},[f]);const m=t?t.available<=0:!1;return{credits:t,isLoading:o,error:u,noCredits:m,refetch:f}}const XD=()=>{const n=Hi(),{credits:e,isLoading:t,noCredits:r}=JD(),o=e?.available??0,a=()=>{n("/settings?tab=billing")},u=()=>r||o<=0?"bg-error/10 text-error border-error/20":o<50?"bg-warning/10 text-warning border-warning/20":"bg-primary/10 text-primary border-primary/20";return x.jsxs("button",{onClick:a,className:`flex items-center gap-2 px-3 py-1.5 rounded-full border text-[11px] font-bold transition-all hover:scale-105 active:scale-95 shadow-sm font-display ${u()}`,title:"Crditos de IA disponveis",children:[x.jsx(Z0,{size:14,className:r?"fill-error/30":"fill-primary/30"}),t?x.jsx("span",{className:"animate-pulse",children:"..."}):x.jsxs("span",{children:[o.toLocaleString("pt-BR")," crditos"]})]})},YD=({onMenuClick:n})=>{const{theme:e,toggle:t}=Sx(),r=F.useRef(null);return x.jsxs("header",{className:["fixed top-0 right-0 z-20 h-20 px-8 flex items-center justify-between glass border-b border-slate-200 dark:border-slate-800/50 transition-all","left-0 md:left-64"].join(" "),role:"banner",children:[x.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[x.jsx("button",{onClick:n,"aria-label":"Abrir menu lateral",className:"md:hidden p-2 rounded-lg border border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-900/50 text-slate-600 dark:text-slate-300",children:x.jsx("span",{className:"material-icons-round",children:"menu"})}),x.jsxs("div",{className:"relative w-full max-w-[440px] hidden md:block group",children:[x.jsx("span",{className:"material-icons-round absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-[20px] group-focus-within:text-primary transition-colors",children:"search"}),x.jsx("input",{ref:r,type:"text",placeholder:"Buscar transaes, insights ou clientes...",className:"w-full bg-slate-100/50 dark:bg-slate-800/50 border-none rounded-full pl-11 pr-4 py-2.5 text-sm text-slate-600 dark:text-slate-200 focus:ring-2 focus:ring-primary/20 focus:bg-white dark:focus:bg-slate-900 transition-all placeholder-slate-400 dark:placeholder-slate-500"})]})]}),x.jsxs("div",{className:"flex items-center gap-5",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(XD,{}),x.jsx(QD,{}),x.jsx("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-full glass border-slate-200 dark:border-white/10 text-[11px] font-bold text-slate-700 dark:text-slate-300 transition-all hover:scale-105 active:scale-95 uppercase tracking-wider shadow-sm","aria-label":e==="dark"?"Ativar tema claro":"Ativar tema escuro",children:e==="dark"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"material-icons-round text-[16px] text-primary",children:"dark_mode"}),x.jsx("span",{children:"Dark"})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"material-icons-round text-[16px] text-warning",children:"light_mode"}),x.jsx("span",{children:"Light"})]})})]}),x.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-800 mx-1"}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"text-right hidden sm:block leading-none",children:[x.jsx("p",{className:"text-[14px] font-bold text-slate-900 dark:text-white font-display mb-1",children:"Elienai"}),x.jsx("p",{className:"text-[11px] font-medium text-slate-500 dark:text-slate-400 font-display",children:"Admin"})]}),x.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-primary to-blue-600 flex items-center justify-center text-white text-sm font-bold shadow-glow ring-2 ring-white dark:ring-slate-800 transition-transform hover:scale-110 cursor-pointer",role:"img","aria-label":"Perfil",children:"E"})]})]})]})};function ZD(n,e){F.useEffect(()=>{if(!e||!n.current)return;const t=n.current,r=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])","[tabindex]:not([tabindex='-1'])"].join(","),o=()=>Array.from(t.querySelectorAll(r)).filter(f=>!f.hasAttribute("disabled")&&!f.getAttribute("aria-hidden")),a=()=>{const f=o();f.length&&f[0].focus()},u=f=>{if(f.key!=="Tab")return;const m=o();if(!m.length)return;const v=m[0],w=m[m.length-1],T=document.activeElement;f.shiftKey?(T===v||!t.contains(T))&&(w.focus(),f.preventDefault()):(T===w||!t.contains(T))&&(v.focus(),f.preventDefault())},d=f=>{t.contains(f.relatedTarget)||a()};return requestAnimationFrame(a),document.addEventListener("keydown",u),t.addEventListener("focusout",d),()=>{document.removeEventListener("keydown",u),t.removeEventListener("focusout",d)}},[n,e])}function eL(n){const e=typeof n=="string"?n:n instanceof URL?n.toString():n instanceof Request?n.url:String(n);try{const t=typeof window<"u"?window.location.origin:"http://localhost",r=new URL(e,t);return(typeof window<"u"?r.origin===window.location.origin:!0)&&r.pathname.startsWith("/api")}catch{return e.startsWith("/api")}}async function Vm(n,e={}){const t=await gn.currentUser?.getIdToken(),r=new Headers(e.headers||{});eL(n)&&(r.delete("Authorization"),r.delete("authorization")),t&&r.set("x-id-token",t),r.has("x-tenant-id")||r.set("x-tenant-id",wE());let o=e.body;return o&&typeof o=="object"&&!(o instanceof FormData)&&!(o instanceof Blob)&&!(o instanceof ArrayBuffer)&&(r.has("Content-Type")||r.set("Content-Type","application/json"),o=JSON.stringify(o)),fetch(n,{...e,headers:r,body:o,credentials:e.credentials??"include"})}async function tL({text:n,voice:e,profile:t}){const r=await Vm("/api/voice/tts",{method:"POST",body:{text:n,voice:e,profile:t}});if(!r.ok)throw new Error(`/api/voice/tts -> ${r.status}`);return r.blob()}async function nL(n){const e=new FormData;e.append("file",n,"recording.webm");const t=await Vm("/api/ai/voice/stt",{method:"POST",body:e});if(!t.ok){const r=await t.json().catch(()=>({}));throw new Error(r.message||`/api/ai/voice/stt -> ${t.status}`)}return t.json()}function vV(n,e){}function rL(){const n=F.useRef(null),[e,t]=F.useState(!1),[r,o]=F.useState(null);async function a(d){try{t(!0),o(null);const f=await tL(d),m=URL.createObjectURL(f);n.current||(n.current=new Audio),n.current.src=m,await n.current.play(),d.profile}catch(f){o(f),String(f?.message||f)}finally{t(!1)}}function u(){n.current&&(n.current.pause(),n.current.currentTime=0)}return{speak:a,stop:u,loading:e,error:r}}function sL(){const[n,e]=F.useState(!1),[t,r]=F.useState(""),[o,a]=F.useState(null),u=F.useRef(null),d=F.useRef([]);async function f(){try{a(null);const v=await navigator.mediaDevices.getUserMedia({audio:!0});u.current=new MediaRecorder(v),d.current=[],u.current.ondataavailable=w=>{w.data.size>0&&d.current.push(w.data)},u.current.start(),e(!0)}catch(v){a(v),String(v?.message||v)}}async function m(){return new Promise(v=>{if(!u.current)return v("");u.current.onstop=async()=>{try{const w=new Blob(d.current,{type:"audio/webm"}),{text:T}=await nL(w);r(T),v(T)}catch(w){a(w),String(w?.message||w),v("")}finally{e(!1),u.current?.stream.getTracks().forEach(w=>w.stop())}},u.current.stop()})}return F.useEffect(()=>()=>u.current?.stream.getTracks().forEach(v=>v.stop()),[]),{start:f,stop:m,recording:n,transcript:t,error:o}}function iL({playing:n,label:e="Tocando"}){return x.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full border px-2 py-1 text-xs ${n?"border-emerald-300 bg-emerald-50 text-emerald-700":"border-slate-200 bg-slate-50 text-slate-600"}`,children:[x.jsx("span",{className:"h-2 w-2 rounded-full animate-pulse bg-current","aria-hidden":!0}),n?e:"Pronto"]})}function oL({recording:n,onStart:e,onStop:t}){return n?x.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 rounded-xl bg-rose-600 text-white px-3 py-2 text-sm hover:bg-rose-700",children:[x.jsx(Xx,{className:"h-4 w-4"})," Parar"]}):x.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 rounded-xl bg-emerald-600 text-white px-3 py-2 text-sm hover:bg-emerald-700",children:[x.jsx(Gx,{className:"h-4 w-4"})," Gravar"]})}const dI={voiceTTS:!0,voiceSTT:!0,supportDock:!0,advisorDock:!0},fI=F.createContext({flags:dI});function aL({children:n,flags:e}){const t=F.useMemo(()=>({...dI,...e??{}}),[e]);return x.jsx(fI.Provider,{value:{flags:t},children:n})}function lL(){return F.useContext(fI).flags}function uL(n,e){return n==="neural_premium"?e==="advisor"?"pt-BR-Neural-Premium-Advisor":"pt-BR-Neural-Premium-Tutorial":n==="neural"?e==="advisor"?"pt-BR-Neural-Advisor":"pt-BR-Neural-Tutorial":e==="advisor"?"pt-BR-Standard-A":"pt-BR-Standard-B"}function cL(n,e,t){const r=e[t]?.voiceId;return r&&r.trim().length>0?r.trim():uL(n,t)}async function hL(n,e,t){const r=await Vm("/api/support/chat",{method:"POST",body:{question:n,locale:e,sessionId:t}});if(!r.ok){let o=null;try{o=await r.json()}catch{}const a=new Error(o?.message??"No foi possvel falar com o suporte automatizado agora. Tente novamente em alguns instantes.");throw o?.code&&(a.code=o.code),a}return await r.json()}const R0={id:"system-welcome",role:"system",content:`Sou o assistente de suporte do Momentum. Posso te ajudar com:
 como usar o painel
 entender seus relatrios
 saber onde ajustar planos e crditos
 tirar dvidas sobre CFO, Pulse, Mercado e Voz.
No respondo dvidas legais, tributrias ou mdicas.`,createdAt:new Date};function dL(){const n=Lm(),[e,t]=F.useState([R0]),[r,o]=F.useState(!1),[a,u]=F.useState(null),[d,f]=F.useState(!1),[m,v]=F.useState(void 0),w=F.useMemo(()=>navigator?.language??"pt-BR",[]),T=F.useCallback(()=>{t([{...R0,createdAt:new Date}]),u(null),f(!1),v(void 0)},[]),M=F.useCallback(async C=>{const N=C.trim();if(!N||r)return;if(!n){u(new Error("Voc precisa estar autenticado para falar com o suporte Momentum."));return}const A=new Date,Y={id:`user-${A.getTime()}`,role:"user",content:N,createdAt:A};t(Q=>[...Q,Y]),o(!0),u(null),f(!1);try{const Q=await hL(N,w,m);Q.sessionId&&Q.sessionId!==m&&v(Q.sessionId);const J={id:`assistant-${Date.now()}`,role:"assistant",content:Q.answer,createdAt:new Date};t(X=>[...X,J])}catch(Q){(Q&&Q.code)==="NO_CREDITS"&&f(!0);const X=Q instanceof Error?Q.message:"No consegui responder agora. Tente novamente em alguns instantes.";u(new Error(X)),t(ue=>[...ue,{id:`assistant-error-${Date.now()}`,role:"assistant",content:X,createdAt:new Date}])}finally{o(!1)}},[r,w,n,m]);return{messages:e,isSending:r,error:a,noCredits:d,sendMessage:M,reset:T}}function fL({initialOpen:n=!1}){const[e,t]=F.useState(n),r=Lm(),{features:o,voiceProfiles:a}=lL(),d=!!r||!1,f=o??{voiceTier:"none",voiceTTS:!1,voiceSTT:!1},m=a??[],v=cL(f.voiceTier,m,"support"),w=F.useRef(null),{messages:T,isSending:M,error:C,noCredits:N,sendMessage:A,reset:Y}=dL(),[Q,J]=F.useState(""),{speak:X,loading:ue}=rL(),{start:de,stop:P,recording:S,transcript:R}=sL();ZD(w,e),F.useEffect(()=>{R.trim()&&J(R)},[R]),F.useEffect(()=>{function Se(){t(!0)}return window.addEventListener("open-support-dock",Se),()=>{window.removeEventListener("open-support-dock",Se)}},[]);function O(){t(Se=>!Se)}async function L(){const Se=Q.trim();!Se||M||!d||N||(await A(Se),J(""))}async function U(){if(!f.voiceTTS||!d)return;const Se=[...T].reverse().find(Pe=>Pe.role==="assistant");Se&&await X({text:Se.content,voice:v,profile:"tutorial"})}const k=M||!d||N,je=!d||N;return x.jsxs("div",{className:"fixed bottom-4 right-4 z-40 flex flex-col items-end gap-2",children:[e&&x.jsxs("div",{ref:w,className:"flex w-full max-w-sm flex-col overflow-hidden rounded-2xl border border-slate-200/80 bg-white/95 shadow-2xl transition-all max-h-[70vh] backdrop-blur-xl dark:border-white/10 dark:bg-slate-950/90",role:"dialog","aria-modal":"false","aria-label":"Suporte Momentum",children:[x.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200/80 px-4 py-2 dark:border-slate-800/70",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-emerald-600 text-xs font-semibold text-white",children:"M"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Suporte Momentum"}),x.jsx("span",{className:"text-[11px] text-slate-500 dark:text-slate-300",children:"Tire dvidas sobre como usar o Momentum"})]}),x.jsx(iL,{active:ue&&d,label:f.voiceTTS&&d?"Voz ativada":"Voz desativada"})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[f.voiceTTS&&d&&x.jsx("button",{onClick:U,className:"rounded-lg p-1.5 hover:bg-slate-50 dark:hover:bg-slate-900/70",title:"Ler ltima resposta",children:x.jsx(Zx,{className:"h-4 w-4 text-slate-600 dark:text-slate-200"})}),x.jsx("button",{onClick:()=>{t(!1)},"aria-label":"Fechar suporte",className:"rounded-lg p-1.5 hover:bg-slate-50 dark:hover:bg-slate-900/70",children:x.jsx(Gc,{className:"h-4 w-4 text-slate-600 dark:text-slate-200"})})]})]}),x.jsxs("div",{className:"flex flex-1 flex-col gap-2 overflow-y-auto px-3 py-2 text-sm",children:[d?T.map(Se=>{if(Se.role==="system")return x.jsxs("div",{className:"flex items-start gap-2 rounded-xl border border-slate-100 bg-slate-50 px-3 py-2 text-[11px] text-slate-600 dark:border-white/10 dark:bg-slate-900/70 dark:text-slate-100",children:[x.jsx(Vx,{className:"mt-[2px] h-3.5 w-3.5 text-slate-400 dark:text-slate-300"}),x.jsx("span",{className:"whitespace-pre-line",children:Se.content})]},Se.id);const Pe=Se.role==="assistant";return x.jsx("div",{className:`max-w-[85%] rounded-2xl border px-3 py-2 text-xs whitespace-pre-line ${Pe?"self-start border-slate-200 bg-slate-50 text-slate-900 dark:border-slate-700 dark:bg-slate-900/80 dark:text-slate-100":"self-end border-emerald-100 bg-emerald-50 text-emerald-900 dark:border-emerald-500/40 dark:bg-emerald-600/30 dark:text-emerald-50"}`,children:Se.content},Se.id)}):x.jsx("div",{className:"flex h-full items-center justify-center px-4 text-center text-xs text-slate-500 dark:text-slate-300",children:"Para falar com o suporte Momentum, faa login na sua conta."}),M&&d&&!N&&x.jsx("div",{className:"self-start rounded-2xl bg-slate-50 px-3 py-1 text-[11px] text-slate-500 dark:bg-slate-900/70 dark:text-slate-200",children:"Digitando"})]}),x.jsxs("div",{className:"flex flex-col gap-1 px-3 pb-2",children:[C&&d&&!N&&x.jsxs("div",{className:"flex items-start gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-[11px] text-amber-800 dark:border-amber-400/40 dark:bg-amber-950/40 dark:text-amber-50",children:[x.jsx(vv,{className:"mt-[2px] h-3.5 w-3.5"}),x.jsx("span",{children:C.message})]}),N&&d&&x.jsxs("div",{className:"flex items-start gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-[11px] text-amber-800 dark:border-amber-400/40 dark:bg-amber-950/40 dark:text-amber-50",children:[x.jsx(vv,{className:"mt-[2px] h-3.5 w-3.5"}),x.jsx("span",{children:"Voc atingiu o limite de crditos de IA do seu plano para o suporte automatizado. Atualize seu plano ou aguarde a renovao dos crditos para continuar usando este recurso."})]})]}),x.jsxs("div",{className:"flex items-center gap-2 border-t border-slate-200/80 p-3 dark:border-slate-800/70",children:[x.jsx("input",{value:Q,onChange:Se=>{J(Se.target.value)},placeholder:d?N?"Sem crditos para enviar mensagens":"Descreva sua dvida":"Faa login para enviar uma dvida",className:"flex-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-900 focus:outline-none focus:ring-2 focus:ring-emerald-200 disabled:bg-slate-50 disabled:text-slate-400 dark:border-slate-700 dark:bg-slate-950/90 dark:text-slate-50 dark:disabled:bg-slate-900/70 dark:disabled:text-slate-500",disabled:je,onKeyDown:Se=>{Se.key==="Enter"&&!Se.shiftKey&&(Se.preventDefault(),L())}}),f.voiceSTT&&d&&!N&&x.jsx(oL,{recording:S,onStart:()=>{de()},onStop:()=>{P()}}),x.jsx("button",{onClick:L,disabled:k,className:"rounded-xl bg-slate-900 px-3 py-2 text-xs text-white hover:bg-black/90 disabled:opacity-60 dark:bg-emerald-600 dark:hover:bg-emerald-500",children:M?"Enviando...":"Enviar"})]}),x.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200/80 px-3 py-2 text-[10px] text-slate-400 dark:border-slate-800/70 dark:text-slate-500",children:[x.jsx("button",{type:"button",className:"text-[11px] text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-100",onClick:()=>{Y()},children:"Nova conversa"}),x.jsx("span",{className:"text-[10px]",children:"Suporte automatizado do Momentum"})]})]}),x.jsx("button",{type:"button",onClick:O,className:"flex h-12 w-12 items-center justify-center rounded-full bg-emerald-600 text-white shadow-xl transition-transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-emerald-300","aria-label":e?"Fechar suporte Momentum":"Abrir suporte Momentum",children:e?x.jsx(Gc,{className:"h-5 w-5"}):x.jsx(Wx,{className:"h-5 w-5"})})]})}const pL=()=>{const[n,e]=F.useState(!1);return x.jsxs("div",{className:"min-h-screen flex bg-[var(--bg)] transition-all duration-500",children:[x.jsx(Ix,{open:n,onClose:()=>e(!1)}),x.jsxs("div",{className:`
          flex flex-col flex-1 transition-all duration-500
          ${n?"ml-60 md:ml-60":"ml-0 md:ml-60"}
        `,children:[x.jsx(YD,{onMenuClick:()=>e(!n)}),x.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 overflow-auto min-h-screen bg-[var(--bg)]",children:x.jsx(_1,{})}),x.jsx(fL,{})]})]})},mL=({open:n,onClose:e})=>{const t=Hi();if(!n)return null;const r=()=>{e(),t("/settings?tab=billing")};return x.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:x.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-800 animate-in zoom-in-95 duration-300",children:[x.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary/90 to-secondary p-6 text-white",children:[x.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:x.jsx(Gc,{size:16})}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-14 h-14 rounded-xl bg-white/20 flex items-center justify-center shadow-glow",children:x.jsx(_v,{size:28})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold font-display",children:"Crditos Esgotados"}),x.jsx("p",{className:"text-white/80 text-sm font-display",children:"Seus crditos de IA acabaram"})]})]})]}),x.jsxs("div",{className:"p-6 space-y-6",children:[x.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed font-display",children:"Voc utilizou todos os seus crditos de IA deste ciclo. Para continuar usando recursos como anlises, relatrios e assistente virtual, escolha uma opo abaixo:"}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 hover:border-primary/50 transition-colors cursor-pointer group",onClick:r,children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-primary",children:x.jsx(Z0,{size:20})}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200 font-display",children:"Pacote Extra"}),x.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-display",children:"+1.000 crditos avulsos"})]})]}),x.jsx("span",{className:"text-primary font-bold font-display",children:"R$ 29"})]})}),x.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-primary/5 to-secondary/5 border-2 border-primary/30 hover:border-primary transition-colors cursor-pointer group",onClick:r,children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white shadow-glow",children:x.jsx(_v,{size:20})}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200 font-display",children:"Upgrade Pro"}),x.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-display",children:"2.000 crditos/ms + recursos premium"})]})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("span",{className:"text-primary font-bold font-display",children:"R$ 97/ms"}),x.jsx("p",{className:"text-[10px] text-success font-bold uppercase",children:"Recomendado"})]})]})})]})]}),x.jsxs("div",{className:"p-6 pt-0 flex gap-3",children:[x.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 font-bold text-sm hover:bg-slate-200 dark:hover:bg-slate-700 transition-all font-display",children:"Fechar"}),x.jsxs("button",{onClick:r,className:"flex-[2] py-3 rounded-xl bg-primary hover:bg-primary/90 text-white font-bold text-sm shadow-glow transition-all flex items-center justify-center gap-2 font-display",children:["Ver Opes",x.jsx(Px,{size:16})]})]})]})})},gL=F.createContext({openModal:()=>{},closeModal:()=>{}}),yL=({children:n})=>{const[e,t]=F.useState(!1);F.useEffect(()=>{const a=()=>{t(!0)};return window.addEventListener("no-credits",a),()=>window.removeEventListener("no-credits",a)},[]);const r=()=>t(!0),o=()=>t(!1);return x.jsxs(gL.Provider,{value:{openModal:r,closeModal:o},children:[n,x.jsx(mL,{open:e,onClose:o})]})},pI=F.createContext(void 0);function vL({children:n}){const[e,t]=F.useState(null),[r,o]=F.useState(!0);F.useEffect(()=>{const f=lE(gn,m=>{t(m),o(!1)});return()=>f()},[]);async function a(){return gn.currentUser?await $w(gn.currentUser,!0):null}async function u(){await gn.signOut()}const d={user:e,loading:r,getToken:a,logout:u};return x.jsx(pI.Provider,{value:d,children:n})}function mI(){const n=F.useContext(pI);if(!n){const e=gn.currentUser;return{user:e,loading:!1,getToken:async()=>e?await $w(e,!0):null,logout:async()=>{await gn.signOut()}}}return n}const _L=()=>{const{user:n}=mI(),{notify:e}=YT(),t=Hi(),r=ns(),[o,a]=F.useState(""),[u,d]=F.useState(""),[f,m]=F.useState(!1),v=r.state?.from||"/";if(n)return x.jsx(Lp,{to:v,replace:!0});async function w(M){if(M.preventDefault(),!o||!u){e({type:"error",title:"Dados incompletos",message:"Preencha e-mail e senha para continuar."});return}try{m(!0),await ck(gn,o.trim(),u),e({type:"success",title:"Bem-vindo(a)!",message:"Login realizado com sucesso."}),t(v,{replace:!0})}catch(C){console.error("Erro de login:",C);let N="No foi possvel entrar. Verifique os dados.";C?.code==="auth/invalid-credential"?N="E-mail ou senha invlidos.":C?.code==="auth/user-disabled"&&(N="Usurio desativado. Fale com o suporte."),e({type:"error",title:"Falha no login",message:N})}finally{m(!1)}}function T(){e({type:"info",title:"Esqueceu a senha?",message:"Fale com o suporte para redefinir seu acesso."})}return x.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center px-4",children:x.jsxs("div",{className:"w-full max-w-5xl grid grid-cols-1 md:grid-cols-2 gap-8 bg-slate-900/70 border border-slate-800 rounded-3xl shadow-2xl overflow-hidden",children:[x.jsxs("div",{className:"hidden md:flex flex-col justify-between p-8 lg:p-10 bg-gradient-to-b from-emerald-500/10 via-slate-900 to-slate-950 border-r border-slate-800/60",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/30 text-emerald-300 text-xs font-medium mb-6",children:[x.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"}),"Momentum Premium  CFO as a Service"]}),x.jsxs("h1",{className:"text-3xl lg:text-4xl font-semibold text-slate-50 mb-4 leading-tight",children:["Entre no seu ",x.jsx("span",{className:"text-emerald-400",children:"Painel Financeiro"})]}),x.jsx("p",{className:"text-sm text-slate-300/80 leading-relaxed max-w-md",children:"Acompanhe a sade financeira, simule cenrios e deixe o CFO de IA trabalhar por voc  em um s lugar."})]}),x.jsxs("div",{className:"mt-10 text-xs text-slate-400 space-y-1",children:[x.jsx("p",{children:" Dados protegidos por autenticao segura do Firebase"}),x.jsx("p",{children:" Acesso exclusivo para clientes e times autorizados"})]})]}),x.jsxs("div",{className:"flex flex-col justify-center p-6 sm:p-8 lg:p-10",children:[x.jsxs("div",{className:"mb-8 md:mb-10",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-3 md:hidden",children:[x.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-xl bg-emerald-500/10 border border-emerald-500/40",children:x.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400"})}),x.jsx("span",{className:"text-xs font-medium uppercase tracking-[0.16em] text-emerald-300",children:"Momentum Premium"})]}),x.jsx("h2",{className:"text-2xl font-semibold text-slate-50",children:"Fazer login"}),x.jsx("p",{className:"text-sm text-slate-400 mt-1.5",children:"Use o e-mail e senha configurados para acessar o Momentum."})]}),x.jsxs("form",{onSubmit:w,className:"space-y-5",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{htmlFor:"email",className:"block text-xs font-medium text-slate-300",children:"E-mail"}),x.jsxs("div",{className:"relative",children:[x.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:x.jsx(qx,{className:"w-4 h-4 text-slate-500"})}),x.jsx("input",{id:"email",type:"email",autoComplete:"email",value:o,onChange:M=>a(M.target.value),className:"w-full rounded-2xl bg-slate-950/60 border border-slate-700 px-10 py-2.5 text-sm text-slate-50 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/80 focus:border-emerald-500/80 transition-shadow",placeholder:"voce@empresa.com"})]})]}),x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{htmlFor:"password",className:"block text-xs font-medium text-slate-300",children:"Senha"}),x.jsxs("div",{className:"relative",children:[x.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:x.jsx(Bx,{className:"w-4 h-4 text-slate-500"})}),x.jsx("input",{id:"password",type:"password",autoComplete:"current-password",value:u,onChange:M=>d(M.target.value),className:"w-full rounded-2xl bg-slate-950/60 border border-slate-700 px-10 py-2.5 text-sm text-slate-50 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/80 focus:border-emerald-500/80 transition-shadow",placeholder:""})]})]}),x.jsxs("div",{className:"flex items-center justify-between text-xs",children:[x.jsx("span",{className:"text-slate-500",children:"Ambiente restrito a usurios autorizados."}),x.jsx("button",{type:"button",onClick:T,className:"text-emerald-400 hover:text-emerald-300 underline-offset-2 hover:underline",children:"Esqueceu a senha?"})]}),x.jsxs("button",{type:"submit",disabled:f,className:"w-full inline-flex items-center justify-center gap-2 rounded-2xl bg-emerald-500 hover:bg-emerald-400 disabled:bg-emerald-500/60 disabled:cursor-not-allowed text-slate-950 text-sm font-medium px-4 py-2.5 mt-1 transition-colors shadow-lg shadow-emerald-500/20",children:[f&&x.jsx(Ux,{className:"w-4 h-4 animate-spin"}),f?"Entrando...":"Entrar no Momentum"]})]}),x.jsx("p",{className:"mt-6 text-[11px] text-slate-500 leading-relaxed",children:"Ao acessar, voc concorda com os termos de uso e poltica de privacidade definidos para a sua conta Momentum."})]})]})})},wL=F.lazy(()=>yt(()=>import("./Dashboard-BYSPUs2v.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),EL=F.lazy(()=>yt(()=>import("./Insights-DxnWjmRP.js"),__vite__mapDeps([15,2,3,4,5,6,7,8]))),TL=F.lazy(()=>yt(()=>import("./Clients-UBjVrYq5.js"),__vite__mapDeps([16,3,11,4,17,18]))),IL=F.lazy(()=>yt(()=>import("./Settings-YRprIEzb.js"),__vite__mapDeps([19,5,8,20,21,6,14,17,22,23]))),SL=F.lazy(()=>yt(()=>import("./Transactions-DGmdNgfw.js"),__vite__mapDeps([24,3,4,25,18,26]))),xL=F.lazy(()=>yt(()=>import("./DataCleaning-Cl7ciTlZ.js"),__vite__mapDeps([27,22,6,28]))),RL=F.lazy(()=>yt(()=>import("./AnalyticsDashboard-DgswGNpt.js"),__vite__mapDeps([29,30,7,8,31,3,11,5,22,32,12]))),bL=F.lazy(()=>yt(()=>import("./Help-D_e_KULK.js"),[])),AL=F.lazy(()=>yt(()=>import("./RealEstateDashboard-Du64bAwa.js"),__vite__mapDeps([33,8,20,3,11,4,5,22,32,13,18]))),CL=F.lazy(()=>yt(()=>import("./AIConsole-CPj5So9T.js"),__vite__mapDeps([34,30,7,8])).then(n=>({default:n.AIConsole}))),kL=F.lazy(()=>yt(()=>import("./AdminLayout-CRJ7HYCI.js"),[])),PL=F.lazy(()=>yt(()=>import("./AdminDashboard-3Ak7k1k_.js"),__vite__mapDeps([35,31,5,36,37,17]))),NL=F.lazy(()=>yt(()=>import("./AdminPlans-BHMNojGe.js"),__vite__mapDeps([38,36]))),OL=F.lazy(()=>yt(()=>import("./AdminVoice-DTtFdJN7.js"),__vite__mapDeps([39,36]))),DL=F.lazy(()=>yt(()=>import("./AdminSupport-CUijj6QE.js"),__vite__mapDeps([40,36]))),LL=F.lazy(()=>yt(()=>import("./AdminEmergency-DFxKYoiq.js"),__vite__mapDeps([41,36]))),b0=F.lazy(()=>yt(()=>import("./DeepDiveFinanceiroPage-CLnLvmwc.js"),__vite__mapDeps([42,1,3,11,4,5,10,28,43,12,32,18,26]))),VL=F.lazy(()=>yt(()=>import("./AlertsCenter-CHVBe55g.js"),__vite__mapDeps([44,3,18,25,21,28])));F.lazy(()=>yt(()=>import("./_DesignSystem-D5hTfhFO.js"),__vite__mapDeps([45,3,11,4,5,12,28,26])));const ML=F.lazy(()=>yt(()=>import("./Imports-CaWzxPHk.js"),__vite__mapDeps([46,3,5,4,43,37,23]))),FL=F.lazy(()=>yt(()=>import("./CfoSimulationPage-CXAZB4L2.js"),__vite__mapDeps([47,31,10,9,3,11,4,5,22,28,32])));function jL({children:n}){const{user:e,loading:t}=mI(),r=ns();return t?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-text-primary",children:x.jsxs("div",{className:"flex flex-col items-center gap-3",children:[x.jsx("div",{className:"h-10 w-10 rounded-full border-2 border-emerald-400 border-t-transparent animate-spin"}),x.jsx("p",{className:"text-xs text-slate-400",children:"Carregando seu ambiente financeiro..."})]})}):e?n:x.jsx(Lp,{to:"/auth",replace:!0,state:{from:r.pathname||"/"}})}function UL(){const n=F.useMemo(()=>new lx({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),[]);return x.jsx(ux,{client:n,children:x.jsx(nD,{children:x.jsx(aL,{children:x.jsx(vL,{children:x.jsxs(yL,{children:[!1,x.jsx(F.Suspense,{fallback:x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-text-primary",children:x.jsxs("div",{className:"flex flex-col items-center gap-3",children:[x.jsx("div",{className:"h-10 w-10 rounded-full border-2 border-emerald-400 border-t-transparent animate-spin"}),x.jsx("p",{className:"text-xs text-slate-400",children:"Carregando Momentum..."})]})}),children:x.jsxs(E1,{children:[x.jsx(nt,{path:"/auth",element:x.jsx(_L,{})}),!1,x.jsxs(nt,{path:"/",element:x.jsx(jL,{children:x.jsx(pL,{})}),children:[x.jsx(nt,{index:!0,element:x.jsx(wL,{})}),x.jsx(nt,{path:"insights",element:x.jsx(EL,{})}),x.jsx(nt,{path:"clients",element:x.jsx(TL,{})}),x.jsx(nt,{path:"settings",element:x.jsx(IL,{})}),x.jsx(nt,{path:"transactions",element:x.jsx(SL,{})}),x.jsx(nt,{path:"data-cleaning",element:x.jsx(xL,{})}),x.jsx(nt,{path:"analytics",element:x.jsx(RL,{})}),x.jsx(nt,{path:"ai",element:x.jsx(CL,{})}),x.jsx(nt,{path:"help",element:x.jsx(bL,{})}),x.jsx(nt,{path:"real-estate",element:x.jsx(AL,{})}),x.jsx(nt,{path:"cfo/deep-dive",element:x.jsx(b0,{})}),x.jsx(nt,{path:"advisor/deep-dive",element:x.jsx(b0,{})}),x.jsx(nt,{path:"cfo/simulation",element:x.jsx(FL,{})}),x.jsx(nt,{path:"alerts",element:x.jsx(VL,{})}),x.jsx(nt,{path:"imports",element:x.jsx(ML,{})}),x.jsxs(nt,{path:"admin",element:x.jsx(kL,{}),children:[x.jsx(nt,{index:!0,element:x.jsx(PL,{})}),x.jsx(nt,{path:"plans",element:x.jsx(NL,{})}),x.jsx(nt,{path:"voice",element:x.jsx(OL,{})}),x.jsx(nt,{path:"support",element:x.jsx(DL,{})}),x.jsx(nt,{path:"emergency",element:x.jsx(LL,{})})]}),x.jsx(nt,{path:"*",element:x.jsx(Lp,{to:"/",replace:!0})})]})]})})]})})})})})}CS.createRoot(document.getElementById("root")).render(x.jsx(A0.StrictMode,{children:x.jsx(SP,{children:x.jsx(k1,{children:x.jsx(UL,{})})})}));export{sm as A,Vm as B,vv as C,ns as D,Fx as E,tD as F,qh as G,S0 as H,WD as I,KD as J,x0 as K,Ux as L,Gx as M,D1 as N,_1 as O,Ox as P,yV as Q,_v as S,Zx as V,Gc as X,yt as _,YT as a,Zs as b,on as c,Hi as d,mI as e,JD as f,qi as g,lL as h,Lm as i,x as j,rL as k,sL as l,cL as m,hV as n,gV as o,mV as p,fV as q,F as r,dV as s,vV as t,ZD as u,pV as v,qx as w,uV as x,zL as y,TP as z};
