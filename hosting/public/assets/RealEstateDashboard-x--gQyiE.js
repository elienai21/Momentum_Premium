import{c as b,b as g,r as a,j as e,X as R,y as J,L as U,g as X,G as K}from"./index-CDF0DbQ4.js";import{U as I}from"./user-R-Jdmox2.js";import{B as w}from"./building-2-DFyRNOWZ.js";import{S as Q}from"./SectionHeader-CGDkteUz.js";import{S as M}from"./StatsCard-FVDKD_AG.js";import{B as D}from"./Badge-BdguWUD2.js";import{A as W}from"./AsyncPanel-1CPXaLuI.js";import{R as Y}from"./refresh-cw-CZqQlwpN.js";import{T as Z}from"./trending-up-B9b6U22l.js";import{C as $}from"./circle-dollar-sign-vzgaydn2.js";import{S as ee}from"./search-DBnEqGph.js";const se=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],H=b("chevron-down",se);const te=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_=b("chevron-right",te);const ae=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],L=b("house",ae);const le=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],re=b("map-pin",le);const ie=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],ne=b("percent",ie);const oe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],de=b("phone",oe);const ce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],P=b("plus",ce);const xe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],q=b("save",xe);async function me(s=30){return(await g.get(`/realestate/portfolio-summary?days=${s}`)).data.summary}async function V(){return(await g.get("/realestate/buildings")).data.buildings}async function ue(){return(await g.get("/realestate/units")).data.units}async function pe(){return(await g.get("/realestate/owners")).data.owners}async function he(s){return(await g.post("/realestate/owners",s)).data.owner}async function be(s){return(await g.post("/realestate/units",s)).data.unit}async function fe(s){return(await g.post("/realestate/buildings",s)).data.building}function T({onClose:s,onSuccess:u}){const[x,p]=a.useState(!1),[l,m]=a.useState({name:"",email:"",phone:""}),h=async r=>{if(r.preventDefault(),!!l.name.trim()){p(!0);try{await he({name:l.name.trim(),email:l.email.trim()||void 0,phone:l.phone.trim()||void 0}),u(),s()}catch(n){console.error("Erro ao salvar proprietário:",n),alert("Erro ao salvar proprietário. Verifique os dados.")}finally{p(!1)}}};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-800 animate-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary/90 to-secondary p-6 text-white",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:e.jsx(R,{size:16})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center shadow-glow",children:e.jsx(I,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold font-display",children:"Novo Proprietário"}),e.jsx("p",{className:"text-white/80 text-sm font-display",children:"Cadastre um novo proprietário de imóveis"})]})]})]}),e.jsxs("form",{onSubmit:h,className:"p-6 space-y-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"text-[10px] uppercase font-bold text-slate-400 dark:text-slate-500 tracking-widest flex items-center gap-1.5 font-display",children:[e.jsx(I,{size:12})," Nome Completo *"]}),e.jsx("input",{required:!0,type:"text",placeholder:"Ex: João da Silva",value:l.name,onChange:r=>m(n=>({...n,name:r.target.value})),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all font-display"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"text-[10px] uppercase font-bold text-slate-400 dark:text-slate-500 tracking-widest flex items-center gap-1.5 font-display",children:[e.jsx(J,{size:12})," Email"]}),e.jsx("input",{type:"email",placeholder:"Ex: joao@email.com",value:l.email,onChange:r=>m(n=>({...n,email:r.target.value})),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all font-display"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"text-[10px] uppercase font-bold text-slate-400 dark:text-slate-500 tracking-widest flex items-center gap-1.5 font-display",children:[e.jsx(de,{size:12})," Telefone"]}),e.jsx("input",{type:"tel",placeholder:"Ex: (11) 99999-9999",value:l.phone,onChange:r=>m(n=>({...n,phone:r.target.value})),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all font-display"})]}),e.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 py-3 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 font-bold text-sm hover:bg-slate-200 dark:hover:bg-slate-700 transition-all font-display",children:"Cancelar"}),e.jsxs("button",{type:"submit",disabled:x||!l.name.trim(),className:"flex-[2] py-3 rounded-xl bg-primary hover:bg-primary/90 text-white font-bold text-sm shadow-glow transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-display",children:[x?e.jsx(U,{size:18,className:"animate-spin"}):e.jsx(q,{size:18}),"Salvar Proprietário"]})]})]})]})})}function F({onClose:s,onSuccess:u}){const[x,p]=a.useState(!1),[l,m]=a.useState({name:"",address:"",city:"",zipCode:""}),h=async r=>{if(r.preventDefault(),!!l.name.trim()){p(!0);try{await fe({name:l.name.trim(),address:l.address.trim()||void 0,city:l.city.trim()||void 0,zipCode:l.zipCode.trim()||void 0,active:!0}),u(),s()}catch(n){console.error("Erro ao salvar edifício:",n),alert("Erro ao salvar edifício. Verifique os dados.")}finally{p(!1)}}};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-800 animate-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800 to-slate-900 p-6 text-white",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:e.jsx(R,{size:16})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/30 flex items-center justify-center shadow-glow",children:e.jsx(w,{size:24,className:"text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold font-display",children:"Novo Edifício"}),e.jsx("p",{className:"text-white/80 text-sm font-display",children:"Cadastre um condomínio ou prédio"})]})]})]}),e.jsxs("form",{onSubmit:h,className:"p-6 space-y-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"text-[10px] uppercase font-bold text-slate-400 dark:text-slate-500 tracking-widest flex items-center gap-1.5 font-display",children:[e.jsx(w,{size:12})," Nome do Edifício *"]}),e.jsx("input",{required:!0,type:"text",placeholder:"Ex: Condomínio Brera",value:l.name,onChange:r=>m(n=>({...n,name:r.target.value})),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all font-display"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"text-[10px] uppercase font-bold text-slate-400 dark:text-slate-500 tracking-widest flex items-center gap-1.5 font-display",children:[e.jsx(re,{size:12})," Endereço"]}),e.jsx("input",{type:"text",placeholder:"Ex: Rua dos Imóveis, 123",value:l.address,onChange:r=>m(n=>({...n,address:r.target.value})),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all font-display"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 dark:text-slate-500 tracking-widest font-display",children:"Cidade"}),e.jsx("input",{type:"text",placeholder:"Ex: São Paulo",value:l.city,onChange:r=>m(n=>({...n,city:r.target.value})),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all font-display"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 dark:text-slate-500 tracking-widest font-display",children:"CEP"}),e.jsx("input",{type:"text",placeholder:"Ex: 01310-100",value:l.zipCode,onChange:r=>m(n=>({...n,zipCode:r.target.value})),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all font-display"})]})]}),e.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 py-3 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 font-bold text-sm hover:bg-slate-200 dark:hover:bg-slate-700 transition-all font-display",children:"Cancelar"}),e.jsxs("button",{type:"submit",disabled:x||!l.name.trim(),className:"flex-[2] py-3 rounded-xl bg-primary hover:bg-primary/90 text-white font-bold text-sm shadow-glow transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-display",children:[x?e.jsx(U,{size:18,className:"animate-spin"}):e.jsx(q,{size:18}),"Salvar Edifício"]})]})]})]})})}function ge({onClose:s,onSuccess:u}){const[x,p]=a.useState([]),[l,m]=a.useState([]),[h,r]=a.useState(!1),[n,N]=a.useState(!1),[k,C]=a.useState(!1),[v,z]=a.useState(!1),[o,f]=a.useState({code:"",name:"",buildingId:"",ownerId:""}),j=a.useCallback(async()=>{x.length===0&&l.length===0&&r(!0);try{const[i,d]=await Promise.all([V(),pe()]);p(i),m(d)}catch(i){console.error("Erro ao carregar selects:",i)}finally{r(!1)}},[]);a.useEffect(()=>{j()},[j]);const E=async i=>{if(i.preventDefault(),!(!o.code||!o.ownerId)){N(!0);try{await be({code:o.code,name:o.name,buildingId:o.buildingId||void 0,ownerId:o.ownerId,active:!0}),u(),s()}catch(d){console.error("Erro ao salvar unidade:",d),alert("Erro ao salvar unidade. Verifique os dados.")}finally{N(!1)}}};return e.jsxs("div",{className:"fixed inset-0 z-[50] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:[e.jsxs("div",{className:"bg-white w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden border border-slate-200",children:[e.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-900 text-white flex items-center justify-center",children:e.jsx(P,{size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Nova Propriedade"}),e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Cadastre uma nova unidade ao seu portfólio."})]})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-200 rounded-full transition-colors text-slate-400",children:e.jsx(R,{size:20})})]}),e.jsxs("form",{onSubmit:E,className:"p-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-widest flex items-center gap-1.5",children:[e.jsx(L,{size:12})," Código da Unidade"]}),e.jsx("input",{required:!0,type:"text",placeholder:"Ex: 1204-A",value:o.code,onChange:i=>f(d=>({...d,code:i.target.value})),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500/20 outline-none transition-all font-bold"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-widest",children:"Nome Amigável"}),e.jsx("input",{type:"text",placeholder:"Ex: Brera Moema",value:o.name,onChange:i=>f(d=>({...d,name:i.target.value})),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500/20 outline-none transition-all"})]})]}),e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-widest flex items-center gap-1.5",children:[e.jsx(w,{size:12})," Edifício (Opcional)"]}),e.jsxs("div",{className:"flex gap-2",children:[h?e.jsx("div",{className:"h-12 w-full bg-slate-100 animate-pulse rounded-xl"}):e.jsxs("select",{value:o.buildingId,onChange:i=>f(d=>({...d,buildingId:i.target.value})),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500/20 outline-none transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Nenhum (Propriedade Avulsa)"}),x.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]}),e.jsx("button",{type:"button",onClick:()=>z(!0),className:"p-3 bg-slate-100 border border-slate-200 rounded-xl hover:bg-white hover:border-slate-300 transition-all text-slate-500 hover:text-blue-600 shadow-sm",title:"Novo Edifício",children:e.jsx(P,{size:18})})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-widest flex items-center gap-1.5",children:[e.jsx(I,{size:12})," Proprietário"]}),e.jsxs("div",{className:"flex gap-2",children:[h?e.jsx("div",{className:"h-12 w-full bg-slate-100 animate-pulse rounded-xl"}):e.jsxs("select",{required:!0,value:o.ownerId,onChange:i=>f(d=>({...d,ownerId:i.target.value})),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500/20 outline-none transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Selecione..."}),l.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]}),e.jsx("button",{type:"button",onClick:()=>C(!0),className:"p-3 bg-slate-100 border border-slate-200 rounded-xl hover:bg-white hover:border-slate-300 transition-all text-slate-500 hover:text-blue-600 shadow-sm",title:"Novo Proprietário",children:e.jsx(P,{size:18})})]})]})]}),e.jsxs("div",{className:"pt-4 flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 py-3.5 rounded-2xl bg-slate-100 text-slate-600 font-bold text-sm hover:bg-slate-200 transition-all active:scale-95",children:"Cancelar"}),e.jsxs("button",{type:"submit",disabled:n||!o.code||!o.ownerId,className:"flex-[2] py-3.5 rounded-2xl bg-blue-600 text-white font-bold text-sm hover:bg-blue-700 shadow-lg shadow-blue-500/20 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[n?e.jsx(U,{size:18,className:"animate-spin"}):e.jsx(q,{size:18}),"Salvar Propriedade"]})]})]})]}),k&&e.jsx(T,{onClose:()=>C(!1),onSuccess:j}),v&&e.jsx(F,{onClose:()=>z(!1),onSuccess:j})]})}const A=s=>s==null?"R$ 0,00":s.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});function Me(){const[s,u]=a.useState(null),[x,p]=a.useState([]),[l,m]=a.useState([]),[h,r]=a.useState(!0),[n,N]=a.useState(null),[k,C]=a.useState(""),[v,z]=a.useState({avulsas:!0}),[o,f]=a.useState(!1),[j,E]=a.useState(!1),[i,d]=a.useState(!1),y=a.useCallback(async()=>{r(!0),N(null);try{const[t,c,S]=await Promise.all([me(30),V(),ue()]);u(t),p(c),m(S)}catch(t){console.error("[RealEstateDashboard] Erro:",t),N("Falha ao carregar dados do portfólio.")}finally{r(!1)}},[]);a.useEffect(()=>{y()},[y]);const O=t=>{z(c=>({...c,[t]:!c[t]}))},G=a.useMemo(()=>{const t=k.toLowerCase();return(x||[]).filter(c=>c.name.toLowerCase().includes(t))},[x,k]),B=a.useMemo(()=>{const t={};return(l||[]).forEach(c=>{const S=c.buildingId||"avulsas";t[S]||(t[S]=[]),t[S].push(c)}),t},[l]);return e.jsxs("div",{className:"pt-24 space-y-8 pb-24 fade-in",children:[e.jsx(Q,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{size:24,className:"text-primary"}),e.jsx("span",{className:"tracking-tight font-display",children:"Portfólio Imobiliário"})]}),subtitle:"Gestão centralizada por edifícios e propriedades individuais.",actions:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:y,className:"bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 px-3 py-2 rounded-xl text-sm font-bold transition-all shadow-sm flex items-center gap-2 active:scale-95",title:"Atualizar",children:e.jsx(Y,{size:14,className:X(h&&"animate-spin")})}),e.jsxs("button",{onClick:()=>E(!0),className:"bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-sm flex items-center gap-2 active:scale-95 font-display",children:[e.jsx(I,{size:14}),e.jsx("span",{className:"hidden sm:inline",children:"Proprietário"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-sm flex items-center gap-2 active:scale-95 font-display",children:[e.jsx(w,{size:14}),e.jsx("span",{className:"hidden sm:inline",children:"Edifício"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-glow flex items-center gap-2 active:scale-95 font-display",children:[e.jsx(P,{size:16}),"Imóvel"]})]})}),o&&e.jsx(ge,{onClose:()=>f(!1),onSuccess:y}),j&&e.jsx(T,{onClose:()=>E(!1),onSuccess:y}),i&&e.jsx(F,{onClose:()=>d(!1),onSuccess:y}),e.jsx(W,{isLoading:h,error:n,isEmpty:!1,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(M,{label:"Receita Bruta (30d)",value:A(s?.totals?.grossRevenue),icon:Z,variant:"default"}),e.jsx(M,{label:"Unidades Ativas",value:s?.totals?.activeUnits?.toString()||"0",icon:L,variant:"default"}),e.jsx(M,{label:"Lucro Operacional",value:A(s?.totals?.netRevenue),icon:$,variant:"success"}),e.jsx(M,{label:"Booking Volume",value:s?.totals?.staysCount?.toString()||"0",icon:ne,variant:"default"})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:["Edifícios & Ativos",e.jsx(D,{variant:"neutral",children:x.length})]}),e.jsxs("div",{className:"relative w-full md:w-80",children:[e.jsx(ee,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Buscar edifício...",value:k,onChange:t=>C(t.target.value),className:"w-full bg-white border border-slate-200 rounded-xl pl-10 pr-4 py-2 text-sm focus:ring-2 focus:ring-blue-500/20 transition-all outline-none"})]})]}),e.jsxs("div",{className:"space-y-4",children:[G.map(t=>e.jsxs("div",{className:"group",children:[e.jsxs("button",{onClick:()=>O(t.id),className:"w-full flex items-center justify-between p-4 bg-white border border-slate-200 rounded-2xl hover:border-blue-300 transition-all shadow-sm group-hover:shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600",children:e.jsx(w,{size:24})}),e.jsxs("div",{className:"text-left leading-tight",children:[e.jsx("h4",{className:"font-bold text-slate-900",children:t.name}),e.jsx("p",{className:"text-xs text-slate-500",children:t.address||"Sem endereço cadastrado"})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"hidden md:block text-right",children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-widest",children:"Unidades"}),e.jsx("p",{className:"font-bold text-slate-700",children:B[t.id]?.length||0})]}),v[t.id]?e.jsx(H,{className:"text-slate-400"}):e.jsx(_,{className:"text-slate-400"})]})]}),v[t.id]&&e.jsx("div",{className:"mt-2 ml-6 pl-6 border-l-2 border-slate-100 space-y-2 animate-in slide-in-from-top-2 duration-300",children:B[t.id]?.map(c=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50/50 rounded-xl border border-slate-100/50 hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{variant:c.active?"success":"neutral",children:c.code}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:c.name||"Sem nome"})]}),e.jsx("button",{className:"text-xs font-bold text-blue-600 hover:text-blue-700",children:"DETALHES"})]},c.id))||e.jsx("p",{className:"text-xs text-slate-400 italic",children:"Nenhuma unidade vinculada."})})]},t.id)),e.jsxs("div",{className:"group",children:[e.jsxs("button",{onClick:()=>O("avulsas"),className:"w-full flex items-center justify-between p-4 bg-slate-50 border border-dashed border-slate-300 rounded-2xl hover:border-slate-400 transition-all shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-200 flex items-center justify-center text-slate-500",children:e.jsx(L,{size:24})}),e.jsxs("div",{className:"text-left leading-tight",children:[e.jsx("h4",{className:"font-bold text-slate-700 tracking-tight",children:"Propriedades Avulsas"}),e.jsx("p",{className:"text-xs text-slate-500 italic",children:"Unidades sem edifício vinculado"})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"hidden md:block text-right",children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-widest",children:"Contagem"}),e.jsx("p",{className:"font-bold text-slate-600",children:B.avulsas?.length||0})]}),v.avulsas?e.jsx(H,{className:"text-slate-400"}):e.jsx(_,{className:"text-slate-400"})]})]}),v.avulsas&&e.jsx("div",{className:"mt-2 ml-6 pl-6 border-l-2 border-slate-100 space-y-2 animate-in slide-in-from-top-2 duration-300",children:B.avulsas?.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-slate-100 hover:shadow-sm transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{variant:t.active?"success":"neutral",children:t.code}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:t.name||"Sem nome"})]}),e.jsx("button",{className:"text-xs font-bold text-blue-600 hover:text-blue-700",children:"DETALHES"})]},t.id))})]})]})]}),s?.potentialCharges&&e.jsx(K,{className:"p-6 border-slate-200 shadow-xl shadow-slate-200/40",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"space-y-1 text-center md:text-left",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 tracking-tight flex items-center gap-2 justify-center md:justify-start",children:[e.jsx($,{className:"text-emerald-500",size:20}),"Billing Preview"]}),e.jsxs("p",{className:"text-sm text-slate-500 max-w-lg",children:["Estimativa mensal baseada na volumetria atual do seu portfólio (",s.totals.activeOwners," proprietários e ",s.totals.activeUnits," unidades)."]})]}),e.jsxs("div",{className:"flex items-center gap-8 bg-white p-3 rounded-2xl border border-slate-100 shadow-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-widest",children:"Base Mensal"}),e.jsx("p",{className:"text-xl font-black text-slate-900 tracking-tighter",children:A(s.potentialCharges.total)})]}),e.jsx(_,{size:20,className:"text-slate-200"}),e.jsx("button",{className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl font-bold text-sm shadow-lg shadow-blue-500/20 hover:bg-blue-700 active:scale-95 transition-all",children:"Upgrade Pro"})]})]})})]})}export{Me as default};
