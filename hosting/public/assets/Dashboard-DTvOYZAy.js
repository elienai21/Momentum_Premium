const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CETmOTzF.js","assets/charts--kFkiaCp.js","assets/vendor-DnLjH3oN.js","assets/query-BGhlxTj0.js","assets/icons-Bc7DOyy3.js","assets/firebase-dP-Dck55.js","assets/index-Bn1UAjEa.css"])))=>i.map(i=>d[i]);
import{u as U,a as $,t as M,b as q,c as V,d as X,e as G,E as W,f as O,G as H,_ as K}from"./index-CETmOTzF.js";import{a,j as e}from"./charts--kFkiaCp.js";import{u as Q,c as J}from"./usePulseSummary-DZgNtT5q.js";import{g as Y}from"./errorMessages-BDQo1fJX.js";import{A as Z}from"./AdvisorDock-CQQqGDcp.js";import{U as ee}from"./UpgradeRequiredModal-CG4eMDas.js";import{C as se}from"./CfoApi-BjOO2Epg.js";import{X as te,W as ae,g as re,h as le,H as oe}from"./icons-Bc7DOyy3.js";import{S as A}from"./StatsCard-B55lZtJ5.js";import{A as F}from"./AsyncPanel-DLrco2Ud.js";import{u as ne}from"./vendor-DnLjH3oN.js";import"./query-BGhlxTj0.js";import"./firebase-dP-Dck55.js";import"./AdvisorChat-DJxQEt6s.js";import"./SectionHeader-DkKv0CWh.js";const _={incDeltaPct:0,expDeltaPct:0,oneOffIncome:0,oneOffExpense:0},ie=({open:i,onClose:n,baseline:m,onConfirm:p})=>{const f=a.useRef(null);U(f,i);const{notify:h}=$(),[d,k]=a.useState(_),[u,S]=a.useState(!1),[c,b]=a.useState(null),[j,g]=a.useState(!1),[w,s]=a.useState(null);if(a.useEffect(()=>{i&&(k(_),b(null),g(!1),s(null))},[i]),!i)return null;const v=l=>x=>{const r=x.target.value;k(y=>({...y,[l]:r===""?void 0:Number(r)}))},D=async l=>{l.preventDefault(),S(!0);try{const x={incDeltaPct:d.incDeltaPct??0,expDeltaPct:d.expDeltaPct??0,oneOffIncome:d.oneOffIncome??0,oneOffExpense:d.oneOffExpense??0};M("cfo_simulate_submit",x);const r=await se.simulate(x);b(r),p?.(x),h({type:"success",message:"SimulaÃ§Ã£o realizada com sucesso."})}catch(x){console.error("Erro na simulaÃ§Ã£o do CFO:",x);const r=x?.response?.status,y=x?.response?.data;r===403&&y?.code==="UPGRADE_REQUIRED"?(s({feature:y.feature,plan:y.plan}),g(!0),h({type:"warning",message:"Essa simulaÃ§Ã£o faz parte de um recurso avanÃ§ado do CFO. Fale com o suporte para ativar o plano ideal para sua empresa."})):h({type:"error",message:"NÃ£o foi possÃ­vel executar a simulaÃ§Ã£o agora. Tente novamente em alguns instantes."})}finally{S(!1)}},C=m.revenueMonth??0,R=m.expenseMonth??0,o=m.runwayMonths??0;return e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/60 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"simulate-title",children:e.jsxs("div",{ref:f,className:"w-full max-w-lg rounded-2xl border border-slate-800 bg-slate-950/95 p-5 shadow-xl shadow-black/60",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h2",{id:"simulate-title",className:"text-sm font-semibold text-slate-50",children:"Simular cenÃ¡rio financeiro"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Ajuste receita, despesas e eventos pontuais para ver o impacto imediato no seu fluxo de caixa."})]}),e.jsx("button",{type:"button",onClick:n,className:"inline-flex h-7 w-7 items-center justify-center rounded-full border border-slate-700 text-slate-400 hover:text-slate-100 hover:bg-slate-900","aria-label":"Fechar simulaÃ§Ã£o",children:e.jsx(te,{className:"h-3.5 w-3.5"})})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-3 gap-3 rounded-xl border border-slate-800 bg-slate-900/60 p-3 text-[11px] text-slate-300",children:[e.jsxs("div",{children:[e.jsx("p",{className:"uppercase tracking-wide text-slate-500 text-[10px]",children:"Receita mensal"}),e.jsxs("p",{className:"font-semibold text-slate-50",children:["R"," ",C.toLocaleString("pt-BR",{maximumFractionDigits:0})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"uppercase tracking-wide text-slate-500 text-[10px]",children:"Despesa mensal"}),e.jsxs("p",{className:"font-semibold text-slate-50",children:["R"," ",R.toLocaleString("pt-BR",{maximumFractionDigits:0})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"uppercase tracking-wide text-slate-500 text-[10px]",children:"Runway estimado"}),e.jsx("p",{className:"font-semibold text-slate-50",children:o?`${o.toFixed(1)} meses`:"â€”"})]})]}),e.jsxs("form",{onSubmit:D,className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-medium text-slate-300 mb-1",children:"Aumento de receita (%)"}),e.jsx("input",{type:"number",step:"1",min:-100,max:200,value:d.incDeltaPct??"",onChange:v("incDeltaPct"),className:"w-full rounded-lg border border-slate-700 bg-slate-900/80 px-2 py-1.5 text-xs text-slate-100 outline-none focus:ring-1 focus:ring-sky-500",placeholder:"ex: 10"}),e.jsx("p",{className:"mt-1 text-[10px] text-slate-500",children:"Ex.: 10 = crescer 10% na receita."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-medium text-slate-300 mb-1",children:"VariaÃ§Ã£o de despesas (%)"}),e.jsx("input",{type:"number",step:"1",min:-100,max:200,value:d.expDeltaPct??"",onChange:v("expDeltaPct"),className:"w-full rounded-lg border border-slate-700 bg-slate-900/80 px-2 py-1.5 text-xs text-slate-100 outline-none focus:ring-1 focus:ring-sky-500",placeholder:"ex: -5"}),e.jsx("p",{className:"mt-1 text-[10px] text-slate-500",children:"Ex.: -5 = reduzir gastos em 5%."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-medium text-slate-300 mb-1",children:"Receita pontual (R$)"}),e.jsx("input",{type:"number",step:"100",min:0,value:d.oneOffIncome??"",onChange:v("oneOffIncome"),className:"w-full rounded-lg border border-slate-700 bg-slate-900/80 px-2 py-1.5 text-xs text-slate-100 outline-none focus:ring-1 focus:ring-sky-500",placeholder:"ex: 10000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-medium text-slate-300 mb-1",children:"Despesa pontual (R$)"}),e.jsx("input",{type:"number",step:"100",min:0,value:d.oneOffExpense??"",onChange:v("oneOffExpense"),className:"w-full rounded-lg border border-slate-700 bg-slate-900/80 px-2 py-1.5 text-xs text-slate-100 outline-none focus:ring-1 focus:ring-sky-500",placeholder:"ex: 5000"})]})]}),c&&e.jsxs("div",{className:"mt-3 rounded-xl border border-slate-800 bg-slate-900/70 p-3 text-[11px] text-slate-200 space-y-1.5",children:[e.jsx("p",{className:"text-[10px] uppercase tracking-wide text-slate-500",children:"Resultado da simulaÃ§Ã£o"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-[10px]",children:"Nova receita"}),e.jsxs("p",{className:"font-semibold text-slate-50",children:["R"," ",c.result.newIncome.toLocaleString("pt-BR",{maximumFractionDigits:0})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-[10px]",children:"Nova despesa"}),e.jsxs("p",{className:"font-semibold text-slate-50",children:["R"," ",c.result.newExpense.toLocaleString("pt-BR",{maximumFractionDigits:0})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-[10px]",children:"Fluxo lÃ­quido"}),e.jsxs("p",{className:`font-semibold ${c.result.net>=0?"text-emerald-400":"text-red-400"}`,children:["R"," ",c.result.net.toLocaleString("pt-BR",{maximumFractionDigits:0})]})]})]})]}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:n,className:"rounded-xl border border-slate-700 bg-slate-900/80 px-3 py-1.5 text-xs text-slate-200 hover:bg-slate-800",disabled:u,children:"Fechar"}),e.jsx("button",{type:"submit",disabled:u,className:"rounded-xl bg-sky-500 px-4 py-1.5 text-xs font-semibold text-white shadow hover:bg-sky-400 disabled:opacity-60 disabled:cursor-not-allowed",children:u?"Simulando...":"Simular cenÃ¡rio"})]})]}),e.jsx(ee,{open:j,onClose:()=>g(!1),feature:w?.feature,plan:w?.plan})]})})};function de({open:i,onClose:n,onImported:m}){const[p,f]=a.useState(""),[h,d]=a.useState(!1),[k,u]=a.useState(null),[S,c]=a.useState(null),[b,j]=a.useState("sheets"),[g,w]=a.useState(null),s="momentum-premium@appspot.gserviceaccount.com";if(!i)return null;function v(o){return o.match(/\/d\/([^/]+)/)?.[1]??o.trim()}async function D(){if(b==="file"){if(!g){c("Selecione um arquivo para importar.");return}return C(g)}const o=p.trim();if(!o){c("Cole a URL da planilha para importar.");return}d(!0),u(null),c(null);try{const l=v(o),{data:x}=await q.post("/sync/import",{sheetId:l}),r=x.importedCount??0,y=x.message??`ImportaÃ§Ã£o concluÃ­da com sucesso. Foram importados ${r} registros.`;u(y),M?.("import_success",{importedCount:r}),m&&m({importedCount:r})}catch(l){console.error("[ImportModal] Erro ao importar:",l);const x=l?.status===403?"PermissÃ£o negada. Compartilhe a planilha com o e-mail do robÃ´ antes de importar.":l?.message||"NÃ£o foi possÃ­vel importar a planilha. Verifique a URL e tente novamente.";c(x),M?.("import_error",{status:l?.status})}finally{d(!1)}}async function C(o){d(!0),u(null),c(null);try{const l=Math.max(1,Math.round(o.size/1024));u(`Arquivo "${o.name}" pronto para processamento (${l} KB).`),M?.("import_file_ready",{name:o.name,size:o.size}),m&&m()}catch(l){console.error("[ImportModal] Falha ao processar arquivo:",l),c("NÃ£o foi possÃ­vel ler o arquivo. Tente novamente ou envie um CSV/OFX vÃ¡lido.")}finally{d(!1)}}function R(){f(""),u(null),c(null),w(null),j("sheets"),d(!1),n()}return e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:e.jsxs("div",{className:"glass max-w-md w-full rounded-2xl p-4 shadow-xl border border-white/10",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base md:text-lg font-semibold",children:"Importar dados financeiros"}),e.jsx("p",{className:"text-xs md:text-sm text-slate-500 mt-1",children:"Envie sua planilha do Google Sheets ou um arquivo (CSV/XLSX/OFX). O Momentum importarÃ¡ as transaÃ§Ãµes para o seu tenant atual."})]}),e.jsx("button",{type:"button",onClick:R,className:"text-slate-400 hover:text-slate-200 text-sm px-2","aria-label":"Fechar",children:"âœ•"})]}),e.jsxs("div",{className:"flex gap-2 mb-3 text-xs font-semibold",children:[e.jsx("button",{type:"button",onClick:()=>j("sheets"),className:`px-3 py-1.5 rounded-lg border ${b==="sheets"?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-slate-50 border-slate-200 text-slate-500"}`,children:"Google Sheets"}),e.jsx("button",{type:"button",onClick:()=>j("file"),className:`px-3 py-1.5 rounded-lg border ${b==="file"?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-slate-50 border-slate-200 text-slate-500"}`,children:"Upload de Arquivo"})]}),b==="sheets"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-2 rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-[11px] text-amber-800",children:["âš ï¸ Importante: compartilhe a planilha com o robÃ´"," ",e.jsx("strong",{children:s})," como ",e.jsx("em",{children:"Editor"})," antes de importar."]}),e.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"URL da planilha"}),e.jsx("input",{type:"url",value:p,onChange:o=>f(o.target.value),placeholder:"https://docs.google.com/spreadsheets/d/...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm mb-3 focus:outline-none focus:ring-2 focus:ring-emerald-500/60 focus:border-emerald-500/60 bg-white/60"}),e.jsx("p",{className:"text-[11px] text-slate-400 mb-3",children:"Dica: verifique se a planilha estÃ¡ compartilhada com permissÃ£o de leitura para o serviÃ§o conectado, ou se o token do Google foi configurado corretamente."})]}),b==="file"&&e.jsxs("div",{className:"space-y-3 mb-2",children:[e.jsx("p",{className:"text-[11px] text-slate-500",children:"Envie um arquivo CSV, XLSX ou OFX com suas transaÃ§Ãµes. O processamento serÃ¡ iniciado assim que vocÃª confirmar."}),e.jsx("input",{type:"file",accept:".csv,.xlsx,.ofx",onChange:o=>{const l=o.target.files?.[0];w(l??null),u(null),c(null)},className:"w-full text-xs"}),g&&e.jsxs("div",{className:"text-[11px] text-emerald-700 bg-emerald-50 border border-emerald-100 rounded-lg px-3 py-2",children:["Arquivo selecionado: ",e.jsx("strong",{children:g.name})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mb-2",children:[e.jsx("button",{type:"button",onClick:R,className:"text-xs md:text-sm px-3 py-1.5 rounded-lg border border-slate-200 bg-white hover:bg-slate-50",disabled:h,children:"Cancelar"}),e.jsx("button",{type:"button",onClick:D,className:"text-xs md:text-sm px-3 py-1.5 rounded-lg bg-emerald-600 text-white hover:bg-emerald-500 disabled:opacity-60 disabled:cursor-not-allowed",disabled:h||(b==="sheets"?!p.trim():!g),children:h?"Importando...":"Importar"})]}),S&&e.jsx("div",{className:"mt-2 text-xs text-red-500 bg-red-50 border border-red-100 rounded-lg px-3 py-2",children:S}),k&&e.jsx("div",{className:"mt-2 text-xs text-emerald-700 bg-emerald-50 border border-emerald-100 rounded-lg px-3 py-2",children:k})]})})}function Ce(){const i=ne(),{user:n,loading:m}=V(),{tenantId:p}=X();if(m)return e.jsx("div",{className:"p-8 text-sm text-momentum-muted",children:"Carregando seu ambiente financeiro..."});if(!n)return e.jsx("div",{className:"p-8 text-sm text-momentum-muted",children:"Sua sessÃ£o expirou. FaÃ§a login novamente para ver seus dados."});const[f,h]=a.useState(!1),[d,k]=a.useState(!1),[u,S]=a.useState(!1),c=n.displayName||(n.email?n.email.split("@")[0]:"VocÃª"),b="Sua empresa",j=new Date,g=a.useMemo(()=>{const t=new Date(j);return t.setDate(t.getDate()-7),t},[j]),w=t=>t.toISOString().slice(0,10),{data:s,loading:v,error:D}=Q({tenantId:p,periodStart:w(g),periodEnd:w(j)}),C=D,{error:R}=G(),{notify:o}=$(),l=s?{cashBalance:s.kpis.cashBalance,revenueMonth:s.kpis.revenueMonth,expenseMonth:s.kpis.expenseMonth,runwayMonths:s.kpis.runwayMonths}:null;a.useEffect(()=>{},[R]);const x=()=>{typeof window<"u"&&window.dispatchEvent(new Event("open-support-dock"))};C&&Y(C);const r=s?.kpis||{cashBalance:0,revenueMonth:0,expenseMonth:0,runwayMonths:0},[y,P]=a.useState([]),[z,L]=a.useState(!1);a.useEffect(()=>{async function t(){if(n){L(!0);try{const E={from:null,to:null,category:null,type:null,card:null,q:null},{data:T}=await K(()=>import("./index-CETmOTzF.js").then(I=>I.w),__vite__mapDeps([0,1,2,3,4,5,6])).then(I=>I.api.post("/portal/transactions/filter",E));P(T?.transactions?.slice(0,5)||[])}catch(E){console.warn("Falha ao carregar transaÃ§Ãµes recentes:",E)}finally{L(!1)}}}t()},[n]);const N=s?.health||J(r||{revenueMonth:0,expenseMonth:0,runwayMonths:0});return e.jsxs("div",{className:"pt-24 space-y-8 pb-24 fade-in","aria-live":"polite",children:[!p&&e.jsx(W,{title:"Ambiente nÃ£o configurado",description:"Crie uma empresa para comeÃ§ar a visualizar seu painel financeiro.",actionLabel:"Criar Empresa",onActionClick:()=>i("/onboarding"),icon:"ðŸ¢"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 font-display",children:["OlÃ¡, ",e.jsx("span",{className:"text-primary",children:c})]}),e.jsxs("p",{className:"text-slate-500 dark:text-slate-400 font-display text-sm",children:["Empresa: ",e.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:b})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(B,{label:"Acesso Local"}),s?.periodEnd&&e.jsx(B,{label:`Atualizado: ${new Date(s.periodEnd).toLocaleDateString("pt-BR")}`,color:"blue",dot:!0})]})]}),C&&e.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4 flex items-center gap-3 text-amber-500 animate-in fade-in slide-in-from-top-2 duration-500 shadow-glow",children:[e.jsx("span",{className:"material-icons-round",children:"warning"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-bold font-display",children:"SincronizaÃ§Ã£o Incompleta"}),e.jsx("p",{className:"opacity-80",children:"NÃ£o foi possÃ­vel carregar todos os dados. Verifique sua conexÃ£o ou se hÃ¡ importaÃ§Ãµes pendentes."})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.jsxs(F,{isLoading:v,error:null,loadingVariant:"skeleton",children:[e.jsx(A,{label:"Saldo em Caixa",value:r?.cashBalance?r.cashBalance.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"R$ 0,00",icon:ae,variant:"default",className:"shadow-sm border-slate-200/50 dark:border-white/5"}),e.jsx(A,{label:"Receita",value:r?.revenueMonth?r.revenueMonth.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"R$ 0,00",icon:re,variant:"success",className:"shadow-sm border-slate-200/50 dark:border-white/5"}),e.jsx(A,{label:"Despesas",value:r?.expenseMonth?r.expenseMonth.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"R$ 0,00",icon:le,variant:"danger",className:"shadow-sm border-slate-200/50 dark:border-white/5"}),e.jsx(A,{label:"Runway",value:r?.runwayMonths?`${Math.round(r.runwayMonths)} meses`:"0 meses",icon:oe,variant:"warn",className:"shadow-sm border-slate-200/50 dark:border-white/5"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 glass rounded-xl p-8 relative overflow-hidden border border-primary/20 group h-full",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/20 rounded-full blur-[80px] -mr-16 -mt-16 pointer-events-none transition-opacity group-hover:opacity-100 opacity-60"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:gap-12 h-full",children:[e.jsxs("div",{className:"relative w-40 h-40 flex-shrink-0",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[e.jsx("circle",{className:"text-slate-200 dark:text-slate-800",cx:"50",cy:"50",fill:"none",r:"45",stroke:"currentColor",strokeWidth:"8"}),e.jsx("circle",{className:"gauge-anim drop-shadow-[0_0_10px_rgba(110,52,255,0.4)] transition-all duration-1000",cx:"50",cy:"50",fill:"none",r:"45",stroke:"url(#dashboard-gauge-gradient)",strokeDasharray:"283",strokeDashoffset:s?283-283*(N.status==="green"?.85:N.status==="yellow"?.65:.45):283,strokeLinecap:"round",strokeWidth:"8"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"dashboard-gauge-gradient",x1:"0%",x2:"100%",y1:"0%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#6e34ff"}),e.jsx("stop",{offset:"100%",stopColor:"#00c6ff"})]})})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-4xl font-bold text-slate-800 dark:text-slate-200",children:s?N.status==="green"?"85":N.status==="yellow"?"65":"45":"--"}),e.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-widest leading-none mt-1",children:"SaÃºde AI"})]})]}),e.jsxs("div",{className:"flex-1 space-y-4 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded bg-primary/20 text-primary shadow-glow",children:e.jsx("span",{className:"material-icons-round text-sm",children:"auto_awesome"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 font-display",children:"AnÃ¡lise de SaÃºde Financeira"})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-sm",children:s?e.jsxs(e.Fragment,{children:["Sua saÃºde financeira estÃ¡ ",e.jsx("strong",{className:O(N.status==="green"?"text-success":N.status==="yellow"?"text-warning":"text-error"),children:N.status==="green"?"excelente":N.status==="yellow"?"em atenÃ§Ã£o":"crÃ­tica"}),". ",N.reasons?.[0]||"O fluxo de caixa permanece positivo pelo 4Âº mÃªs consecutivo."]}):"Aguardando sincronizaÃ§Ã£o de dados para gerar anÃ¡lise de saÃºde via IA. Importe seu extrato bancÃ¡rio ou planilha para comeÃ§ar."}),e.jsxs("div",{className:"pt-2 flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:()=>i(s?"/cfo/deep-dive":"/imports"),className:"bg-primary hover:bg-primary/90 text-white px-5 py-2.5 rounded-lg text-sm font-bold transition-all shadow-glow flex items-center gap-2 group/btn",children:[s?"Ver Detalhes":"Importar Agora",e.jsx("span",{className:"material-icons-round text-sm group-hover/btn:translate-x-1 transition-transform",children:"arrow_forward"})]}),e.jsx("button",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 px-5 py-2.5 rounded-lg text-sm font-bold hover:bg-slate-50 transition-colors shadow-sm",children:"Exportar RelatÃ³rio"})]})]})]})]}),e.jsxs("div",{className:"glass rounded-xl p-6 border-l-4 border-l-cyan-500/80 flex flex-col h-full shadow-sm border-slate-200/50 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-gradient-to-br from-slate-800 to-black border border-slate-700 flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"material-icons-round text-cyan-400 text-sm",children:"smart_toy"})}),e.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200 font-display",children:"SugestÃµes do CFO"})]}),e.jsx("span",{className:"text-[9px] bg-cyan-500/10 text-cyan-600 dark:text-cyan-400 px-2.5 py-1 rounded-lg border border-cyan-500/20 font-bold uppercase tracking-wider font-display text-slate-800 dark:text-slate-200",children:"IA Ativa"})]}),e.jsx(F,{isLoading:v,error:null,isEmpty:!s?.alerts?.length,emptyTitle:"Dados Insuficientes",emptyDescription:"Importe mais transaÃ§Ãµes para gerar sugestÃµes.",children:e.jsx("div",{className:"space-y-4 flex-1",children:s?.alerts?.slice(0,3).map(t=>e.jsx(ce,{title:t.type.toUpperCase(),badge:t.type==="anomalia"?"Risco":"Aviso",type:t.type==="anomalia"?"danger":"warning",desc:t.message,actions:["Analisar","Ignorar"]},t.id))})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 font-display uppercase tracking-widest text-[10px] opacity-70",children:"Ãšltimas TransaÃ§Ãµes Inteligentes"}),e.jsxs("button",{onClick:()=>i("/transactions"),className:"text-[10px] text-primary font-bold uppercase flex items-center gap-1 hover:underline tracking-widest font-display",children:["Fluxo Completo ",e.jsx("span",{className:"material-icons-round text-sm",children:"arrow_forward"})]})]}),e.jsx(F,{isLoading:z,error:null,isEmpty:y.length===0,emptyTitle:"Sem TransaÃ§Ãµes",emptyDescription:"A sincronizaÃ§Ã£o com seu banco ainda nÃ£o retornou movimentos financeiros.",children:e.jsx(H,{className:"p-0 overflow-hidden border border-slate-200/50 dark:border-white/5 shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs text-left",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-white/5 text-slate-400 font-bold uppercase tracking-widest text-[9px] border-b border-slate-200 dark:border-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"Data"}),e.jsx("th",{className:"px-6 py-4",children:"DescriÃ§Ã£o"}),e.jsx("th",{className:"px-6 py-4",children:"Categoria"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Valor"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-white/5",children:y.map((t,E)=>e.jsxs("tr",{className:"hover:bg-primary/5 transition-colors cursor-pointer group",onClick:()=>i("/transactions"),children:[e.jsx("td",{className:"px-6 py-4 text-slate-500 dark:text-slate-400 font-medium",children:t.date}),e.jsx("td",{className:"px-6 py-4 font-bold text-slate-900 dark:text-slate-100 truncate max-w-[200px]",children:t.description}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-2 py-0.5 rounded-md bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 font-bold uppercase text-[9px] tracking-tighter",children:t.category})}),e.jsxs("td",{className:O("px-6 py-4 text-right font-black tracking-tight",t.type==="credit"?"text-emerald-500":"text-slate-900 dark:text-white"),children:[t.type==="debit"?"-":"",Math.abs(t.amount||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]},E))})]})})})})]}),e.jsx("section",{className:"border-t border-slate-200/50 dark:border-white/5 pt-8 mt-4",children:e.jsxs("div",{className:"glass relative overflow-hidden rounded-xl border border-primary/20 p-8 shadow-sm group",children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-64 h-64 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full blur-3xl opacity-50 transition-opacity group-hover:opacity-70"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-start gap-5",children:[e.jsx("div",{className:"hidden sm:flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-secondary text-white shadow-glow",children:e.jsx("span",{className:"material-symbols-outlined text-2xl font-bold",children:"finance_mode"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 font-display mb-1 flex items-center gap-2",children:["Deep Dive Financeiro",e.jsx("span",{className:"sm:hidden material-symbols-outlined text-primary",children:"finance_mode"})]}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-2xl text-sm leading-relaxed font-display",children:"Acesse a nova tela dedicada para anÃ¡lises profundas. Visualize o fluxo de caixa, monitore transaÃ§Ãµes inteligentes e receba alertas de IA em tempo real."})]})]}),e.jsxs("button",{onClick:()=>i("/cfo/deep-dive"),className:"w-full md:w-auto shrink-0 bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-lg text-sm font-bold transition-all shadow-glow hover:shadow-lg flex items-center justify-center gap-2 group/btn font-display",children:[e.jsx("span",{children:"Acessar AnÃ¡lise Completa"}),e.jsx("span",{className:"material-icons-round text-sm group-hover/btn:translate-x-1 transition-transform",children:"arrow_forward"})]})]})]})}),e.jsxs("div",{className:"flex gap-4 pt-4 border-t border-slate-200 dark:border-slate-800",children:[e.jsx("button",{onClick:x,className:"px-5 py-2.5 rounded-full border border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-400 text-[11px] font-bold uppercase tracking-widest hover:bg-slate-50 dark:hover:bg-slate-800 transition shadow-sm",children:"Abrir Suporte"}),e.jsx("button",{className:"px-5 py-2.5 rounded-full border border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-400 text-[11px] font-bold uppercase tracking-widest hover:bg-slate-50 dark:hover:bg-slate-800 transition shadow-sm",children:"Falar com Advisor"})]}),e.jsx(Z,{open:f,onClose:()=>h(!1)}),e.jsx(ie,{open:d,onClose:()=>k(!1),baseline:l||{},onConfirm:t=>M()}),e.jsx(de,{open:u,onClose:()=>S(!1)})]})}const ce=({title:i,badge:n,desc:m,type:p,actions:f})=>{const h={success:"text-success bg-success/10",warning:"text-warning bg-warning/10",danger:"text-error bg-error/10"};return e.jsxs("div",{className:"bg-white dark:bg-slate-800/40 p-4 rounded-xl border border-slate-100 dark:border-white/5 hover:border-primary/40 transition-colors shadow-sm group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 font-display",children:i}),e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded-lg border border-current/10 font-display ${h[p]}`,children:n})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:m}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 bg-slate-200/50 dark:bg-slate-700/50 text-slate-700 dark:text-slate-300 text-[10px] py-1.5 rounded font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition uppercase tracking-widest leading-none font-display",children:f[0]}),e.jsx("button",{className:"flex-1 bg-primary/10 text-primary hover:bg-primary hover:text-white text-[10px] py-1.5 rounded font-bold transition border border-primary/20 uppercase tracking-widest leading-none font-display",children:f[1]})]})]})},B=({label:i,color:n="slate",dot:m=!1})=>{const p={slate:"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400",success:"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-100 dark:border-emerald-800 text-emerald-600 dark:text-emerald-400",blue:"bg-blue-50 dark:bg-blue-900/20 border-blue-100 dark:border-blue-800 text-blue-600 dark:text-blue-400"};return e.jsxs("div",{className:`px-3 py-1 rounded-full border text-[11px] font-bold flex items-center gap-2 shadow-sm ${p[n]}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${n==="slate"?"bg-slate-400":n==="success"?"bg-emerald-500":"bg-blue-500"} ${m?"animate-pulse":""}`}),i]})};export{Ce as default};
