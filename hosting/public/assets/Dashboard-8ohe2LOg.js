const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DdUxQ-DJ.js","assets/index-Cclvomg4.css"])))=>i.map(i=>d[i]);
import{c as q,r,u as P,j as e,X as T,a as z,t as D,b as G,d as W,e as H,f as K,g as Q,h as O,G as X,_ as J}from"./index-DdUxQ-DJ.js";import{u as Y,g as Z,c as ee}from"./errorMessages-CSUn20xO.js";import{A as te}from"./AdvisorChat-BVEmHoCN.js";import{U as se}from"./UpgradeRequiredModal-BkyCWyX9.js";import{C as ae}from"./CfoApi-H-vClqtl.js";import{S as E}from"./StatsCard-0qh-joLa.js";import{A as L}from"./AsyncPanel-Caf6zYWQ.js";import{W as re}from"./wallet-CW1s9rAH.js";import{C as le}from"./circle-dollar-sign-CHT27Bfp.js";import{C as ne}from"./credit-card-B4eEkTfb.js";import"./SectionHeader-DCwE_wkt.js";import"./trash-2-DWg6l5Pk.js";import"./send-BedDrWUO.js";import"./user-t0LOdZbR.js";const oe=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],ie=q("hourglass",oe);function de({open:t,onClose:a,title:d="Advisor"}){const c=r.useRef(null),m=r.useRef(null);return P(c,t),r.useEffect(()=>{function n(o){o.key==="Escape"&&t&&a()}return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t,a]),r.useEffect(()=>{const n=document.body.style.overflow;return t&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=n}},[t]),r.useEffect(()=>{t&&m.current?.focus()},[t]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed inset-0 z-[60] bg-black/20 backdrop-blur-sm transition-opacity ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,"aria-hidden":!t,onClick:a}),e.jsxs("div",{ref:c,role:"dialog","aria-modal":"true","aria-labelledby":"advisor-dock-title",className:`fixed inset-y-0 right-0 z-[70] w-full max-w-lg bg-white border-l shadow-2xl transition-transform duration-300 ${t?"translate-x-0":"translate-x-full"}`,children:[e.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[e.jsx("h2",{id:"advisor-dock-title",className:"text-sm font-medium text-slate-700",children:d}),e.jsx("button",{ref:m,onClick:a,"aria-label":"Fechar chat do Advisor",className:"rounded-lg p-2 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-300",children:e.jsx(T,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"h-[calc(100%-56px)]",children:e.jsx(te,{})})]})]})}const _={incDeltaPct:0,expDeltaPct:0,oneOffIncome:0,oneOffExpense:0},ce=({open:t,onClose:a,baseline:d,onConfirm:c})=>{const m=r.useRef(null);P(m,t);const{notify:n}=z(),[o,y]=r.useState(_),[h,w]=r.useState(!1),[u,N]=r.useState(null),[j,b]=r.useState(!1),[i,s]=r.useState(null);if(r.useEffect(()=>{t&&(y(_),N(null),b(!1),s(null))},[t]),!t)return null;const p=C=>g=>{const x=g.target.value;y(S=>({...S,[C]:x===""?void 0:Number(x)}))},v=async C=>{C.preventDefault(),w(!0);try{const g={incDeltaPct:o.incDeltaPct??0,expDeltaPct:o.expDeltaPct??0,oneOffIncome:o.oneOffIncome??0,oneOffExpense:o.oneOffExpense??0};D("cfo_simulate_submit",g);const x=await ae.simulate(g);N(x),c?.(g),n({type:"success",message:"SimulaÃ§Ã£o realizada com sucesso."})}catch(g){console.error("Erro na simulaÃ§Ã£o do CFO:",g);const x=g?.response?.status,S=g?.response?.data;x===403&&S?.code==="UPGRADE_REQUIRED"?(s({feature:S.feature,plan:S.plan}),b(!0),n({type:"warning",message:"Essa simulaÃ§Ã£o faz parte de um recurso avanÃ§ado do CFO. Fale com o suporte para ativar o plano ideal para sua empresa."})):n({type:"error",message:"NÃ£o foi possÃ­vel executar a simulaÃ§Ã£o agora. Tente novamente em alguns instantes."})}finally{w(!1)}},f=d.revenueMonth??0,I=d.expenseMonth??0,M=d.runwayMonths??0;return e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/60 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"simulate-title",children:e.jsxs("div",{ref:m,className:"w-full max-w-lg rounded-2xl border border-slate-800 bg-slate-950/95 p-5 shadow-xl shadow-black/60",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h2",{id:"simulate-title",className:"text-sm font-semibold text-slate-50",children:"Simular cenÃ¡rio financeiro"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Ajuste receita, despesas e eventos pontuais para ver o impacto imediato no seu fluxo de caixa."})]}),e.jsx("button",{type:"button",onClick:a,className:"inline-flex h-7 w-7 items-center justify-center rounded-full border border-slate-700 text-slate-400 hover:text-slate-100 hover:bg-slate-900","aria-label":"Fechar simulaÃ§Ã£o",children:e.jsx(T,{className:"h-3.5 w-3.5"})})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-3 gap-3 rounded-xl border border-slate-800 bg-slate-900/60 p-3 text-[11px] text-slate-300",children:[e.jsxs("div",{children:[e.jsx("p",{className:"uppercase tracking-wide text-slate-500 text-[10px]",children:"Receita mensal"}),e.jsxs("p",{className:"font-semibold text-slate-50",children:["R"," ",f.toLocaleString("pt-BR",{maximumFractionDigits:0})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"uppercase tracking-wide text-slate-500 text-[10px]",children:"Despesa mensal"}),e.jsxs("p",{className:"font-semibold text-slate-50",children:["R"," ",I.toLocaleString("pt-BR",{maximumFractionDigits:0})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"uppercase tracking-wide text-slate-500 text-[10px]",children:"Runway estimado"}),e.jsx("p",{className:"font-semibold text-slate-50",children:M?`${M.toFixed(1)} meses`:"â€”"})]})]}),e.jsxs("form",{onSubmit:v,className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-medium text-slate-300 mb-1",children:"Aumento de receita (%)"}),e.jsx("input",{type:"number",step:"1",min:-100,max:200,value:o.incDeltaPct??"",onChange:p("incDeltaPct"),className:"w-full rounded-lg border border-slate-700 bg-slate-900/80 px-2 py-1.5 text-xs text-slate-100 outline-none focus:ring-1 focus:ring-sky-500",placeholder:"ex: 10"}),e.jsx("p",{className:"mt-1 text-[10px] text-slate-500",children:"Ex.: 10 = crescer 10% na receita."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-medium text-slate-300 mb-1",children:"VariaÃ§Ã£o de despesas (%)"}),e.jsx("input",{type:"number",step:"1",min:-100,max:200,value:o.expDeltaPct??"",onChange:p("expDeltaPct"),className:"w-full rounded-lg border border-slate-700 bg-slate-900/80 px-2 py-1.5 text-xs text-slate-100 outline-none focus:ring-1 focus:ring-sky-500",placeholder:"ex: -5"}),e.jsx("p",{className:"mt-1 text-[10px] text-slate-500",children:"Ex.: -5 = reduzir gastos em 5%."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-medium text-slate-300 mb-1",children:"Receita pontual (R$)"}),e.jsx("input",{type:"number",step:"100",min:0,value:o.oneOffIncome??"",onChange:p("oneOffIncome"),className:"w-full rounded-lg border border-slate-700 bg-slate-900/80 px-2 py-1.5 text-xs text-slate-100 outline-none focus:ring-1 focus:ring-sky-500",placeholder:"ex: 10000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-medium text-slate-300 mb-1",children:"Despesa pontual (R$)"}),e.jsx("input",{type:"number",step:"100",min:0,value:o.oneOffExpense??"",onChange:p("oneOffExpense"),className:"w-full rounded-lg border border-slate-700 bg-slate-900/80 px-2 py-1.5 text-xs text-slate-100 outline-none focus:ring-1 focus:ring-sky-500",placeholder:"ex: 5000"})]})]}),u&&e.jsxs("div",{className:"mt-3 rounded-xl border border-slate-800 bg-slate-900/70 p-3 text-[11px] text-slate-200 space-y-1.5",children:[e.jsx("p",{className:"text-[10px] uppercase tracking-wide text-slate-500",children:"Resultado da simulaÃ§Ã£o"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-[10px]",children:"Nova receita"}),e.jsxs("p",{className:"font-semibold text-slate-50",children:["R"," ",u.result.newIncome.toLocaleString("pt-BR",{maximumFractionDigits:0})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-[10px]",children:"Nova despesa"}),e.jsxs("p",{className:"font-semibold text-slate-50",children:["R"," ",u.result.newExpense.toLocaleString("pt-BR",{maximumFractionDigits:0})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-[10px]",children:"Fluxo lÃ­quido"}),e.jsxs("p",{className:`font-semibold ${u.result.net>=0?"text-emerald-400":"text-red-400"}`,children:["R"," ",u.result.net.toLocaleString("pt-BR",{maximumFractionDigits:0})]})]})]})]}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-xl border border-slate-700 bg-slate-900/80 px-3 py-1.5 text-xs text-slate-200 hover:bg-slate-800",disabled:h,children:"Fechar"}),e.jsx("button",{type:"submit",disabled:h,className:"rounded-xl bg-sky-500 px-4 py-1.5 text-xs font-semibold text-white shadow hover:bg-sky-400 disabled:opacity-60 disabled:cursor-not-allowed",children:h?"Simulando...":"Simular cenÃ¡rio"})]})]}),e.jsx(se,{open:j,onClose:()=>b(!1),feature:i?.feature,plan:i?.plan})]})})};function xe({open:t,onClose:a,onImported:d}){const[c,m]=r.useState(""),[n,o]=r.useState(!1),[y,h]=r.useState(null),[w,u]=r.useState(null);if(!t)return null;function N(i){return i.match(/\/d\/([^/]+)/)?.[1]??i.trim()}async function j(){const i=c.trim();if(i){o(!0),h(null),u(null);try{const s=N(i),{data:p}=await G.post("/sync/import",{sheetId:s}),v=p.importedCount??0,f=p.message??`ImportaÃ§Ã£o concluÃ­da com sucesso. Foram importados ${v} registros.`;h(f),D?.("import_success",{importedCount:v}),d&&d({importedCount:v})}catch(s){console.error("[ImportModal] Erro ao importar:",s);const p=s?.message||"NÃ£o foi possÃ­vel importar a planilha. Verifique a URL e tente novamente.";u(p),D?.("import_error",{status:s?.status})}finally{o(!1)}}}function b(){m(""),h(null),u(null),o(!1),a()}return e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:e.jsxs("div",{className:"glass max-w-md w-full rounded-2xl p-4 shadow-xl border border-white/10",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base md:text-lg font-semibold",children:"Importar dados do Google Sheets"}),e.jsx("p",{className:"text-xs md:text-sm text-slate-500 mt-1",children:"Cole a URL da planilha com seus dados financeiros. O Momentum vai importar as transaÃ§Ãµes para o seu tenant atual."})]}),e.jsx("button",{type:"button",onClick:b,className:"text-slate-400 hover:text-slate-200 text-sm px-2","aria-label":"Fechar",children:"âœ•"})]}),e.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"URL da planilha"}),e.jsx("input",{type:"url",value:c,onChange:i=>m(i.target.value),placeholder:"https://docs.google.com/spreadsheets/d/...",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm mb-3 focus:outline-none focus:ring-2 focus:ring-emerald-500/60 focus:border-emerald-500/60 bg-white/60"}),e.jsx("p",{className:"text-[11px] text-slate-400 mb-3",children:"Dica: verifique se a planilha estÃ¡ compartilhada com permissÃ£o de leitura para o serviÃ§o conectado, ou se o token do Google foi configurado corretamente."}),e.jsxs("div",{className:"flex justify-end gap-2 mb-2",children:[e.jsx("button",{type:"button",onClick:b,className:"text-xs md:text-sm px-3 py-1.5 rounded-lg border border-slate-200 bg-white hover:bg-slate-50",disabled:n,children:"Cancelar"}),e.jsx("button",{type:"button",onClick:j,className:"text-xs md:text-sm px-3 py-1.5 rounded-lg bg-emerald-600 text-white hover:bg-emerald-500 disabled:opacity-60 disabled:cursor-not-allowed",disabled:n||!c.trim(),children:n?"Importando...":"Importar"})]}),w&&e.jsx("div",{className:"mt-2 text-xs text-red-500 bg-red-50 border border-red-100 rounded-lg px-3 py-2",children:w}),y&&e.jsx("div",{className:"mt-2 text-xs text-emerald-700 bg-emerald-50 border border-emerald-100 rounded-lg px-3 py-2",children:y})]})})}const me=({title:t,description:a,icon:d,actionLabel:c,onActionClick:m,primaryActionLabel:n,onPrimaryAction:o,secondaryActionLabel:y,onSecondaryAction:h,className:w="",descriptionId:u})=>{const N=r.useRef(null),j=n??c,b=o??m,i=!!(j&&b),s=!!(y&&h);r.useEffect(()=>{if(i){const f=setTimeout(()=>N.current?.focus(),0);return()=>clearTimeout(f)}},[i]);const p=(...f)=>f.filter(Boolean).join(" "),v=u||"empty-desc";return e.jsxs("section",{className:p("relative z-0","flex flex-col items-center justify-center text-center","rounded-2xl border border-slate-200 bg-white/90 p-8 shadow-sm","dark:bg-[rgba(14,18,28,0.65)] dark:border-white/10",w),role:"region","aria-live":"polite","aria-describedby":a?v:void 0,children:[d&&e.jsx("div",{className:p("mb-3 flex h-12 w-12 items-center justify-center rounded-2xl","bg-slate-50 text-2xl shadow-inner","dark:bg-white/5"),"aria-hidden":"true",children:d}),e.jsx("h2",{className:"text-base font-semibold tracking-tight text-slate-900 dark:text-slate-100",children:t}),a&&e.jsx("p",{id:v,className:"mt-1 max-w-[60ch] text-sm text-slate-500 dark:text-slate-300",children:a}),(i||s)&&e.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-2",children:[i&&e.jsx("button",{ref:N,type:"button",onClick:b,className:"inline-flex items-center rounded-xl bg-slate-900 px-3 py-2 text-xs font-medium text-white shadow-sm transition hover:bg-black/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-slate-500 dark:bg-emerald-600 dark:hover:bg-emerald-500",children:j}),s&&e.jsx("button",{type:"button",onClick:h,className:"inline-flex items-center rounded-xl border border-slate-300 bg-white px-3 py-2 text-xs font-medium text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200 dark:hover:bg-slate-800",children:y})]})]})};function Ee(){const t=W(),{user:a,loading:d}=H(),{tenantId:c}=K();if(d)return e.jsx("div",{className:"p-8 text-sm text-momentum-muted",children:"Carregando seu ambiente financeiro..."});if(!a)return e.jsx("div",{className:"p-8 text-sm text-momentum-muted",children:"Sua sessÃ£o expirou. FaÃ§a login novamente para ver seus dados."});const[m,n]=r.useState(!1),[o,y]=r.useState(!1),[h,w]=r.useState(!1),u=a.displayName||(a.email?a.email.split("@")[0]:"VocÃª"),N="Sua empresa",j=new Date,b=r.useMemo(()=>{const l=new Date(j);return l.setDate(l.getDate()-7),l},[j]),i=l=>l.toISOString().slice(0,10),{data:s,loading:p,error:v}=Y({tenantId:c,periodStart:i(b),periodEnd:i(j)}),f=v,{error:I}=Q(),{notify:M}=z(),C=s?{cashBalance:s.kpis.cashBalance,revenueMonth:s.kpis.revenueMonth,expenseMonth:s.kpis.expenseMonth,runwayMonths:s.kpis.runwayMonths}:null;r.useEffect(()=>{},[I]);const g=()=>{typeof window<"u"&&window.dispatchEvent(new Event("open-support-dock"))};f&&Z(f);const x=s?.kpis||{cashBalance:0,revenueMonth:0,expenseMonth:0,runwayMonths:0},[S,$]=r.useState([]),[U,F]=r.useState(!1);r.useEffect(()=>{async function l(){if(a){F(!0);try{const R={from:null,to:null,category:null,type:null,card:null,q:null},{data:V}=await J(()=>import("./index-DdUxQ-DJ.js").then(A=>A.U),__vite__mapDeps([0,1])).then(A=>A.api.post("/portal/transactions/filter",R));$(V?.transactions?.slice(0,5)||[])}catch(R){console.warn("Falha ao carregar transaÃ§Ãµes recentes:",R)}finally{F(!1)}}}l()},[a]);const k=s?.health||ee(x||{revenueMonth:0,expenseMonth:0,runwayMonths:0});return e.jsxs("div",{className:"pt-24 space-y-8 pb-24 fade-in","aria-live":"polite",children:[!c&&e.jsx(me,{title:"Ambiente nÃ£o configurado",description:"Crie uma empresa para comeÃ§ar a visualizar seu painel financeiro.",actionLabel:"Criar Empresa",onActionClick:()=>t("/onboarding"),icon:"ðŸ¢"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 font-display",children:["OlÃ¡, ",e.jsx("span",{className:"text-primary",children:u})]}),e.jsxs("p",{className:"text-slate-500 dark:text-slate-400 font-display text-sm",children:["Empresa: ",e.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:N})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(B,{label:"Acesso Local"}),s?.periodEnd&&e.jsx(B,{label:`Atualizado: ${new Date(s.periodEnd).toLocaleDateString("pt-BR")}`,color:"blue",dot:!0})]})]}),f&&e.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4 flex items-center gap-3 text-amber-500 animate-in fade-in slide-in-from-top-2 duration-500 shadow-glow",children:[e.jsx("span",{className:"material-icons-round",children:"warning"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-bold font-display",children:"SincronizaÃ§Ã£o Incompleta"}),e.jsx("p",{className:"opacity-80",children:"NÃ£o foi possÃ­vel carregar todos os dados. Verifique sua conexÃ£o ou se hÃ¡ importaÃ§Ãµes pendentes."})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.jsxs(L,{isLoading:p,error:null,loadingVariant:"skeleton",children:[e.jsx(E,{label:"Saldo em Caixa",value:x?.cashBalance?x.cashBalance.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"R$ 0,00",icon:re,variant:"default",className:"shadow-sm border-slate-200/50 dark:border-white/5"}),e.jsx(E,{label:"Receita",value:x?.revenueMonth?x.revenueMonth.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"R$ 0,00",icon:le,variant:"success",className:"shadow-sm border-slate-200/50 dark:border-white/5"}),e.jsx(E,{label:"Despesas",value:x?.expenseMonth?x.expenseMonth.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"R$ 0,00",icon:ne,variant:"danger",className:"shadow-sm border-slate-200/50 dark:border-white/5"}),e.jsx(E,{label:"Runway",value:x?.runwayMonths?`${Math.round(x.runwayMonths)} meses`:"0 meses",icon:ie,variant:"warn",className:"shadow-sm border-slate-200/50 dark:border-white/5"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 glass rounded-xl p-8 relative overflow-hidden border border-primary/20 group h-full",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/20 rounded-full blur-[80px] -mr-16 -mt-16 pointer-events-none transition-opacity group-hover:opacity-100 opacity-60"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:gap-12 h-full",children:[e.jsxs("div",{className:"relative w-40 h-40 flex-shrink-0",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[e.jsx("circle",{className:"text-slate-200 dark:text-slate-800",cx:"50",cy:"50",fill:"none",r:"45",stroke:"currentColor",strokeWidth:"8"}),e.jsx("circle",{className:"gauge-anim drop-shadow-[0_0_10px_rgba(110,52,255,0.4)] transition-all duration-1000",cx:"50",cy:"50",fill:"none",r:"45",stroke:"url(#dashboard-gauge-gradient)",strokeDasharray:"283",strokeDashoffset:s?283-283*(k.status==="green"?.85:k.status==="yellow"?.65:.45):283,strokeLinecap:"round",strokeWidth:"8"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"dashboard-gauge-gradient",x1:"0%",x2:"100%",y1:"0%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#6e34ff"}),e.jsx("stop",{offset:"100%",stopColor:"#00c6ff"})]})})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-4xl font-bold text-slate-800 dark:text-slate-200",children:s?k.status==="green"?"85":k.status==="yellow"?"65":"45":"--"}),e.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-widest leading-none mt-1",children:"SaÃºde AI"})]})]}),e.jsxs("div",{className:"flex-1 space-y-4 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded bg-primary/20 text-primary shadow-glow",children:e.jsx("span",{className:"material-icons-round text-sm",children:"auto_awesome"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 font-display",children:"AnÃ¡lise de SaÃºde Financeira"})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-sm",children:s?e.jsxs(e.Fragment,{children:["Sua saÃºde financeira estÃ¡ ",e.jsx("strong",{className:O(k.status==="green"?"text-success":k.status==="yellow"?"text-warning":"text-error"),children:k.status==="green"?"excelente":k.status==="yellow"?"em atenÃ§Ã£o":"crÃ­tica"}),". ",k.reasons?.[0]||"O fluxo de caixa permanece positivo pelo 4Âº mÃªs consecutivo."]}):"Aguardando sincronizaÃ§Ã£o de dados para gerar anÃ¡lise de saÃºde via IA. Importe seu extrato bancÃ¡rio ou planilha para comeÃ§ar."}),e.jsxs("div",{className:"pt-2 flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:()=>t(s?"/cfo/deep-dive":"/imports"),className:"bg-primary hover:bg-primary/90 text-white px-5 py-2.5 rounded-lg text-sm font-bold transition-all shadow-glow flex items-center gap-2 group/btn",children:[s?"Ver Detalhes":"Importar Agora",e.jsx("span",{className:"material-icons-round text-sm group-hover/btn:translate-x-1 transition-transform",children:"arrow_forward"})]}),e.jsx("button",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 px-5 py-2.5 rounded-lg text-sm font-bold hover:bg-slate-50 transition-colors shadow-sm",children:"Exportar RelatÃ³rio"})]})]})]})]}),e.jsxs("div",{className:"glass rounded-xl p-6 border-l-4 border-l-cyan-500/80 flex flex-col h-full shadow-sm border-slate-200/50 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-gradient-to-br from-slate-800 to-black border border-slate-700 flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"material-icons-round text-cyan-400 text-sm",children:"smart_toy"})}),e.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200 font-display",children:"SugestÃµes do CFO"})]}),e.jsx("span",{className:"text-[9px] bg-cyan-500/10 text-cyan-600 dark:text-cyan-400 px-2.5 py-1 rounded-lg border border-cyan-500/20 font-bold uppercase tracking-wider font-display text-slate-800 dark:text-slate-200",children:"IA Ativa"})]}),e.jsx(L,{isLoading:p,error:null,isEmpty:!s?.alerts?.length,emptyTitle:"Dados Insuficientes",emptyDescription:"Importe mais transaÃ§Ãµes para gerar sugestÃµes.",children:e.jsx("div",{className:"space-y-4 flex-1",children:s?.alerts?.slice(0,3).map(l=>e.jsx(pe,{title:l.type.toUpperCase(),badge:l.type==="anomalia"?"Risco":"Aviso",type:l.type==="anomalia"?"danger":"warning",desc:l.message,actions:["Analisar","Ignorar"]},l.id))})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 font-display uppercase tracking-widest text-[10px] opacity-70",children:"Ãšltimas TransaÃ§Ãµes Inteligentes"}),e.jsxs("button",{onClick:()=>t("/transactions"),className:"text-[10px] text-primary font-bold uppercase flex items-center gap-1 hover:underline tracking-widest font-display",children:["Fluxo Completo ",e.jsx("span",{className:"material-icons-round text-sm",children:"arrow_forward"})]})]}),e.jsx(L,{isLoading:U,error:null,isEmpty:S.length===0,emptyTitle:"Sem TransaÃ§Ãµes",emptyDescription:"A sincronizaÃ§Ã£o com seu banco ainda nÃ£o retornou movimentos financeiros.",children:e.jsx(X,{className:"p-0 overflow-hidden border border-slate-200/50 dark:border-white/5 shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs text-left",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-white/5 text-slate-400 font-bold uppercase tracking-widest text-[9px] border-b border-slate-200 dark:border-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"Data"}),e.jsx("th",{className:"px-6 py-4",children:"DescriÃ§Ã£o"}),e.jsx("th",{className:"px-6 py-4",children:"Categoria"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Valor"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-white/5",children:S.map((l,R)=>e.jsxs("tr",{className:"hover:bg-primary/5 transition-colors cursor-pointer group",onClick:()=>t("/transactions"),children:[e.jsx("td",{className:"px-6 py-4 text-slate-500 dark:text-slate-400 font-medium",children:l.date}),e.jsx("td",{className:"px-6 py-4 font-bold text-slate-900 dark:text-slate-100 truncate max-w-[200px]",children:l.description}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-2 py-0.5 rounded-md bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 font-bold uppercase text-[9px] tracking-tighter",children:l.category})}),e.jsxs("td",{className:O("px-6 py-4 text-right font-black tracking-tight",l.type==="credit"?"text-emerald-500":"text-slate-900 dark:text-white"),children:[l.type==="debit"?"-":"",Math.abs(l.amount||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]},R))})]})})})})]}),e.jsx("section",{className:"border-t border-slate-200/50 dark:border-white/5 pt-8 mt-4",children:e.jsxs("div",{className:"glass relative overflow-hidden rounded-xl border border-primary/20 p-8 shadow-sm group",children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-64 h-64 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full blur-3xl opacity-50 transition-opacity group-hover:opacity-70"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-start gap-5",children:[e.jsx("div",{className:"hidden sm:flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-secondary text-white shadow-glow",children:e.jsx("span",{className:"material-symbols-outlined text-2xl font-bold",children:"finance_mode"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 font-display mb-1 flex items-center gap-2",children:["Deep Dive Financeiro",e.jsx("span",{className:"sm:hidden material-symbols-outlined text-primary",children:"finance_mode"})]}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-2xl text-sm leading-relaxed font-display",children:"Acesse a nova tela dedicada para anÃ¡lises profundas. Visualize o fluxo de caixa, monitore transaÃ§Ãµes inteligentes e receba alertas de IA em tempo real."})]})]}),e.jsxs("button",{onClick:()=>t("/cfo/deep-dive"),className:"w-full md:w-auto shrink-0 bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-lg text-sm font-bold transition-all shadow-glow hover:shadow-lg flex items-center justify-center gap-2 group/btn font-display",children:[e.jsx("span",{children:"Acessar AnÃ¡lise Completa"}),e.jsx("span",{className:"material-icons-round text-sm group-hover/btn:translate-x-1 transition-transform",children:"arrow_forward"})]})]})]})}),e.jsxs("div",{className:"flex gap-4 pt-4 border-t border-slate-200 dark:border-slate-800",children:[e.jsx("button",{onClick:g,className:"px-5 py-2.5 rounded-full border border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-400 text-[11px] font-bold uppercase tracking-widest hover:bg-slate-50 dark:hover:bg-slate-800 transition shadow-sm",children:"Abrir Suporte"}),e.jsx("button",{className:"px-5 py-2.5 rounded-full border border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-400 text-[11px] font-bold uppercase tracking-widest hover:bg-slate-50 dark:hover:bg-slate-800 transition shadow-sm",children:"Falar com Advisor"})]}),e.jsx(de,{open:m,onClose:()=>n(!1)}),e.jsx(ce,{open:o,onClose:()=>y(!1),baseline:C||{},onConfirm:l=>D()}),e.jsx(xe,{open:h,onClose:()=>w(!1)})]})}const pe=({title:t,badge:a,desc:d,type:c,actions:m})=>{const n={success:"text-success bg-success/10",warning:"text-warning bg-warning/10",danger:"text-error bg-error/10"};return e.jsxs("div",{className:"bg-white dark:bg-slate-800/40 p-4 rounded-xl border border-slate-100 dark:border-white/5 hover:border-primary/40 transition-colors shadow-sm group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 font-display",children:t}),e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded-lg border border-current/10 font-display ${n[c]}`,children:a})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:d}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 bg-slate-200/50 dark:bg-slate-700/50 text-slate-700 dark:text-slate-300 text-[10px] py-1.5 rounded font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition uppercase tracking-widest leading-none font-display",children:m[0]}),e.jsx("button",{className:"flex-1 bg-primary/10 text-primary hover:bg-primary hover:text-white text-[10px] py-1.5 rounded font-bold transition border border-primary/20 uppercase tracking-widest leading-none font-display",children:m[1]})]})]})},B=({label:t,color:a="slate",dot:d=!1})=>{const c={slate:"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400",success:"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-100 dark:border-emerald-800 text-emerald-600 dark:text-emerald-400",blue:"bg-blue-50 dark:bg-blue-900/20 border-blue-100 dark:border-blue-800 text-blue-600 dark:text-blue-400"};return e.jsxs("div",{className:`px-3 py-1 rounded-full border text-[11px] font-bold flex items-center gap-2 shadow-sm ${c[a]}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${a==="slate"?"bg-slate-400":a==="success"?"bg-emerald-500":"bg-blue-500"} ${d?"animate-pulse":""}`}),t]})};export{Ee as default};
