const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-C-866bYZ.js","assets/AdvisorChat-BpLqgt2F.js","assets/triangle-alert-DSeOGwHz.js","assets/Insights-BE5BRrr1.js","assets/DataCleaning-BgGRuH1S.js","assets/AnalyticsDashboard-DCCotu2d.js","assets/AIAdvisorPanel-G9bQn5EE.js","assets/AIConsole-DonP1LAE.js","assets/AdminPlans-CVjSdZ3E.js","assets/adminApi-Czn4lRck.js","assets/AdminVoice-uqYh45VJ.js","assets/AdminSupport-MT4m3W4C.js","assets/AdminEmergency-CxKpaIii.js"])))=>i.map(i=>d[i]);
function TI(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function II(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Yd={exports:{}},il={},Zd={exports:{}},ke={};var _y;function SI(){if(_y)return ke;_y=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,O={};function k(M,K,pe){this.props=M,this.context=K,this.refs=O,this.updater=pe||F}k.prototype.isReactComponent={},k.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Z(){}Z.prototype=k.prototype;function Q(M,K,pe){this.props=M,this.context=K,this.refs=O,this.updater=pe||F}var G=Q.prototype=new Z;G.constructor=Q,P(G,k.prototype),G.isPureReactComponent=!0;var X=Array.isArray,de=Object.prototype.hasOwnProperty,ge={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(M,K,pe){var Ie,Pe={},Oe=null,$e=null;if(K!=null)for(Ie in K.ref!==void 0&&($e=K.ref),K.key!==void 0&&(Oe=""+K.key),K)de.call(K,Ie)&&!x.hasOwnProperty(Ie)&&(Pe[Ie]=K[Ie]);var qe=arguments.length-2;if(qe===1)Pe.children=pe;else if(1<qe){for(var Ke=Array(qe),Rt=0;Rt<qe;Rt++)Ke[Rt]=arguments[Rt+2];Pe.children=Ke}if(M&&M.defaultProps)for(Ie in qe=M.defaultProps,qe)Pe[Ie]===void 0&&(Pe[Ie]=qe[Ie]);return{$$typeof:n,type:M,key:Oe,ref:$e,props:Pe,_owner:ge.current}}function A(M,K){return{$$typeof:n,type:M.type,key:K,ref:M.ref,props:M.props,_owner:M._owner}}function b(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function L(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pe){return K[pe]})}var U=/\/+/g;function C(M,K){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):K.toString(36)}function Be(M,K,pe,Ie,Pe){var Oe=typeof M;(Oe==="undefined"||Oe==="boolean")&&(M=null);var $e=!1;if(M===null)$e=!0;else switch(Oe){case"string":case"number":$e=!0;break;case"object":switch(M.$$typeof){case n:case e:$e=!0}}if($e)return $e=M,Pe=Pe($e),M=Ie===""?"."+C($e,0):Ie,X(Pe)?(pe="",M!=null&&(pe=M.replace(U,"$&/")+"/"),Be(Pe,K,pe,"",function(Rt){return Rt})):Pe!=null&&(b(Pe)&&(Pe=A(Pe,pe+(!Pe.key||$e&&$e.key===Pe.key?"":(""+Pe.key).replace(U,"$&/")+"/")+M)),K.push(Pe)),1;if($e=0,Ie=Ie===""?".":Ie+":",X(M))for(var qe=0;qe<M.length;qe++){Oe=M[qe];var Ke=Ie+C(Oe,qe);$e+=Be(Oe,K,pe,Ke,Pe)}else if(Ke=T(M),typeof Ke=="function")for(M=Ke.call(M),qe=0;!(Oe=M.next()).done;)Oe=Oe.value,Ke=Ie+C(Oe,qe++),$e+=Be(Oe,K,pe,Ke,Pe);else if(Oe==="object")throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return $e}function Ae(M,K,pe){if(M==null)return M;var Ie=[],Pe=0;return Be(M,Ie,"","",function(Oe){return K.call(pe,Oe,Pe++)}),Ie}function Ue(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(pe){(M._status===0||M._status===-1)&&(M._status=1,M._result=pe)},function(pe){(M._status===0||M._status===-1)&&(M._status=2,M._result=pe)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var ze={current:null},se={transition:null},ye={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:se,ReactCurrentOwner:ge};function oe(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:Ae,forEach:function(M,K,pe){Ae(M,function(){K.apply(this,arguments)},pe)},count:function(M){var K=0;return Ae(M,function(){K++}),K},toArray:function(M){return Ae(M,function(K){return K})||[]},only:function(M){if(!b(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ke.Component=k,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=Q,ke.StrictMode=s,ke.Suspense=f,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,ke.act=oe,ke.cloneElement=function(M,K,pe){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ie=P({},M.props),Pe=M.key,Oe=M.ref,$e=M._owner;if(K!=null){if(K.ref!==void 0&&(Oe=K.ref,$e=ge.current),K.key!==void 0&&(Pe=""+K.key),M.type&&M.type.defaultProps)var qe=M.type.defaultProps;for(Ke in K)de.call(K,Ke)&&!x.hasOwnProperty(Ke)&&(Ie[Ke]=K[Ke]===void 0&&qe!==void 0?qe[Ke]:K[Ke])}var Ke=arguments.length-2;if(Ke===1)Ie.children=pe;else if(1<Ke){qe=Array(Ke);for(var Rt=0;Rt<Ke;Rt++)qe[Rt]=arguments[Rt+2];Ie.children=qe}return{$$typeof:n,type:M.type,key:Pe,ref:Oe,props:Ie,_owner:$e}},ke.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},ke.createElement=S,ke.createFactory=function(M){var K=S.bind(null,M);return K.type=M,K},ke.createRef=function(){return{current:null}},ke.forwardRef=function(M){return{$$typeof:d,render:M}},ke.isValidElement=b,ke.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:Ue}},ke.memo=function(M,K){return{$$typeof:y,type:M,compare:K===void 0?null:K}},ke.startTransition=function(M){var K=se.transition;se.transition={};try{M()}finally{se.transition=K}},ke.unstable_act=oe,ke.useCallback=function(M,K){return ze.current.useCallback(M,K)},ke.useContext=function(M){return ze.current.useContext(M)},ke.useDebugValue=function(){},ke.useDeferredValue=function(M){return ze.current.useDeferredValue(M)},ke.useEffect=function(M,K){return ze.current.useEffect(M,K)},ke.useId=function(){return ze.current.useId()},ke.useImperativeHandle=function(M,K,pe){return ze.current.useImperativeHandle(M,K,pe)},ke.useInsertionEffect=function(M,K){return ze.current.useInsertionEffect(M,K)},ke.useLayoutEffect=function(M,K){return ze.current.useLayoutEffect(M,K)},ke.useMemo=function(M,K){return ze.current.useMemo(M,K)},ke.useReducer=function(M,K,pe){return ze.current.useReducer(M,K,pe)},ke.useRef=function(M){return ze.current.useRef(M)},ke.useState=function(M){return ze.current.useState(M)},ke.useSyncExternalStore=function(M,K,pe){return ze.current.useSyncExternalStore(M,K,pe)},ke.useTransition=function(){return ze.current.useTransition()},ke.version="18.3.1",ke}var wy;function cp(){return wy||(wy=1,Zd.exports=SI()),Zd.exports}var Ey;function RI(){if(Ey)return il;Ey=1;var n=cp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,y){var v,E={},T=null,F=null;y!==void 0&&(T=""+y),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(F=f.ref);for(v in f)s.call(f,v)&&!a.hasOwnProperty(v)&&(E[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)E[v]===void 0&&(E[v]=f[v]);return{$$typeof:e,type:d,key:T,ref:F,props:E,_owner:o.current}}return il.Fragment=t,il.jsx=u,il.jsxs=u,il}var Ty;function AI(){return Ty||(Ty=1,Yd.exports=RI()),Yd.exports}var D=AI(),j=cp();const G_=II(j),CI=TI({__proto__:null,default:G_},[j]);var oc={},ef={exports:{}},ln={},tf={exports:{}},nf={};var Iy;function PI(){return Iy||(Iy=1,(function(n){function e(se,ye){var oe=se.length;se.push(ye);e:for(;0<oe;){var M=oe-1>>>1,K=se[M];if(0<o(K,ye))se[M]=ye,se[oe]=K,oe=M;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var ye=se[0],oe=se.pop();if(oe!==ye){se[0]=oe;e:for(var M=0,K=se.length,pe=K>>>1;M<pe;){var Ie=2*(M+1)-1,Pe=se[Ie],Oe=Ie+1,$e=se[Oe];if(0>o(Pe,oe))Oe<K&&0>o($e,Pe)?(se[M]=$e,se[Oe]=oe,M=Oe):(se[M]=Pe,se[Ie]=oe,M=Ie);else if(Oe<K&&0>o($e,oe))se[M]=$e,se[Oe]=oe,M=Oe;else break e}}return ye}function o(se,ye){var oe=se.sortIndex-ye.sortIndex;return oe!==0?oe:se.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],y=[],v=1,E=null,T=3,F=!1,P=!1,O=!1,k=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(se){for(var ye=t(y);ye!==null;){if(ye.callback===null)s(y);else if(ye.startTime<=se)s(y),ye.sortIndex=ye.expirationTime,e(f,ye);else break;ye=t(y)}}function X(se){if(O=!1,G(se),!P)if(t(f)!==null)P=!0,Ue(de);else{var ye=t(y);ye!==null&&ze(X,ye.startTime-se)}}function de(se,ye){P=!1,O&&(O=!1,Z(S),S=-1),F=!0;var oe=T;try{for(G(ye),E=t(f);E!==null&&(!(E.expirationTime>ye)||se&&!L());){var M=E.callback;if(typeof M=="function"){E.callback=null,T=E.priorityLevel;var K=M(E.expirationTime<=ye);ye=n.unstable_now(),typeof K=="function"?E.callback=K:E===t(f)&&s(f),G(ye)}else s(f);E=t(f)}if(E!==null)var pe=!0;else{var Ie=t(y);Ie!==null&&ze(X,Ie.startTime-ye),pe=!1}return pe}finally{E=null,T=oe,F=!1}}var ge=!1,x=null,S=-1,A=5,b=-1;function L(){return!(n.unstable_now()-b<A)}function U(){if(x!==null){var se=n.unstable_now();b=se;var ye=!0;try{ye=x(!0,se)}finally{ye?C():(ge=!1,x=null)}}else ge=!1}var C;if(typeof Q=="function")C=function(){Q(U)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Ae=Be.port2;Be.port1.onmessage=U,C=function(){Ae.postMessage(null)}}else C=function(){k(U,0)};function Ue(se){x=se,ge||(ge=!0,C())}function ze(se,ye){S=k(function(){se(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){P||F||(P=!0,Ue(de))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(se){switch(T){case 1:case 2:case 3:var ye=3;break;default:ye=T}var oe=T;T=ye;try{return se()}finally{T=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ye){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var oe=T;T=se;try{return ye()}finally{T=oe}},n.unstable_scheduleCallback=function(se,ye,oe){var M=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?M+oe:M):oe=M,se){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=oe+K,se={id:v++,callback:ye,priorityLevel:se,startTime:oe,expirationTime:K,sortIndex:-1},oe>M?(se.sortIndex=oe,e(y,se),t(f)===null&&se===t(y)&&(O?(Z(S),S=-1):O=!0,ze(X,oe-M))):(se.sortIndex=K,e(f,se),P||F||(P=!0,Ue(de))),se},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(se){var ye=T;return function(){var oe=T;T=ye;try{return se.apply(this,arguments)}finally{T=oe}}}})(nf)),nf}var Sy;function kI(){return Sy||(Sy=1,tf.exports=PI()),tf.exports}var Ry;function xI(){if(Ry)return ln;Ry=1;var n=cp(),e=kI();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function T(r){return f.call(E,r)?!0:f.call(v,r)?!1:y.test(r)?E[r]=!0:(v[r]=!0,!1)}function F(r,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function P(r,i,l,h){if(i===null||typeof i>"u"||F(r,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function O(r,i,l,h,p,g,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=g,this.removeEmptyString=w}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new O(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];k[i]=new O(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new O(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new O(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new O(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new O(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new O(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new O(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new O(r,5,!1,r.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function Q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(Z,Q);k[i]=new O(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(Z,Q);k[i]=new O(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(Z,Q);k[i]=new O(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new O(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new O(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,i,l,h){var p=k.hasOwnProperty(i)?k[i]:null;(p!==null?p.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(P(i,l,p,h)&&(l=null),h||p===null?T(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,h=p.attributeNamespace,l===null?r.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?r.setAttributeNS(h,i,l):r.setAttribute(i,l))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),ge=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),se=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,M;function K(r){if(M===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+r}var pe=!1;function Ie(r,i){if(!r||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var h=q}Reflect.construct(r,[],i)}else{try{i.call()}catch(q){h=q}r.call(i.prototype)}else{try{throw Error()}catch(q){h=q}r()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var p=q.stack.split(`
`),g=h.stack.split(`
`),w=p.length-1,R=g.length-1;1<=w&&0<=R&&p[w]!==g[R];)R--;for(;1<=w&&0<=R;w--,R--)if(p[w]!==g[R]){if(w!==1||R!==1)do if(w--,R--,0>R||p[w]!==g[R]){var N=`
`+p[w].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=w&&0<=R);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?K(r):""}function Pe(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=Ie(r.type,!1),r;case 11:return r=Ie(r.type.render,!1),r;case 1:return r=Ie(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case ge:return"Portal";case A:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case Be:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case b:return(r._context.displayName||"Context")+".Provider";case U:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ae:return i=r.displayName||null,i!==null?i:Oe(r.type)||"Memo";case Ue:i=r._payload,r=r._init;try{return Oe(r(i))}catch{}}return null}function $e(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function qe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ke(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rt(r){var i=Ke(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Rr(r){r._valueTracker||(r._valueTracker=Rt(r))}function Fi(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return r&&(h=Ke(r)?r.checked?"true":"false":r.value),r=h,r!==l?(i.setValue(r),!0):!1}function Jr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Hs(r,i){var l=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ui(r,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=qe(i.value!=null?i.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ha(r,i){i=i.checked,i!=null&&G(r,"checked",i,!1)}function da(r,i){ha(r,i);var l=qe(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?ji(r,i.type,l):i.hasOwnProperty("defaultValue")&&ji(r,i.type,qe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Hl(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function ji(r,i,l){(i!=="number"||Jr(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Ar=Array.isArray;function Cr(r,i,l,h){if(r=r.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=i.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&h&&(r[l].defaultSelected=!0)}else{for(l=""+qe(l),i=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function fa(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Bi(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(Ar(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:qe(l)}}function zi(r,i){var l=qe(i.value),h=qe(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function pa(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function yt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?yt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Pr,ma=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,p){MSApp.execUnsafeLocalFunction(function(){return r(i,l,h,p)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Pr=Pr||document.createElement("div"),Pr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Pr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Xr(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ks=["Webkit","ms","Moz","O"];Object.keys(Ws).forEach(function(r){Ks.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Ws[i]=Ws[r]})});function ga(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Ws.hasOwnProperty(r)&&Ws[r]?(""+i).trim():i+"px"}function ya(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=ga(l,i[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,p):r[l]=p}}var va=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _a(r,i){if(i){if(va[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function wa(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qs=null;function $i(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qi=null,En=null,tr=null;function Hi(r){if(r=qa(r)){if(typeof qi!="function")throw Error(t(280));var i=r.stateNode;i&&(i=Eu(i),qi(r.stateNode,r.type,i))}}function nr(r){En?tr?tr.push(r):tr=[r]:En=r}function Ea(){if(En){var r=En,i=tr;if(tr=En=null,Hi(r),i)for(r=0;r<i.length;r++)Hi(i[r])}}function Gs(r,i){return r(i)}function Ta(){}var kr=!1;function Ia(r,i,l){if(kr)return r(i,l);kr=!0;try{return Gs(r,i,l)}finally{kr=!1,(En!==null||tr!==null)&&(Ta(),Ea())}}function at(r,i){var l=r.stateNode;if(l===null)return null;var h=Eu(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var Wi=!1;if(d)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{Wi=!1}function Js(r,i,l,h,p,g,w,R,N){var q=Array.prototype.slice.call(arguments,3);try{i.apply(l,q)}catch(ee){this.onError(ee)}}var Xs=!1,Ki=null,Ln=!1,Sa=null,Ah={onError:function(r){Xs=!0,Ki=r}};function Qi(r,i,l,h,p,g,w,R,N){Xs=!1,Ki=null,Js.apply(Ah,arguments)}function Wl(r,i,l,h,p,g,w,R,N){if(Qi.apply(this,arguments),Xs){if(Xs){var q=Ki;Xs=!1,Ki=null}else throw Error(t(198));Ln||(Ln=!0,Sa=q)}}function Vn(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function Ys(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Mn(r){if(Vn(r)!==r)throw Error(t(188))}function Kl(r){var i=r.alternate;if(!i){if(i=Vn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var l=r,h=i;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return Mn(p),r;if(g===h)return Mn(p),i;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=g;else{for(var w=!1,R=p.child;R;){if(R===l){w=!0,l=p,h=g;break}if(R===h){w=!0,h=p,l=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===l){w=!0,l=g,h=p;break}if(R===h){w=!0,h=g,l=p;break}R=R.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:i}function Ra(r){return r=Kl(r),r!==null?Gi(r):null}function Gi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Gi(r);if(i!==null)return i;r=r.sibling}return null}var Ji=e.unstable_scheduleCallback,Aa=e.unstable_cancelCallback,Ql=e.unstable_shouldYield,Ch=e.unstable_requestPaint,Qe=e.unstable_now,Gl=e.unstable_getCurrentPriorityLevel,Zs=e.unstable_ImmediatePriority,Yr=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,Ca=e.unstable_LowPriority,Jl=e.unstable_IdlePriority,ei=null,pn=null;function Xl(r){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(ei,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Zl,Pa=Math.log,Yl=Math.LN2;function Zl(r){return r>>>=0,r===0?32:31-(Pa(r)/Yl|0)|0}var Xi=64,Yi=4194304;function Zr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ti(r,i){var l=r.pendingLanes;if(l===0)return 0;var h=0,p=r.suspendedLanes,g=r.pingedLanes,w=l&268435455;if(w!==0){var R=w&~p;R!==0?h=Zr(R):(g&=w,g!==0&&(h=Zr(g)))}else w=l&~p,w!==0?h=Zr(w):g!==0&&(h=Zr(g));if(h===0)return 0;if(i!==0&&i!==h&&(i&p)===0&&(p=h&-h,g=i&-i,p>=g||p===16&&(g&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)l=31-Kt(i),p=1<<l,h|=r[l],i&=~p;return h}function Ph(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xr(r,i){for(var l=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Kt(g),R=1<<w,N=p[w];N===-1?((R&l)===0||(R&h)!==0)&&(p[w]=Ph(R,i)):N<=i&&(r.expiredLanes|=R),g&=~R}}function mn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ni(){var r=Xi;return Xi<<=1,(Xi&4194240)===0&&(Xi=64),r}function es(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function ts(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Kt(i),r[i]=l}function We(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Kt(l),g=1<<p;i[p]=0,h[p]=-1,r[p]=-1,l&=~g}}function ns(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var h=31-Kt(l),p=1<<h;p&i|r[h]&i&&(r[h]|=i),l&=~p}}var Ne=0;function rs(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var eu,Zi,tu,nu,ru,ka=!1,rr=[],bt=null,Fn=null,Un=null,ss=new Map,In=new Map,sr=[],kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function su(r,i){switch(r){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":ss.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":In.delete(i.pointerId)}}function en(r,i,l,h,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[p]},i!==null&&(i=qa(i),i!==null&&Zi(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function xh(r,i,l,h,p){switch(i){case"focusin":return bt=en(bt,r,i,l,h,p),!0;case"dragenter":return Fn=en(Fn,r,i,l,h,p),!0;case"mouseover":return Un=en(Un,r,i,l,h,p),!0;case"pointerover":var g=p.pointerId;return ss.set(g,en(ss.get(g)||null,r,i,l,h,p)),!0;case"gotpointercapture":return g=p.pointerId,In.set(g,en(In.get(g)||null,r,i,l,h,p)),!0}return!1}function iu(r){var i=ai(r.target);if(i!==null){var l=Vn(i);if(l!==null){if(i=l.tag,i===13){if(i=Ys(l),i!==null){r.blockedOn=i,ru(r.priority,function(){tu(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function br(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=eo(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Qs=h,l.target.dispatchEvent(h),Qs=null}else return i=qa(l),i!==null&&Zi(i),r.blockedOn=l,!1;i.shift()}return!0}function ri(r,i,l){br(r)&&l.delete(i)}function ou(){ka=!1,bt!==null&&br(bt)&&(bt=null),Fn!==null&&br(Fn)&&(Fn=null),Un!==null&&br(Un)&&(Un=null),ss.forEach(ri),In.forEach(ri)}function jn(r,i){r.blockedOn===i&&(r.blockedOn=null,ka||(ka=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ou)))}function Bn(r){function i(p){return jn(p,r)}if(0<rr.length){jn(rr[0],r);for(var l=1;l<rr.length;l++){var h=rr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(bt!==null&&jn(bt,r),Fn!==null&&jn(Fn,r),Un!==null&&jn(Un,r),ss.forEach(i),In.forEach(i),l=0;l<sr.length;l++)h=sr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<sr.length&&(l=sr[0],l.blockedOn===null);)iu(l),l.blockedOn===null&&sr.shift()}var Nr=X.ReactCurrentBatchConfig,is=!0;function Ye(r,i,l,h){var p=Ne,g=Nr.transition;Nr.transition=null;try{Ne=1,xa(r,i,l,h)}finally{Ne=p,Nr.transition=g}}function bh(r,i,l,h){var p=Ne,g=Nr.transition;Nr.transition=null;try{Ne=4,xa(r,i,l,h)}finally{Ne=p,Nr.transition=g}}function xa(r,i,l,h){if(is){var p=eo(r,i,l,h);if(p===null)zh(r,i,h,si,l),su(r,h);else if(xh(p,r,i,l,h))h.stopPropagation();else if(su(r,h),i&4&&-1<kh.indexOf(r)){for(;p!==null;){var g=qa(p);if(g!==null&&eu(g),g=eo(r,i,l,h),g===null&&zh(r,i,h,si,l),g===p)break;p=g}p!==null&&h.stopPropagation()}else zh(r,i,h,null,l)}}var si=null;function eo(r,i,l,h){if(si=null,r=$i(h),r=ai(r),r!==null)if(i=Vn(r),i===null)r=null;else if(l=i.tag,l===13){if(r=Ys(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return si=r,null}function ba(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gl()){case Zs:return 1;case Yr:return 4;case Tn:case Ca:return 16;case Jl:return 536870912;default:return 16}default:return 16}}var gn=null,to=null,tn=null;function Na(){if(tn)return tn;var r,i=to,l=i.length,h,p="value"in gn?gn.value:gn.textContent,g=p.length;for(r=0;r<l&&i[r]===p[r];r++);var w=l-r;for(h=1;h<=w&&i[l-h]===p[g-h];h++);return tn=p.slice(r,1<h?1-h:void 0)}function no(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function ir(){return!0}function Oa(){return!1}function Nt(r){function i(l,h,p,g,w){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ir:Oa,this.isPropagationStopped=Oa,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),i}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=Nt(zn),or=oe({},zn,{view:0,detail:0}),Nh=Nt(or),so,Or,os,ii=oe({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==os&&(os&&r.type==="mousemove"?(so=r.screenX-os.screenX,Or=r.screenY-os.screenY):Or=so=0,os=r),so)},movementY:function(r){return"movementY"in r?r.movementY:Or}}),io=Nt(ii),Da=oe({},ii,{dataTransfer:0}),au=Nt(Da),oo=oe({},or,{relatedTarget:0}),ao=Nt(oo),lu=oe({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dr=Nt(lu),uu=oe({},zn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),cu=Nt(uu),hu=oe({},zn,{data:0}),La=Nt(hu),lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=du[r])?!!i[r]:!1}function ar(){return fu}var c=oe({},or,{key:function(r){if(r.key){var i=lo[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=no(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Qt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(r){return r.type==="keypress"?no(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?no(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Nt(c),_=oe({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Nt(_),B=oe({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),W=Nt(B),ie=oe({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Nt(ie),_t=oe({},ii,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),De=Nt(_t),At=[9,13,27,32],dt=d&&"CompositionEvent"in window,Sn=null;d&&"documentMode"in document&&(Sn=document.documentMode);var yn=d&&"TextEvent"in window&&!Sn,oi=d&&(!dt||Sn&&8<Sn&&11>=Sn),uo=" ",fm=!1;function pm(r,i){switch(r){case"keyup":return At.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var co=!1;function _T(r,i){switch(r){case"compositionend":return mm(i);case"keypress":return i.which!==32?null:(fm=!0,uo);case"textInput":return r=i.data,r===uo&&fm?null:r;default:return null}}function wT(r,i){if(co)return r==="compositionend"||!dt&&pm(r,i)?(r=Na(),tn=to=gn=null,co=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return oi&&i.locale!=="ko"?null:i.data;default:return null}}var ET={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!ET[r.type]:i==="textarea"}function ym(r,i,l,h){nr(h),i=vu(i,"onChange"),0<i.length&&(l=new ro("onChange","change",null,l,h),r.push({event:l,listeners:i}))}var Va=null,Ma=null;function TT(r){Lm(r,0)}function pu(r){var i=go(r);if(Fi(i))return r}function IT(r,i){if(r==="change")return i}var vm=!1;if(d){var Oh;if(d){var Dh="oninput"in document;if(!Dh){var _m=document.createElement("div");_m.setAttribute("oninput","return;"),Dh=typeof _m.oninput=="function"}Oh=Dh}else Oh=!1;vm=Oh&&(!document.documentMode||9<document.documentMode)}function wm(){Va&&(Va.detachEvent("onpropertychange",Em),Ma=Va=null)}function Em(r){if(r.propertyName==="value"&&pu(Ma)){var i=[];ym(i,Ma,r,$i(r)),Ia(TT,i)}}function ST(r,i,l){r==="focusin"?(wm(),Va=i,Ma=l,Va.attachEvent("onpropertychange",Em)):r==="focusout"&&wm()}function RT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return pu(Ma)}function AT(r,i){if(r==="click")return pu(i)}function CT(r,i){if(r==="input"||r==="change")return pu(i)}function PT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var $n=typeof Object.is=="function"?Object.is:PT;function Fa(r,i){if($n(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(i,p)||!$n(r[p],i[p]))return!1}return!0}function Tm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Im(r,i){var l=Tm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=i&&h>=i)return{node:l,offset:i-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Tm(l)}}function Sm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Sm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Rm(){for(var r=window,i=Jr();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=Jr(r.document)}return i}function Lh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function kT(r){var i=Rm(),l=r.focusedElem,h=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&Sm(l.ownerDocument.documentElement,l)){if(h!==null&&Lh(l)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,g=Math.min(h.start,p);h=h.end===void 0?g:Math.min(h.end,p),!r.extend&&g>h&&(p=h,h=g,g=p),p=Im(l,g);var w=Im(l,h);p&&w&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),r.removeAllRanges(),g>h?(r.addRange(i),r.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var xT=d&&"documentMode"in document&&11>=document.documentMode,ho=null,Vh=null,Ua=null,Mh=!1;function Am(r,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Mh||ho==null||ho!==Jr(h)||(h=ho,"selectionStart"in h&&Lh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ua&&Fa(Ua,h)||(Ua=h,h=vu(Vh,"onSelect"),0<h.length&&(i=new ro("onSelect","select",null,i,l),r.push({event:i,listeners:h}),i.target=ho)))}function mu(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var fo={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionend:mu("Transition","TransitionEnd")},Fh={},Cm={};d&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function gu(r){if(Fh[r])return Fh[r];if(!fo[r])return r;var i=fo[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Cm)return Fh[r]=i[l];return r}var Pm=gu("animationend"),km=gu("animationiteration"),xm=gu("animationstart"),bm=gu("transitionend"),Nm=new Map,Om="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(r,i){Nm.set(r,i),a(i,[r])}for(var Uh=0;Uh<Om.length;Uh++){var jh=Om[Uh],bT=jh.toLowerCase(),NT=jh[0].toUpperCase()+jh.slice(1);as(bT,"on"+NT)}as(Pm,"onAnimationEnd"),as(km,"onAnimationIteration"),as(xm,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(bm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function Dm(r,i,l){var h=r.type||"unknown-event";r.currentTarget=l,Wl(h,i,void 0,r),r.currentTarget=null}function Lm(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],p=h.event;h=h.listeners;e:{var g=void 0;if(i)for(var w=h.length-1;0<=w;w--){var R=h[w],N=R.instance,q=R.currentTarget;if(R=R.listener,N!==g&&p.isPropagationStopped())break e;Dm(p,R,q),g=N}else for(w=0;w<h.length;w++){if(R=h[w],N=R.instance,q=R.currentTarget,R=R.listener,N!==g&&p.isPropagationStopped())break e;Dm(p,R,q),g=N}}}if(Ln)throw r=Sa,Ln=!1,Sa=null,r}function Je(r,i){var l=i[Qh];l===void 0&&(l=i[Qh]=new Set);var h=r+"__bubble";l.has(h)||(Vm(i,r,2,!1),l.add(h))}function Bh(r,i,l){var h=0;i&&(h|=4),Vm(l,r,h,i)}var yu="_reactListening"+Math.random().toString(36).slice(2);function Ba(r){if(!r[yu]){r[yu]=!0,s.forEach(function(l){l!=="selectionchange"&&(OT.has(l)||Bh(l,!1,r),Bh(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[yu]||(i[yu]=!0,Bh("selectionchange",!1,i))}}function Vm(r,i,l,h){switch(ba(i)){case 1:var p=Ye;break;case 4:p=bh;break;default:p=xa}l=p.bind(null,i,l,r),p=void 0,!Wi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(i,l,{capture:!0,passive:p}):r.addEventListener(i,l,!0):p!==void 0?r.addEventListener(i,l,{passive:p}):r.addEventListener(i,l,!1)}function zh(r,i,l,h,p){var g=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var R=h.stateNode.containerInfo;if(R===p||R.nodeType===8&&R.parentNode===p)break;if(w===4)for(w=h.return;w!==null;){var N=w.tag;if((N===3||N===4)&&(N=w.stateNode.containerInfo,N===p||N.nodeType===8&&N.parentNode===p))return;w=w.return}for(;R!==null;){if(w=ai(R),w===null)return;if(N=w.tag,N===5||N===6){h=g=w;continue e}R=R.parentNode}}h=h.return}Ia(function(){var q=g,ee=$i(l),te=[];e:{var Y=Nm.get(r);if(Y!==void 0){var ae=ro,he=r;switch(r){case"keypress":if(no(l)===0)break e;case"keydown":case"keyup":ae=m;break;case"focusin":he="focus",ae=ao;break;case"focusout":he="blur",ae=ao;break;case"beforeblur":case"afterblur":ae=ao;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=W;break;case Pm:case km:case xm:ae=Dr;break;case bm:ae=He;break;case"scroll":ae=Nh;break;case"wheel":ae=De;break;case"copy":case"cut":case"paste":ae=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=I}var fe=(i&4)!==0,lt=!fe&&r==="scroll",z=fe?Y!==null?Y+"Capture":null:Y;fe=[];for(var V=q,$;V!==null;){$=V;var re=$.stateNode;if($.tag===5&&re!==null&&($=re,z!==null&&(re=at(V,z),re!=null&&fe.push(za(V,re,$)))),lt)break;V=V.return}0<fe.length&&(Y=new ae(Y,he,null,l,ee),te.push({event:Y,listeners:fe}))}}if((i&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",Y&&l!==Qs&&(he=l.relatedTarget||l.fromElement)&&(ai(he)||he[Lr]))break e;if((ae||Y)&&(Y=ee.window===ee?ee:(Y=ee.ownerDocument)?Y.defaultView||Y.parentWindow:window,ae?(he=l.relatedTarget||l.toElement,ae=q,he=he?ai(he):null,he!==null&&(lt=Vn(he),he!==lt||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=q),ae!==he)){if(fe=io,re="onMouseLeave",z="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(fe=I,re="onPointerLeave",z="onPointerEnter",V="pointer"),lt=ae==null?Y:go(ae),$=he==null?Y:go(he),Y=new fe(re,V+"leave",ae,l,ee),Y.target=lt,Y.relatedTarget=$,re=null,ai(ee)===q&&(fe=new fe(z,V+"enter",he,l,ee),fe.target=$,fe.relatedTarget=lt,re=fe),lt=re,ae&&he)t:{for(fe=ae,z=he,V=0,$=fe;$;$=po($))V++;for($=0,re=z;re;re=po(re))$++;for(;0<V-$;)fe=po(fe),V--;for(;0<$-V;)z=po(z),$--;for(;V--;){if(fe===z||z!==null&&fe===z.alternate)break t;fe=po(fe),z=po(z)}fe=null}else fe=null;ae!==null&&Mm(te,Y,ae,fe,!1),he!==null&&lt!==null&&Mm(te,lt,he,fe,!0)}}e:{if(Y=q?go(q):window,ae=Y.nodeName&&Y.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Y.type==="file")var me=IT;else if(gm(Y))if(vm)me=CT;else{me=RT;var ve=ST}else(ae=Y.nodeName)&&ae.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(me=AT);if(me&&(me=me(r,q))){ym(te,me,l,ee);break e}ve&&ve(r,Y,q),r==="focusout"&&(ve=Y._wrapperState)&&ve.controlled&&Y.type==="number"&&ji(Y,"number",Y.value)}switch(ve=q?go(q):window,r){case"focusin":(gm(ve)||ve.contentEditable==="true")&&(ho=ve,Vh=q,Ua=null);break;case"focusout":Ua=Vh=ho=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Am(te,l,ee);break;case"selectionchange":if(xT)break;case"keydown":case"keyup":Am(te,l,ee)}var _e;if(dt)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else co?pm(r,l)&&(Te="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(oi&&l.locale!=="ko"&&(co||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&co&&(_e=Na()):(gn=ee,to="value"in gn?gn.value:gn.textContent,co=!0)),ve=vu(q,Te),0<ve.length&&(Te=new La(Te,r,null,l,ee),te.push({event:Te,listeners:ve}),_e?Te.data=_e:(_e=mm(l),_e!==null&&(Te.data=_e)))),(_e=yn?_T(r,l):wT(r,l))&&(q=vu(q,"onBeforeInput"),0<q.length&&(ee=new La("onBeforeInput","beforeinput",null,l,ee),te.push({event:ee,listeners:q}),ee.data=_e))}Lm(te,i)})}function za(r,i,l){return{instance:r,listener:i,currentTarget:l}}function vu(r,i){for(var l=i+"Capture",h=[];r!==null;){var p=r,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=at(r,l),g!=null&&h.unshift(za(r,g,p)),g=at(r,i),g!=null&&h.push(za(r,g,p))),r=r.return}return h}function po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Mm(r,i,l,h,p){for(var g=i._reactName,w=[];l!==null&&l!==h;){var R=l,N=R.alternate,q=R.stateNode;if(N!==null&&N===h)break;R.tag===5&&q!==null&&(R=q,p?(N=at(l,g),N!=null&&w.unshift(za(l,N,R))):p||(N=at(l,g),N!=null&&w.push(za(l,N,R)))),l=l.return}w.length!==0&&r.push({event:i,listeners:w})}var DT=/\r\n?/g,LT=/\u0000|\uFFFD/g;function Fm(r){return(typeof r=="string"?r:""+r).replace(DT,`
`).replace(LT,"")}function _u(r,i,l){if(i=Fm(i),Fm(r)!==i&&l)throw Error(t(425))}function wu(){}var $h=null,qh=null;function Hh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wh=typeof setTimeout=="function"?setTimeout:void 0,VT=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,MT=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(r){return Um.resolve(null).then(r).catch(FT)}:Wh;function FT(r){setTimeout(function(){throw r})}function Kh(r,i){var l=i,h=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){r.removeChild(p),Bn(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Bn(i)}function ls(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function jm(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var mo=Math.random().toString(36).slice(2),lr="__reactFiber$"+mo,$a="__reactProps$"+mo,Lr="__reactContainer$"+mo,Qh="__reactEvents$"+mo,UT="__reactListeners$"+mo,jT="__reactHandles$"+mo;function ai(r){var i=r[lr];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Lr]||l[lr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=jm(r);r!==null;){if(l=r[lr])return l;r=jm(r)}return i}r=l,l=r.parentNode}return null}function qa(r){return r=r[lr]||r[Lr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function go(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Eu(r){return r[$a]||null}var Gh=[],yo=-1;function us(r){return{current:r}}function Xe(r){0>yo||(r.current=Gh[yo],Gh[yo]=null,yo--)}function Ge(r,i){yo++,Gh[yo]=r.current,r.current=i}var cs={},Mt=us(cs),nn=us(!1),li=cs;function vo(r,i){var l=r.type.contextTypes;if(!l)return cs;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in l)p[g]=i[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=p),p}function rn(r){return r=r.childContextTypes,r!=null}function Tu(){Xe(nn),Xe(Mt)}function Bm(r,i,l){if(Mt.current!==cs)throw Error(t(168));Ge(Mt,i),Ge(nn,l)}function zm(r,i,l){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in i))throw Error(t(108,$e(r)||"Unknown",p));return oe({},l,h)}function Iu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||cs,li=Mt.current,Ge(Mt,r),Ge(nn,nn.current),!0}function $m(r,i,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=zm(r,i,li),h.__reactInternalMemoizedMergedChildContext=r,Xe(nn),Xe(Mt),Ge(Mt,r)):Xe(nn),Ge(nn,l)}var Vr=null,Su=!1,Jh=!1;function qm(r){Vr===null?Vr=[r]:Vr.push(r)}function BT(r){Su=!0,qm(r)}function hs(){if(!Jh&&Vr!==null){Jh=!0;var r=0,i=Ne;try{var l=Vr;for(Ne=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Vr=null,Su=!1}catch(p){throw Vr!==null&&(Vr=Vr.slice(r+1)),Ji(Zs,hs),p}finally{Ne=i,Jh=!1}}return null}var _o=[],wo=0,Ru=null,Au=0,Rn=[],An=0,ui=null,Mr=1,Fr="";function ci(r,i){_o[wo++]=Au,_o[wo++]=Ru,Ru=r,Au=i}function Hm(r,i,l){Rn[An++]=Mr,Rn[An++]=Fr,Rn[An++]=ui,ui=r;var h=Mr;r=Fr;var p=32-Kt(h)-1;h&=~(1<<p),l+=1;var g=32-Kt(i)+p;if(30<g){var w=p-p%5;g=(h&(1<<w)-1).toString(32),h>>=w,p-=w,Mr=1<<32-Kt(i)+p|l<<p|h,Fr=g+r}else Mr=1<<g|l<<p|h,Fr=r}function Xh(r){r.return!==null&&(ci(r,1),Hm(r,1,0))}function Yh(r){for(;r===Ru;)Ru=_o[--wo],_o[wo]=null,Au=_o[--wo],_o[wo]=null;for(;r===ui;)ui=Rn[--An],Rn[An]=null,Fr=Rn[--An],Rn[An]=null,Mr=Rn[--An],Rn[An]=null}var vn=null,_n=null,Ze=!1,qn=null;function Wm(r,i){var l=xn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function Km(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,vn=r,_n=ls(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,vn=r,_n=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=ui!==null?{id:Mr,overflow:Fr}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=xn(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,vn=r,_n=null,!0):!1;default:return!1}}function Zh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ed(r){if(Ze){var i=_n;if(i){var l=i;if(!Km(r,i)){if(Zh(r))throw Error(t(418));i=ls(l.nextSibling);var h=vn;i&&Km(r,i)?Wm(h,l):(r.flags=r.flags&-4097|2,Ze=!1,vn=r)}}else{if(Zh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ze=!1,vn=r}}}function Qm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;vn=r}function Cu(r){if(r!==vn)return!1;if(!Ze)return Qm(r),Ze=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Hh(r.type,r.memoizedProps)),i&&(i=_n)){if(Zh(r))throw Gm(),Error(t(418));for(;i;)Wm(r,i),i=ls(i.nextSibling)}if(Qm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){_n=ls(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}_n=null}}else _n=vn?ls(r.stateNode.nextSibling):null;return!0}function Gm(){for(var r=_n;r;)r=ls(r.nextSibling)}function Eo(){_n=vn=null,Ze=!1}function td(r){qn===null?qn=[r]:qn.push(r)}var zT=X.ReactCurrentBatchConfig;function Ha(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var p=h,g=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(w){var R=p.refs;w===null?delete R[g]:R[g]=w},i._stringRef=g,i)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Pu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Jm(r){var i=r._init;return i(r._payload)}function Xm(r){function i(z,V){if(r){var $=z.deletions;$===null?(z.deletions=[V],z.flags|=16):$.push(V)}}function l(z,V){if(!r)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function h(z,V){for(z=new Map;V!==null;)V.key!==null?z.set(V.key,V):z.set(V.index,V),V=V.sibling;return z}function p(z,V){return z=_s(z,V),z.index=0,z.sibling=null,z}function g(z,V,$){return z.index=$,r?($=z.alternate,$!==null?($=$.index,$<V?(z.flags|=2,V):$):(z.flags|=2,V)):(z.flags|=1048576,V)}function w(z){return r&&z.alternate===null&&(z.flags|=2),z}function R(z,V,$,re){return V===null||V.tag!==6?(V=Wd($,z.mode,re),V.return=z,V):(V=p(V,$),V.return=z,V)}function N(z,V,$,re){var me=$.type;return me===x?ee(z,V,$.props.children,re,$.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ue&&Jm(me)===V.type)?(re=p(V,$.props),re.ref=Ha(z,V,$),re.return=z,re):(re=Yu($.type,$.key,$.props,null,z.mode,re),re.ref=Ha(z,V,$),re.return=z,re)}function q(z,V,$,re){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=Kd($,z.mode,re),V.return=z,V):(V=p(V,$.children||[]),V.return=z,V)}function ee(z,V,$,re,me){return V===null||V.tag!==7?(V=vi($,z.mode,re,me),V.return=z,V):(V=p(V,$),V.return=z,V)}function te(z,V,$){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Wd(""+V,z.mode,$),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case de:return $=Yu(V.type,V.key,V.props,null,z.mode,$),$.ref=Ha(z,null,V),$.return=z,$;case ge:return V=Kd(V,z.mode,$),V.return=z,V;case Ue:var re=V._init;return te(z,re(V._payload),$)}if(Ar(V)||ye(V))return V=vi(V,z.mode,$,null),V.return=z,V;Pu(z,V)}return null}function Y(z,V,$,re){var me=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return me!==null?null:R(z,V,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case de:return $.key===me?N(z,V,$,re):null;case ge:return $.key===me?q(z,V,$,re):null;case Ue:return me=$._init,Y(z,V,me($._payload),re)}if(Ar($)||ye($))return me!==null?null:ee(z,V,$,re,null);Pu(z,$)}return null}function ae(z,V,$,re,me){if(typeof re=="string"&&re!==""||typeof re=="number")return z=z.get($)||null,R(V,z,""+re,me);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case de:return z=z.get(re.key===null?$:re.key)||null,N(V,z,re,me);case ge:return z=z.get(re.key===null?$:re.key)||null,q(V,z,re,me);case Ue:var ve=re._init;return ae(z,V,$,ve(re._payload),me)}if(Ar(re)||ye(re))return z=z.get($)||null,ee(V,z,re,me,null);Pu(V,re)}return null}function he(z,V,$,re){for(var me=null,ve=null,_e=V,Te=V=0,kt=null;_e!==null&&Te<$.length;Te++){_e.index>Te?(kt=_e,_e=null):kt=_e.sibling;var je=Y(z,_e,$[Te],re);if(je===null){_e===null&&(_e=kt);break}r&&_e&&je.alternate===null&&i(z,_e),V=g(je,V,Te),ve===null?me=je:ve.sibling=je,ve=je,_e=kt}if(Te===$.length)return l(z,_e),Ze&&ci(z,Te),me;if(_e===null){for(;Te<$.length;Te++)_e=te(z,$[Te],re),_e!==null&&(V=g(_e,V,Te),ve===null?me=_e:ve.sibling=_e,ve=_e);return Ze&&ci(z,Te),me}for(_e=h(z,_e);Te<$.length;Te++)kt=ae(_e,z,Te,$[Te],re),kt!==null&&(r&&kt.alternate!==null&&_e.delete(kt.key===null?Te:kt.key),V=g(kt,V,Te),ve===null?me=kt:ve.sibling=kt,ve=kt);return r&&_e.forEach(function(ws){return i(z,ws)}),Ze&&ci(z,Te),me}function fe(z,V,$,re){var me=ye($);if(typeof me!="function")throw Error(t(150));if($=me.call($),$==null)throw Error(t(151));for(var ve=me=null,_e=V,Te=V=0,kt=null,je=$.next();_e!==null&&!je.done;Te++,je=$.next()){_e.index>Te?(kt=_e,_e=null):kt=_e.sibling;var ws=Y(z,_e,je.value,re);if(ws===null){_e===null&&(_e=kt);break}r&&_e&&ws.alternate===null&&i(z,_e),V=g(ws,V,Te),ve===null?me=ws:ve.sibling=ws,ve=ws,_e=kt}if(je.done)return l(z,_e),Ze&&ci(z,Te),me;if(_e===null){for(;!je.done;Te++,je=$.next())je=te(z,je.value,re),je!==null&&(V=g(je,V,Te),ve===null?me=je:ve.sibling=je,ve=je);return Ze&&ci(z,Te),me}for(_e=h(z,_e);!je.done;Te++,je=$.next())je=ae(_e,z,Te,je.value,re),je!==null&&(r&&je.alternate!==null&&_e.delete(je.key===null?Te:je.key),V=g(je,V,Te),ve===null?me=je:ve.sibling=je,ve=je);return r&&_e.forEach(function(EI){return i(z,EI)}),Ze&&ci(z,Te),me}function lt(z,V,$,re){if(typeof $=="object"&&$!==null&&$.type===x&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case de:e:{for(var me=$.key,ve=V;ve!==null;){if(ve.key===me){if(me=$.type,me===x){if(ve.tag===7){l(z,ve.sibling),V=p(ve,$.props.children),V.return=z,z=V;break e}}else if(ve.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ue&&Jm(me)===ve.type){l(z,ve.sibling),V=p(ve,$.props),V.ref=Ha(z,ve,$),V.return=z,z=V;break e}l(z,ve);break}else i(z,ve);ve=ve.sibling}$.type===x?(V=vi($.props.children,z.mode,re,$.key),V.return=z,z=V):(re=Yu($.type,$.key,$.props,null,z.mode,re),re.ref=Ha(z,V,$),re.return=z,z=re)}return w(z);case ge:e:{for(ve=$.key;V!==null;){if(V.key===ve)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){l(z,V.sibling),V=p(V,$.children||[]),V.return=z,z=V;break e}else{l(z,V);break}else i(z,V);V=V.sibling}V=Kd($,z.mode,re),V.return=z,z=V}return w(z);case Ue:return ve=$._init,lt(z,V,ve($._payload),re)}if(Ar($))return he(z,V,$,re);if(ye($))return fe(z,V,$,re);Pu(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,V!==null&&V.tag===6?(l(z,V.sibling),V=p(V,$),V.return=z,z=V):(l(z,V),V=Wd($,z.mode,re),V.return=z,z=V),w(z)):l(z,V)}return lt}var To=Xm(!0),Ym=Xm(!1),ku=us(null),xu=null,Io=null,nd=null;function rd(){nd=Io=xu=null}function sd(r){var i=ku.current;Xe(ku),r._currentValue=i}function id(r,i,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===l)break;r=r.return}}function So(r,i){xu=r,nd=Io=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(sn=!0),r.firstContext=null)}function Cn(r){var i=r._currentValue;if(nd!==r)if(r={context:r,memoizedValue:i,next:null},Io===null){if(xu===null)throw Error(t(308));Io=r,xu.dependencies={lanes:0,firstContext:r}}else Io=Io.next=r;return i}var hi=null;function od(r){hi===null?hi=[r]:hi.push(r)}function Zm(r,i,l,h){var p=i.interleaved;return p===null?(l.next=l,od(i)):(l.next=p.next,p.next=l),i.interleaved=l,Ur(r,h)}function Ur(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ds=!1;function ad(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eg(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function jr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function fs(r,i,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Me&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,Ur(r,l)}return p=h.interleaved,p===null?(i.next=i,od(h)):(i.next=p.next,p.next=i),h.interleaved=i,Ur(r,l)}function bu(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,ns(r,l)}}function tg(r,i){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?p=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?p=g=i:g=g.next=i}else p=g=i;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function Nu(r,i,l,h){var p=r.updateQueue;ds=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var N=R,q=N.next;N.next=null,w===null?g=q:w.next=q,w=N;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==w&&(R===null?ee.firstBaseUpdate=q:R.next=q,ee.lastBaseUpdate=N))}if(g!==null){var te=p.baseState;w=0,ee=q=N=null,R=g;do{var Y=R.lane,ae=R.eventTime;if((h&Y)===Y){ee!==null&&(ee=ee.next={eventTime:ae,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var he=r,fe=R;switch(Y=i,ae=l,fe.tag){case 1:if(he=fe.payload,typeof he=="function"){te=he.call(ae,te,Y);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,Y=typeof he=="function"?he.call(ae,te,Y):he,Y==null)break e;te=oe({},te,Y);break e;case 2:ds=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,Y=p.effects,Y===null?p.effects=[R]:Y.push(R))}else ae={eventTime:ae,lane:Y,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?(q=ee=ae,N=te):ee=ee.next=ae,w|=Y;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;Y=R,R=Y.next,Y.next=null,p.lastBaseUpdate=Y,p.shared.pending=null}}while(!0);if(ee===null&&(N=te),p.baseState=N,p.firstBaseUpdate=q,p.lastBaseUpdate=ee,i=p.shared.interleaved,i!==null){p=i;do w|=p.lane,p=p.next;while(p!==i)}else g===null&&(p.shared.lanes=0);pi|=w,r.lanes=w,r.memoizedState=te}}function ng(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Wa={},ur=us(Wa),Ka=us(Wa),Qa=us(Wa);function di(r){if(r===Wa)throw Error(t(174));return r}function ld(r,i){switch(Ge(Qa,i),Ge(Ka,r),Ge(ur,Wa),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:vt(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=vt(i,r)}Xe(ur),Ge(ur,i)}function Ro(){Xe(ur),Xe(Ka),Xe(Qa)}function rg(r){di(Qa.current);var i=di(ur.current),l=vt(i,r.type);i!==l&&(Ge(Ka,r),Ge(ur,l))}function ud(r){Ka.current===r&&(Xe(ur),Xe(Ka))}var nt=us(0);function Ou(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var cd=[];function hd(){for(var r=0;r<cd.length;r++)cd[r]._workInProgressVersionPrimary=null;cd.length=0}var Du=X.ReactCurrentDispatcher,dd=X.ReactCurrentBatchConfig,fi=0,rt=null,wt=null,Ct=null,Lu=!1,Ga=!1,Ja=0,$T=0;function Ft(){throw Error(t(321))}function fd(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!$n(r[l],i[l]))return!1;return!0}function pd(r,i,l,h,p,g){if(fi=g,rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Du.current=r===null||r.memoizedState===null?KT:QT,r=l(h,p),Ga){g=0;do{if(Ga=!1,Ja=0,25<=g)throw Error(t(301));g+=1,Ct=wt=null,i.updateQueue=null,Du.current=GT,r=l(h,p)}while(Ga)}if(Du.current=Fu,i=wt!==null&&wt.next!==null,fi=0,Ct=wt=rt=null,Lu=!1,i)throw Error(t(300));return r}function md(){var r=Ja!==0;return Ja=0,r}function cr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?rt.memoizedState=Ct=r:Ct=Ct.next=r,Ct}function Pn(){if(wt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var i=Ct===null?rt.memoizedState:Ct.next;if(i!==null)Ct=i,wt=r;else{if(r===null)throw Error(t(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Ct===null?rt.memoizedState=Ct=r:Ct=Ct.next=r}return Ct}function Xa(r,i){return typeof i=="function"?i(r):i}function gd(r){var i=Pn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=wt,p=h.baseQueue,g=l.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}h.baseQueue=p=g,l.pending=null}if(p!==null){g=p.next,h=h.baseState;var R=w=null,N=null,q=g;do{var ee=q.lane;if((fi&ee)===ee)N!==null&&(N=N.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:r(h,q.action);else{var te={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};N===null?(R=N=te,w=h):N=N.next=te,rt.lanes|=ee,pi|=ee}q=q.next}while(q!==null&&q!==g);N===null?w=h:N.next=R,$n(h,i.memoizedState)||(sn=!0),i.memoizedState=h,i.baseState=w,i.baseQueue=N,l.lastRenderedState=h}if(r=l.interleaved,r!==null){p=r;do g=p.lane,rt.lanes|=g,pi|=g,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function yd(r){var i=Pn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,p=l.pending,g=i.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do g=r(g,w.action),w=w.next;while(w!==p);$n(g,i.memoizedState)||(sn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,h]}function sg(){}function ig(r,i){var l=rt,h=Pn(),p=i(),g=!$n(h.memoizedState,p);if(g&&(h.memoizedState=p,sn=!0),h=h.queue,vd(lg.bind(null,l,h,r),[r]),h.getSnapshot!==i||g||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ya(9,ag.bind(null,l,h,p,i),void 0,null),Pt===null)throw Error(t(349));(fi&30)!==0||og(l,i,p)}return p}function og(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=rt.updateQueue,i===null?(i={lastEffect:null,stores:null},rt.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function ag(r,i,l,h){i.value=l,i.getSnapshot=h,ug(i)&&cg(r)}function lg(r,i,l){return l(function(){ug(i)&&cg(r)})}function ug(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!$n(r,l)}catch{return!0}}function cg(r){var i=Ur(r,1);i!==null&&Qn(i,r,1,-1)}function hg(r){var i=cr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:r},i.queue=r,r=r.dispatch=WT.bind(null,rt,r),[i.memoizedState,r]}function Ya(r,i,l,h){return r={tag:r,create:i,destroy:l,deps:h,next:null},i=rt.updateQueue,i===null?(i={lastEffect:null,stores:null},rt.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,i.lastEffect=r)),r}function dg(){return Pn().memoizedState}function Vu(r,i,l,h){var p=cr();rt.flags|=r,p.memoizedState=Ya(1|i,l,void 0,h===void 0?null:h)}function Mu(r,i,l,h){var p=Pn();h=h===void 0?null:h;var g=void 0;if(wt!==null){var w=wt.memoizedState;if(g=w.destroy,h!==null&&fd(h,w.deps)){p.memoizedState=Ya(i,l,g,h);return}}rt.flags|=r,p.memoizedState=Ya(1|i,l,g,h)}function fg(r,i){return Vu(8390656,8,r,i)}function vd(r,i){return Mu(2048,8,r,i)}function pg(r,i){return Mu(4,2,r,i)}function mg(r,i){return Mu(4,4,r,i)}function gg(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function yg(r,i,l){return l=l!=null?l.concat([r]):null,Mu(4,4,gg.bind(null,i,r),l)}function _d(){}function vg(r,i){var l=Pn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&fd(i,h[1])?h[0]:(l.memoizedState=[r,i],r)}function _g(r,i){var l=Pn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&fd(i,h[1])?h[0]:(r=r(),l.memoizedState=[r,i],r)}function wg(r,i,l){return(fi&21)===0?(r.baseState&&(r.baseState=!1,sn=!0),r.memoizedState=l):($n(l,i)||(l=ni(),rt.lanes|=l,pi|=l,r.baseState=!0),i)}function qT(r,i){var l=Ne;Ne=l!==0&&4>l?l:4,r(!0);var h=dd.transition;dd.transition={};try{r(!1),i()}finally{Ne=l,dd.transition=h}}function Eg(){return Pn().memoizedState}function HT(r,i,l){var h=ys(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Tg(r))Ig(i,l);else if(l=Zm(r,i,l,h),l!==null){var p=Jt();Qn(l,r,h,p),Sg(l,i,h)}}function WT(r,i,l){var h=ys(r),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Tg(r))Ig(i,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var w=i.lastRenderedState,R=g(w,l);if(p.hasEagerState=!0,p.eagerState=R,$n(R,w)){var N=i.interleaved;N===null?(p.next=p,od(i)):(p.next=N.next,N.next=p),i.interleaved=p;return}}catch{}finally{}l=Zm(r,i,p,h),l!==null&&(p=Jt(),Qn(l,r,h,p),Sg(l,i,h))}}function Tg(r){var i=r.alternate;return r===rt||i!==null&&i===rt}function Ig(r,i){Ga=Lu=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Sg(r,i,l){if((l&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,ns(r,l)}}var Fu={readContext:Cn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},KT={readContext:Cn,useCallback:function(r,i){return cr().memoizedState=[r,i===void 0?null:i],r},useContext:Cn,useEffect:fg,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,Vu(4194308,4,gg.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Vu(4194308,4,r,i)},useInsertionEffect:function(r,i){return Vu(4,2,r,i)},useMemo:function(r,i){var l=cr();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var h=cr();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=HT.bind(null,rt,r),[h.memoizedState,r]},useRef:function(r){var i=cr();return r={current:r},i.memoizedState=r},useState:hg,useDebugValue:_d,useDeferredValue:function(r){return cr().memoizedState=r},useTransition:function(){var r=hg(!1),i=r[0];return r=qT.bind(null,r[1]),cr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var h=rt,p=cr();if(Ze){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),Pt===null)throw Error(t(349));(fi&30)!==0||og(h,i,l)}p.memoizedState=l;var g={value:l,getSnapshot:i};return p.queue=g,fg(lg.bind(null,h,g,r),[r]),h.flags|=2048,Ya(9,ag.bind(null,h,g,l,i),void 0,null),l},useId:function(){var r=cr(),i=Pt.identifierPrefix;if(Ze){var l=Fr,h=Mr;l=(h&~(1<<32-Kt(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=Ja++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=$T++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},QT={readContext:Cn,useCallback:vg,useContext:Cn,useEffect:vd,useImperativeHandle:yg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:_g,useReducer:gd,useRef:dg,useState:function(){return gd(Xa)},useDebugValue:_d,useDeferredValue:function(r){var i=Pn();return wg(i,wt.memoizedState,r)},useTransition:function(){var r=gd(Xa)[0],i=Pn().memoizedState;return[r,i]},useMutableSource:sg,useSyncExternalStore:ig,useId:Eg,unstable_isNewReconciler:!1},GT={readContext:Cn,useCallback:vg,useContext:Cn,useEffect:vd,useImperativeHandle:yg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:_g,useReducer:yd,useRef:dg,useState:function(){return yd(Xa)},useDebugValue:_d,useDeferredValue:function(r){var i=Pn();return wt===null?i.memoizedState=r:wg(i,wt.memoizedState,r)},useTransition:function(){var r=yd(Xa)[0],i=Pn().memoizedState;return[r,i]},useMutableSource:sg,useSyncExternalStore:ig,useId:Eg,unstable_isNewReconciler:!1};function Hn(r,i){if(r&&r.defaultProps){i=oe({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function wd(r,i,l,h){i=r.memoizedState,l=l(h,i),l=l==null?i:oe({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Uu={isMounted:function(r){return(r=r._reactInternals)?Vn(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var h=Jt(),p=ys(r),g=jr(h,p);g.payload=i,l!=null&&(g.callback=l),i=fs(r,g,p),i!==null&&(Qn(i,r,p,h),bu(i,r,p))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var h=Jt(),p=ys(r),g=jr(h,p);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=fs(r,g,p),i!==null&&(Qn(i,r,p,h),bu(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=Jt(),h=ys(r),p=jr(l,h);p.tag=2,i!=null&&(p.callback=i),i=fs(r,p,h),i!==null&&(Qn(i,r,h,l),bu(i,r,h))}};function Rg(r,i,l,h,p,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):i.prototype&&i.prototype.isPureReactComponent?!Fa(l,h)||!Fa(p,g):!0}function Ag(r,i,l){var h=!1,p=cs,g=i.contextType;return typeof g=="object"&&g!==null?g=Cn(g):(p=rn(i)?li:Mt.current,h=i.contextTypes,g=(h=h!=null)?vo(r,p):cs),i=new i(l,g),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Uu,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=g),i}function Cg(r,i,l,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==r&&Uu.enqueueReplaceState(i,i.state,null)}function Ed(r,i,l,h){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},ad(r);var g=i.contextType;typeof g=="object"&&g!==null?p.context=Cn(g):(g=rn(i)?li:Mt.current,p.context=vo(r,g)),p.state=r.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(wd(r,i,g,l),p.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Uu.enqueueReplaceState(p,p.state,null),Nu(r,l,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Ao(r,i){try{var l="",h=i;do l+=Pe(h),h=h.return;while(h);var p=l}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:i,stack:p,digest:null}}function Td(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function Id(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var JT=typeof WeakMap=="function"?WeakMap:Map;function Pg(r,i,l){l=jr(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){Wu||(Wu=!0,Fd=h),Id(r,i)},l}function kg(r,i,l){l=jr(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=i.value;l.payload=function(){return h(p)},l.callback=function(){Id(r,i)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){Id(r,i),typeof h!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),l}function xg(r,i,l){var h=r.pingCache;if(h===null){h=r.pingCache=new JT;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(l)||(p.add(l),r=cI.bind(null,r,i,l),i.then(r,r))}function bg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Ng(r,i,l,h,p){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=jr(-1,1),i.tag=2,fs(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var XT=X.ReactCurrentOwner,sn=!1;function Gt(r,i,l,h){i.child=r===null?Ym(i,null,l,h):To(i,r.child,l,h)}function Og(r,i,l,h,p){l=l.render;var g=i.ref;return So(i,p),h=pd(r,i,l,h,g,p),l=md(),r!==null&&!sn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,Br(r,i,p)):(Ze&&l&&Xh(i),i.flags|=1,Gt(r,i,h,p),i.child)}function Dg(r,i,l,h,p){if(r===null){var g=l.type;return typeof g=="function"&&!Hd(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=g,Lg(r,i,g,h,p)):(r=Yu(l.type,null,h,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,(r.lanes&p)===0){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:Fa,l(w,h)&&r.ref===i.ref)return Br(r,i,p)}return i.flags|=1,r=_s(g,h),r.ref=i.ref,r.return=i,i.child=r}function Lg(r,i,l,h,p){if(r!==null){var g=r.memoizedProps;if(Fa(g,h)&&r.ref===i.ref)if(sn=!1,i.pendingProps=h=g,(r.lanes&p)!==0)(r.flags&131072)!==0&&(sn=!0);else return i.lanes=r.lanes,Br(r,i,p)}return Sd(r,i,l,h,p)}function Vg(r,i,l){var h=i.pendingProps,p=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Po,wn),wn|=l;else{if((l&1073741824)===0)return r=g!==null?g.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Ge(Po,wn),wn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,Ge(Po,wn),wn|=h}else g!==null?(h=g.baseLanes|l,i.memoizedState=null):h=l,Ge(Po,wn),wn|=h;return Gt(r,i,p,l),i.child}function Mg(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Sd(r,i,l,h,p){var g=rn(l)?li:Mt.current;return g=vo(i,g),So(i,p),l=pd(r,i,l,h,g,p),h=md(),r!==null&&!sn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,Br(r,i,p)):(Ze&&h&&Xh(i),i.flags|=1,Gt(r,i,l,p),i.child)}function Fg(r,i,l,h,p){if(rn(l)){var g=!0;Iu(i)}else g=!1;if(So(i,p),i.stateNode===null)Bu(r,i),Ag(i,l,h),Ed(i,l,h,p),h=!0;else if(r===null){var w=i.stateNode,R=i.memoizedProps;w.props=R;var N=w.context,q=l.contextType;typeof q=="object"&&q!==null?q=Cn(q):(q=rn(l)?li:Mt.current,q=vo(i,q));var ee=l.getDerivedStateFromProps,te=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function";te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==h||N!==q)&&Cg(i,w,h,q),ds=!1;var Y=i.memoizedState;w.state=Y,Nu(i,h,w,p),N=i.memoizedState,R!==h||Y!==N||nn.current||ds?(typeof ee=="function"&&(wd(i,l,ee,h),N=i.memoizedState),(R=ds||Rg(i,l,R,h,Y,N,q))?(te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=N),w.props=h,w.state=N,w.context=q,h=R):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{w=i.stateNode,eg(r,i),R=i.memoizedProps,q=i.type===i.elementType?R:Hn(i.type,R),w.props=q,te=i.pendingProps,Y=w.context,N=l.contextType,typeof N=="object"&&N!==null?N=Cn(N):(N=rn(l)?li:Mt.current,N=vo(i,N));var ae=l.getDerivedStateFromProps;(ee=typeof ae=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==te||Y!==N)&&Cg(i,w,h,N),ds=!1,Y=i.memoizedState,w.state=Y,Nu(i,h,w,p);var he=i.memoizedState;R!==te||Y!==he||nn.current||ds?(typeof ae=="function"&&(wd(i,l,ae,h),he=i.memoizedState),(q=ds||Rg(i,l,q,h,Y,he,N)||!1)?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,he,N),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,he,N)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&Y===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Y===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=he),w.props=h,w.state=he,w.context=N,h=q):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&Y===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Y===r.memoizedState||(i.flags|=1024),h=!1)}return Rd(r,i,l,h,g,p)}function Rd(r,i,l,h,p,g){Mg(r,i);var w=(i.flags&128)!==0;if(!h&&!w)return p&&$m(i,l,!1),Br(r,i,g);h=i.stateNode,XT.current=i;var R=w&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&w?(i.child=To(i,r.child,null,g),i.child=To(i,null,R,g)):Gt(r,i,R,g),i.memoizedState=h.state,p&&$m(i,l,!0),i.child}function Ug(r){var i=r.stateNode;i.pendingContext?Bm(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Bm(r,i.context,!1),ld(r,i.containerInfo)}function jg(r,i,l,h,p){return Eo(),td(p),i.flags|=256,Gt(r,i,l,h),i.child}var Ad={dehydrated:null,treeContext:null,retryLane:0};function Cd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Bg(r,i,l){var h=i.pendingProps,p=nt.current,g=!1,w=(i.flags&128)!==0,R;if((R=w)||(R=r!==null&&r.memoizedState===null?!1:(p&2)!==0),R?(g=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ge(nt,p&1),r===null)return ed(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(w=h.children,r=h.fallback,g?(h=i.mode,g=i.child,w={mode:"hidden",children:w},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Zu(w,h,0,null),r=vi(r,h,l,null),g.return=i,r.return=i,g.sibling=r,i.child=g,i.child.memoizedState=Cd(l),i.memoizedState=Ad,r):Pd(i,w));if(p=r.memoizedState,p!==null&&(R=p.dehydrated,R!==null))return YT(r,i,w,h,R,p,l);if(g){g=h.fallback,w=i.mode,p=r.child,R=p.sibling;var N={mode:"hidden",children:h.children};return(w&1)===0&&i.child!==p?(h=i.child,h.childLanes=0,h.pendingProps=N,i.deletions=null):(h=_s(p,N),h.subtreeFlags=p.subtreeFlags&14680064),R!==null?g=_s(R,g):(g=vi(g,w,l,null),g.flags|=2),g.return=i,h.return=i,h.sibling=g,i.child=h,h=g,g=i.child,w=r.child.memoizedState,w=w===null?Cd(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~l,i.memoizedState=Ad,h}return g=r.child,r=g.sibling,h=_s(g,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=h,i.memoizedState=null,h}function Pd(r,i){return i=Zu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function ju(r,i,l,h){return h!==null&&td(h),To(i,r.child,null,l),r=Pd(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function YT(r,i,l,h,p,g,w){if(l)return i.flags&256?(i.flags&=-257,h=Td(Error(t(422))),ju(r,i,w,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(g=h.fallback,p=i.mode,h=Zu({mode:"visible",children:h.children},p,0,null),g=vi(g,p,w,null),g.flags|=2,h.return=i,g.return=i,h.sibling=g,i.child=h,(i.mode&1)!==0&&To(i,r.child,null,w),i.child.memoizedState=Cd(w),i.memoizedState=Ad,g);if((i.mode&1)===0)return ju(r,i,w,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var R=h.dgst;return h=R,g=Error(t(419)),h=Td(g,h,void 0),ju(r,i,w,h)}if(R=(w&r.childLanes)!==0,sn||R){if(h=Pt,h!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|w))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Ur(r,p),Qn(h,r,p,-1))}return qd(),h=Td(Error(t(421))),ju(r,i,w,h)}return p.data==="$?"?(i.flags|=128,i.child=r.child,i=hI.bind(null,r),p._reactRetry=i,null):(r=g.treeContext,_n=ls(p.nextSibling),vn=i,Ze=!0,qn=null,r!==null&&(Rn[An++]=Mr,Rn[An++]=Fr,Rn[An++]=ui,Mr=r.id,Fr=r.overflow,ui=i),i=Pd(i,h.children),i.flags|=4096,i)}function zg(r,i,l){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),id(r.return,i,l)}function kd(r,i,l,h,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=p)}function $g(r,i,l){var h=i.pendingProps,p=h.revealOrder,g=h.tail;if(Gt(r,i,h.children,l),h=nt.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&zg(r,l,i);else if(r.tag===19)zg(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ge(nt,h),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)r=l.alternate,r!==null&&Ou(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),kd(i,!1,p,l,g);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&Ou(r)===null){i.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}kd(i,!0,l,null,g);break;case"together":kd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Bu(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Br(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),pi|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,l=_s(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=_s(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function ZT(r,i,l){switch(i.tag){case 3:Ug(i),Eo();break;case 5:rg(i);break;case 1:rn(i.type)&&Iu(i);break;case 4:ld(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,p=i.memoizedProps.value;Ge(ku,h._currentValue),h._currentValue=p;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Ge(nt,nt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Bg(r,i,l):(Ge(nt,nt.current&1),r=Br(r,i,l),r!==null?r.sibling:null);Ge(nt,nt.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(r.flags&128)!==0){if(h)return $g(r,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ge(nt,nt.current),h)break;return null;case 22:case 23:return i.lanes=0,Vg(r,i,l)}return Br(r,i,l)}var qg,xd,Hg,Wg;qg=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},xd=function(){},Hg=function(r,i,l,h){var p=r.memoizedProps;if(p!==h){r=i.stateNode,di(ur.current);var g=null;switch(l){case"input":p=Hs(r,p),h=Hs(r,h),g=[];break;case"select":p=oe({},p,{value:void 0}),h=oe({},h,{value:void 0}),g=[];break;case"textarea":p=fa(r,p),h=fa(r,h),g=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=wu)}_a(l,h);var w;l=null;for(q in p)if(!h.hasOwnProperty(q)&&p.hasOwnProperty(q)&&p[q]!=null)if(q==="style"){var R=p[q];for(w in R)R.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in h){var N=h[q];if(R=p?.[q],h.hasOwnProperty(q)&&N!==R&&(N!=null||R!=null))if(q==="style")if(R){for(w in R)!R.hasOwnProperty(w)||N&&N.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in N)N.hasOwnProperty(w)&&R[w]!==N[w]&&(l||(l={}),l[w]=N[w])}else l||(g||(g=[]),g.push(q,l)),l=N;else q==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,R=R?R.__html:void 0,N!=null&&R!==N&&(g=g||[]).push(q,N)):q==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push(q,""+N):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(N!=null&&q==="onScroll"&&Je("scroll",r),g||R===N||(g=[])):(g=g||[]).push(q,N))}l&&(g=g||[]).push("style",l);var q=g;(i.updateQueue=q)&&(i.flags|=4)}},Wg=function(r,i,l,h){l!==h&&(i.flags|=4)};function Za(r,i){if(!Ze)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ut(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(i)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=l,i}function eI(r,i,l){var h=i.pendingProps;switch(Yh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(i),null;case 1:return rn(i.type)&&Tu(),Ut(i),null;case 3:return h=i.stateNode,Ro(),Xe(nn),Xe(Mt),hd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Cu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qn!==null&&(Bd(qn),qn=null))),xd(r,i),Ut(i),null;case 5:ud(i);var p=di(Qa.current);if(l=i.type,r!==null&&i.stateNode!=null)Hg(r,i,l,h,p),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Ut(i),null}if(r=di(ur.current),Cu(i)){h=i.stateNode,l=i.type;var g=i.memoizedProps;switch(h[lr]=i,h[$a]=g,r=(i.mode&1)!==0,l){case"dialog":Je("cancel",h),Je("close",h);break;case"iframe":case"object":case"embed":Je("load",h);break;case"video":case"audio":for(p=0;p<ja.length;p++)Je(ja[p],h);break;case"source":Je("error",h);break;case"img":case"image":case"link":Je("error",h),Je("load",h);break;case"details":Je("toggle",h);break;case"input":Ui(h,g),Je("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Je("invalid",h);break;case"textarea":Bi(h,g),Je("invalid",h)}_a(l,g),p=null;for(var w in g)if(g.hasOwnProperty(w)){var R=g[w];w==="children"?typeof R=="string"?h.textContent!==R&&(g.suppressHydrationWarning!==!0&&_u(h.textContent,R,r),p=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&_u(h.textContent,R,r),p=["children",""+R]):o.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&Je("scroll",h)}switch(l){case"input":Rr(h),Hl(h,g,!0);break;case"textarea":Rr(h),pa(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=wu)}h=p,i.updateQueue=h,h!==null&&(i.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=yt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(l,{is:h.is}):(r=w.createElement(l),l==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,l),r[lr]=i,r[$a]=h,qg(r,i,!1,!1),i.stateNode=r;e:{switch(w=wa(l,h),l){case"dialog":Je("cancel",r),Je("close",r),p=h;break;case"iframe":case"object":case"embed":Je("load",r),p=h;break;case"video":case"audio":for(p=0;p<ja.length;p++)Je(ja[p],r);p=h;break;case"source":Je("error",r),p=h;break;case"img":case"image":case"link":Je("error",r),Je("load",r),p=h;break;case"details":Je("toggle",r),p=h;break;case"input":Ui(r,h),p=Hs(r,h),Je("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=oe({},h,{value:void 0}),Je("invalid",r);break;case"textarea":Bi(r,h),p=fa(r,h),Je("invalid",r);break;default:p=h}_a(l,p),R=p;for(g in R)if(R.hasOwnProperty(g)){var N=R[g];g==="style"?ya(r,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&ma(r,N)):g==="children"?typeof N=="string"?(l!=="textarea"||N!=="")&&Xr(r,N):typeof N=="number"&&Xr(r,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?N!=null&&g==="onScroll"&&Je("scroll",r):N!=null&&G(r,g,N,w))}switch(l){case"input":Rr(r),Hl(r,h,!1);break;case"textarea":Rr(r),pa(r);break;case"option":h.value!=null&&r.setAttribute("value",""+qe(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Cr(r,!!h.multiple,g,!1):h.defaultValue!=null&&Cr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=wu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ut(i),null;case 6:if(r&&i.stateNode!=null)Wg(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(l=di(Qa.current),di(ur.current),Cu(i)){if(h=i.stateNode,l=i.memoizedProps,h[lr]=i,(g=h.nodeValue!==l)&&(r=vn,r!==null))switch(r.tag){case 3:_u(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&_u(h.nodeValue,l,(r.mode&1)!==0)}g&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[lr]=i,i.stateNode=h}return Ut(i),null;case 13:if(Xe(nt),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ze&&_n!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Gm(),Eo(),i.flags|=98560,g=!1;else if(g=Cu(i),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[lr]=i}else Eo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ut(i),g=!1}else qn!==null&&(Bd(qn),qn=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(nt.current&1)!==0?Et===0&&(Et=3):qd())),i.updateQueue!==null&&(i.flags|=4),Ut(i),null);case 4:return Ro(),xd(r,i),r===null&&Ba(i.stateNode.containerInfo),Ut(i),null;case 10:return sd(i.type._context),Ut(i),null;case 17:return rn(i.type)&&Tu(),Ut(i),null;case 19:if(Xe(nt),g=i.memoizedState,g===null)return Ut(i),null;if(h=(i.flags&128)!==0,w=g.rendering,w===null)if(h)Za(g,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=Ou(r),w!==null){for(i.flags|=128,Za(g,!1),h=w.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)g=l,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ge(nt,nt.current&1|2),i.child}r=r.sibling}g.tail!==null&&Qe()>ko&&(i.flags|=128,h=!0,Za(g,!1),i.lanes=4194304)}else{if(!h)if(r=Ou(w),r!==null){if(i.flags|=128,h=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Za(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Ze)return Ut(i),null}else 2*Qe()-g.renderingStartTime>ko&&l!==1073741824&&(i.flags|=128,h=!0,Za(g,!1),i.lanes=4194304);g.isBackwards?(w.sibling=i.child,i.child=w):(l=g.last,l!==null?l.sibling=w:i.child=w,g.last=w)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Qe(),i.sibling=null,l=nt.current,Ge(nt,h?l&1|2:l&1),i):(Ut(i),null);case 22:case 23:return $d(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(wn&1073741824)!==0&&(Ut(i),i.subtreeFlags&6&&(i.flags|=8192)):Ut(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function tI(r,i){switch(Yh(i),i.tag){case 1:return rn(i.type)&&Tu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ro(),Xe(nn),Xe(Mt),hd(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return ud(i),null;case 13:if(Xe(nt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Eo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Xe(nt),null;case 4:return Ro(),null;case 10:return sd(i.type._context),null;case 22:case 23:return $d(),null;case 24:return null;default:return null}}var zu=!1,jt=!1,nI=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Co(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ot(r,i,h)}else l.current=null}function bd(r,i,l){try{l()}catch(h){ot(r,i,h)}}var Kg=!1;function rI(r,i){if($h=is,r=Rm(),Lh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,R=-1,N=-1,q=0,ee=0,te=r,Y=null;t:for(;;){for(var ae;te!==l||p!==0&&te.nodeType!==3||(R=w+p),te!==g||h!==0&&te.nodeType!==3||(N=w+h),te.nodeType===3&&(w+=te.nodeValue.length),(ae=te.firstChild)!==null;)Y=te,te=ae;for(;;){if(te===r)break t;if(Y===l&&++q===p&&(R=w),Y===g&&++ee===h&&(N=w),(ae=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=ae}l=R===-1||N===-1?null:{start:R,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(qh={focusedElem:r,selectionRange:l},is=!1,ue=i;ue!==null;)if(i=ue,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ue=r;else for(;ue!==null;){i=ue;try{var he=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var fe=he.memoizedProps,lt=he.memoizedState,z=i.stateNode,V=z.getSnapshotBeforeUpdate(i.elementType===i.type?fe:Hn(i.type,fe),lt);z.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var $=i.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){ot(i,i.return,re)}if(r=i.sibling,r!==null){r.return=i.return,ue=r;break}ue=i.return}return he=Kg,Kg=!1,he}function el(r,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var g=p.destroy;p.destroy=void 0,g!==void 0&&bd(i,l,g)}p=p.next}while(p!==h)}}function $u(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function Nd(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function Qg(r){var i=r.alternate;i!==null&&(r.alternate=null,Qg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[lr],delete i[$a],delete i[Qh],delete i[UT],delete i[jT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Gg(r){return r.tag===5||r.tag===3||r.tag===4}function Jg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Gg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Od(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=wu));else if(h!==4&&(r=r.child,r!==null))for(Od(r,i,l),r=r.sibling;r!==null;)Od(r,i,l),r=r.sibling}function Dd(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Dd(r,i,l),r=r.sibling;r!==null;)Dd(r,i,l),r=r.sibling}var Ot=null,Wn=!1;function ps(r,i,l){for(l=l.child;l!==null;)Xg(r,i,l),l=l.sibling}function Xg(r,i,l){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(ei,l)}catch{}switch(l.tag){case 5:jt||Co(l,i);case 6:var h=Ot,p=Wn;Ot=null,ps(r,i,l),Ot=h,Wn=p,Ot!==null&&(Wn?(r=Ot,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(Wn?(r=Ot,l=l.stateNode,r.nodeType===8?Kh(r.parentNode,l):r.nodeType===1&&Kh(r,l),Bn(r)):Kh(Ot,l.stateNode));break;case 4:h=Ot,p=Wn,Ot=l.stateNode.containerInfo,Wn=!0,ps(r,i,l),Ot=h,Wn=p;break;case 0:case 11:case 14:case 15:if(!jt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var g=p,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&bd(l,i,w),p=p.next}while(p!==h)}ps(r,i,l);break;case 1:if(!jt&&(Co(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(R){ot(l,i,R)}ps(r,i,l);break;case 21:ps(r,i,l);break;case 22:l.mode&1?(jt=(h=jt)||l.memoizedState!==null,ps(r,i,l),jt=h):ps(r,i,l);break;default:ps(r,i,l)}}function Yg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new nI),i.forEach(function(h){var p=dI.bind(null,r,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Kn(r,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var g=r,w=i,R=w;e:for(;R!==null;){switch(R.tag){case 5:Ot=R.stateNode,Wn=!1;break e;case 3:Ot=R.stateNode.containerInfo,Wn=!0;break e;case 4:Ot=R.stateNode.containerInfo,Wn=!0;break e}R=R.return}if(Ot===null)throw Error(t(160));Xg(g,w,p),Ot=null,Wn=!1;var N=p.alternate;N!==null&&(N.return=null),p.return=null}catch(q){ot(p,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Zg(i,r),i=i.sibling}function Zg(r,i){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Kn(i,r),hr(r),h&4){try{el(3,r,r.return),$u(3,r)}catch(fe){ot(r,r.return,fe)}try{el(5,r,r.return)}catch(fe){ot(r,r.return,fe)}}break;case 1:Kn(i,r),hr(r),h&512&&l!==null&&Co(l,l.return);break;case 5:if(Kn(i,r),hr(r),h&512&&l!==null&&Co(l,l.return),r.flags&32){var p=r.stateNode;try{Xr(p,"")}catch(fe){ot(r,r.return,fe)}}if(h&4&&(p=r.stateNode,p!=null)){var g=r.memoizedProps,w=l!==null?l.memoizedProps:g,R=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&ha(p,g),wa(R,w);var q=wa(R,g);for(w=0;w<N.length;w+=2){var ee=N[w],te=N[w+1];ee==="style"?ya(p,te):ee==="dangerouslySetInnerHTML"?ma(p,te):ee==="children"?Xr(p,te):G(p,ee,te,q)}switch(R){case"input":da(p,g);break;case"textarea":zi(p,g);break;case"select":var Y=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var ae=g.value;ae!=null?Cr(p,!!g.multiple,ae,!1):Y!==!!g.multiple&&(g.defaultValue!=null?Cr(p,!!g.multiple,g.defaultValue,!0):Cr(p,!!g.multiple,g.multiple?[]:"",!1))}p[$a]=g}catch(fe){ot(r,r.return,fe)}}break;case 6:if(Kn(i,r),hr(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,g=r.memoizedProps;try{p.nodeValue=g}catch(fe){ot(r,r.return,fe)}}break;case 3:if(Kn(i,r),hr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Bn(i.containerInfo)}catch(fe){ot(r,r.return,fe)}break;case 4:Kn(i,r),hr(r);break;case 13:Kn(i,r),hr(r),p=r.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Md=Qe())),h&4&&Yg(r);break;case 22:if(ee=l!==null&&l.memoizedState!==null,r.mode&1?(jt=(q=jt)||ee,Kn(i,r),jt=q):Kn(i,r),hr(r),h&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!ee&&(r.mode&1)!==0)for(ue=r,ee=r.child;ee!==null;){for(te=ue=ee;ue!==null;){switch(Y=ue,ae=Y.child,Y.tag){case 0:case 11:case 14:case 15:el(4,Y,Y.return);break;case 1:Co(Y,Y.return);var he=Y.stateNode;if(typeof he.componentWillUnmount=="function"){h=Y,l=Y.return;try{i=h,he.props=i.memoizedProps,he.state=i.memoizedState,he.componentWillUnmount()}catch(fe){ot(h,l,fe)}}break;case 5:Co(Y,Y.return);break;case 22:if(Y.memoizedState!==null){ny(te);continue}}ae!==null?(ae.return=Y,ue=ae):ny(te)}ee=ee.sibling}e:for(ee=null,te=r;;){if(te.tag===5){if(ee===null){ee=te;try{p=te.stateNode,q?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=te.stateNode,N=te.memoizedProps.style,w=N!=null&&N.hasOwnProperty("display")?N.display:null,R.style.display=ga("display",w))}catch(fe){ot(r,r.return,fe)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=q?"":te.memoizedProps}catch(fe){ot(r,r.return,fe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Kn(i,r),hr(r),h&4&&Yg(r);break;case 21:break;default:Kn(i,r),hr(r)}}function hr(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(Gg(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Xr(p,""),h.flags&=-33);var g=Jg(r);Dd(r,g,p);break;case 3:case 4:var w=h.stateNode.containerInfo,R=Jg(r);Od(r,R,w);break;default:throw Error(t(161))}}catch(N){ot(r,r.return,N)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function sI(r,i,l){ue=r,ey(r)}function ey(r,i,l){for(var h=(r.mode&1)!==0;ue!==null;){var p=ue,g=p.child;if(p.tag===22&&h){var w=p.memoizedState!==null||zu;if(!w){var R=p.alternate,N=R!==null&&R.memoizedState!==null||jt;R=zu;var q=jt;if(zu=w,(jt=N)&&!q)for(ue=p;ue!==null;)w=ue,N=w.child,w.tag===22&&w.memoizedState!==null?ry(p):N!==null?(N.return=w,ue=N):ry(p);for(;g!==null;)ue=g,ey(g),g=g.sibling;ue=p,zu=R,jt=q}ty(r)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,ue=g):ty(r)}}function ty(r){for(;ue!==null;){var i=ue;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:jt||$u(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!jt)if(l===null)h.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:Hn(i.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&ng(i,g,h);break;case 3:var w=i.updateQueue;if(w!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}ng(i,w,l)}break;case 5:var R=i.stateNode;if(l===null&&i.flags&4){l=R;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&l.focus();break;case"img":N.src&&(l.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&Bn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jt||i.flags&512&&Nd(i)}catch(Y){ot(i,i.return,Y)}}if(i===r){ue=null;break}if(l=i.sibling,l!==null){l.return=i.return,ue=l;break}ue=i.return}}function ny(r){for(;ue!==null;){var i=ue;if(i===r){ue=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ue=l;break}ue=i.return}}function ry(r){for(;ue!==null;){var i=ue;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{$u(4,i)}catch(N){ot(i,l,N)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var p=i.return;try{h.componentDidMount()}catch(N){ot(i,p,N)}}var g=i.return;try{Nd(i)}catch(N){ot(i,g,N)}break;case 5:var w=i.return;try{Nd(i)}catch(N){ot(i,w,N)}}}catch(N){ot(i,i.return,N)}if(i===r){ue=null;break}var R=i.sibling;if(R!==null){R.return=i.return,ue=R;break}ue=i.return}}var iI=Math.ceil,qu=X.ReactCurrentDispatcher,Ld=X.ReactCurrentOwner,kn=X.ReactCurrentBatchConfig,Me=0,Pt=null,ft=null,Dt=0,wn=0,Po=us(0),Et=0,tl=null,pi=0,Hu=0,Vd=0,nl=null,on=null,Md=0,ko=1/0,zr=null,Wu=!1,Fd=null,ms=null,Ku=!1,gs=null,Qu=0,rl=0,Ud=null,Gu=-1,Ju=0;function Jt(){return(Me&6)!==0?Qe():Gu!==-1?Gu:Gu=Qe()}function ys(r){return(r.mode&1)===0?1:(Me&2)!==0&&Dt!==0?Dt&-Dt:zT.transition!==null?(Ju===0&&(Ju=ni()),Ju):(r=Ne,r!==0||(r=window.event,r=r===void 0?16:ba(r.type)),r)}function Qn(r,i,l,h){if(50<rl)throw rl=0,Ud=null,Error(t(185));ts(r,l,h),((Me&2)===0||r!==Pt)&&(r===Pt&&((Me&2)===0&&(Hu|=l),Et===4&&vs(r,Dt)),an(r,h),l===1&&Me===0&&(i.mode&1)===0&&(ko=Qe()+500,Su&&hs()))}function an(r,i){var l=r.callbackNode;xr(r,i);var h=ti(r,r===Pt?Dt:0);if(h===0)l!==null&&Aa(l),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(l!=null&&Aa(l),i===1)r.tag===0?BT(iy.bind(null,r)):qm(iy.bind(null,r)),MT(function(){(Me&6)===0&&hs()}),l=null;else{switch(rs(h)){case 1:l=Zs;break;case 4:l=Yr;break;case 16:l=Tn;break;case 536870912:l=Jl;break;default:l=Tn}l=fy(l,sy.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function sy(r,i){if(Gu=-1,Ju=0,(Me&6)!==0)throw Error(t(327));var l=r.callbackNode;if(xo()&&r.callbackNode!==l)return null;var h=ti(r,r===Pt?Dt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=Xu(r,h);else{i=h;var p=Me;Me|=2;var g=ay();(Pt!==r||Dt!==i)&&(zr=null,ko=Qe()+500,gi(r,i));do try{lI();break}catch(R){oy(r,R)}while(!0);rd(),qu.current=g,Me=p,ft!==null?i=0:(Pt=null,Dt=0,i=Et)}if(i!==0){if(i===2&&(p=mn(r),p!==0&&(h=p,i=jd(r,p))),i===1)throw l=tl,gi(r,0),vs(r,h),an(r,Qe()),l;if(i===6)vs(r,h);else{if(p=r.current.alternate,(h&30)===0&&!oI(p)&&(i=Xu(r,h),i===2&&(g=mn(r),g!==0&&(h=g,i=jd(r,g))),i===1))throw l=tl,gi(r,0),vs(r,h),an(r,Qe()),l;switch(r.finishedWork=p,r.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:yi(r,on,zr);break;case 3:if(vs(r,h),(h&130023424)===h&&(i=Md+500-Qe(),10<i)){if(ti(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){Jt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Wh(yi.bind(null,r,on,zr),i);break}yi(r,on,zr);break;case 4:if(vs(r,h),(h&4194240)===h)break;for(i=r.eventTimes,p=-1;0<h;){var w=31-Kt(h);g=1<<w,w=i[w],w>p&&(p=w),h&=~g}if(h=p,h=Qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*iI(h/1960))-h,10<h){r.timeoutHandle=Wh(yi.bind(null,r,on,zr),h);break}yi(r,on,zr);break;case 5:yi(r,on,zr);break;default:throw Error(t(329))}}}return an(r,Qe()),r.callbackNode===l?sy.bind(null,r):null}function jd(r,i){var l=nl;return r.current.memoizedState.isDehydrated&&(gi(r,i).flags|=256),r=Xu(r,i),r!==2&&(i=on,on=l,i!==null&&Bd(i)),r}function Bd(r){on===null?on=r:on.push.apply(on,r)}function oI(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],g=p.getSnapshot;p=p.value;try{if(!$n(g(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function vs(r,i){for(i&=~Vd,i&=~Hu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-Kt(i),h=1<<l;r[l]=-1,i&=~h}}function iy(r){if((Me&6)!==0)throw Error(t(327));xo();var i=ti(r,0);if((i&1)===0)return an(r,Qe()),null;var l=Xu(r,i);if(r.tag!==0&&l===2){var h=mn(r);h!==0&&(i=h,l=jd(r,h))}if(l===1)throw l=tl,gi(r,0),vs(r,i),an(r,Qe()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,yi(r,on,zr),an(r,Qe()),null}function zd(r,i){var l=Me;Me|=1;try{return r(i)}finally{Me=l,Me===0&&(ko=Qe()+500,Su&&hs())}}function mi(r){gs!==null&&gs.tag===0&&(Me&6)===0&&xo();var i=Me;Me|=1;var l=kn.transition,h=Ne;try{if(kn.transition=null,Ne=1,r)return r()}finally{Ne=h,kn.transition=l,Me=i,(Me&6)===0&&hs()}}function $d(){wn=Po.current,Xe(Po)}function gi(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,VT(l)),ft!==null)for(l=ft.return;l!==null;){var h=l;switch(Yh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Tu();break;case 3:Ro(),Xe(nn),Xe(Mt),hd();break;case 5:ud(h);break;case 4:Ro();break;case 13:Xe(nt);break;case 19:Xe(nt);break;case 10:sd(h.type._context);break;case 22:case 23:$d()}l=l.return}if(Pt=r,ft=r=_s(r.current,null),Dt=wn=i,Et=0,tl=null,Vd=Hu=pi=0,on=nl=null,hi!==null){for(i=0;i<hi.length;i++)if(l=hi[i],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,g=l.pending;if(g!==null){var w=g.next;g.next=p,h.next=w}l.pending=h}hi=null}return r}function oy(r,i){do{var l=ft;try{if(rd(),Du.current=Fu,Lu){for(var h=rt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Lu=!1}if(fi=0,Ct=wt=rt=null,Ga=!1,Ja=0,Ld.current=null,l===null||l.return===null){Et=1,tl=i,ft=null;break}e:{var g=r,w=l.return,R=l,N=i;if(i=Dt,R.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var q=N,ee=R,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Y=ee.alternate;Y?(ee.updateQueue=Y.updateQueue,ee.memoizedState=Y.memoizedState,ee.lanes=Y.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ae=bg(w);if(ae!==null){ae.flags&=-257,Ng(ae,w,R,g,i),ae.mode&1&&xg(g,q,i),i=ae,N=q;var he=i.updateQueue;if(he===null){var fe=new Set;fe.add(N),i.updateQueue=fe}else he.add(N);break e}else{if((i&1)===0){xg(g,q,i),qd();break e}N=Error(t(426))}}else if(Ze&&R.mode&1){var lt=bg(w);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),Ng(lt,w,R,g,i),td(Ao(N,R));break e}}g=N=Ao(N,R),Et!==4&&(Et=2),nl===null?nl=[g]:nl.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var z=Pg(g,N,i);tg(g,z);break e;case 1:R=N;var V=g.type,$=g.stateNode;if((g.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(ms===null||!ms.has($)))){g.flags|=65536,i&=-i,g.lanes|=i;var re=kg(g,R,i);tg(g,re);break e}}g=g.return}while(g!==null)}uy(l)}catch(me){i=me,ft===l&&l!==null&&(ft=l=l.return);continue}break}while(!0)}function ay(){var r=qu.current;return qu.current=Fu,r===null?Fu:r}function qd(){(Et===0||Et===3||Et===2)&&(Et=4),Pt===null||(pi&268435455)===0&&(Hu&268435455)===0||vs(Pt,Dt)}function Xu(r,i){var l=Me;Me|=2;var h=ay();(Pt!==r||Dt!==i)&&(zr=null,gi(r,i));do try{aI();break}catch(p){oy(r,p)}while(!0);if(rd(),Me=l,qu.current=h,ft!==null)throw Error(t(261));return Pt=null,Dt=0,Et}function aI(){for(;ft!==null;)ly(ft)}function lI(){for(;ft!==null&&!Ql();)ly(ft)}function ly(r){var i=dy(r.alternate,r,wn);r.memoizedProps=r.pendingProps,i===null?uy(r):ft=i,Ld.current=null}function uy(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=eI(l,i,wn),l!==null){ft=l;return}}else{if(l=tI(l,i),l!==null){l.flags&=32767,ft=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,ft=null;return}}if(i=i.sibling,i!==null){ft=i;return}ft=i=r}while(i!==null);Et===0&&(Et=5)}function yi(r,i,l){var h=Ne,p=kn.transition;try{kn.transition=null,Ne=1,uI(r,i,l,h)}finally{kn.transition=p,Ne=h}return null}function uI(r,i,l,h){do xo();while(gs!==null);if((Me&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(We(r,g),r===Pt&&(ft=Pt=null,Dt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ku||(Ku=!0,fy(Tn,function(){return xo(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=kn.transition,kn.transition=null;var w=Ne;Ne=1;var R=Me;Me|=4,Ld.current=null,rI(r,l),Zg(l,r),kT(qh),is=!!$h,qh=$h=null,r.current=l,sI(l),Ch(),Me=R,Ne=w,kn.transition=g}else r.current=l;if(Ku&&(Ku=!1,gs=r,Qu=p),g=r.pendingLanes,g===0&&(ms=null),Xl(l.stateNode),an(r,Qe()),i!==null)for(h=r.onRecoverableError,l=0;l<i.length;l++)p=i[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(Wu)throw Wu=!1,r=Fd,Fd=null,r;return(Qu&1)!==0&&r.tag!==0&&xo(),g=r.pendingLanes,(g&1)!==0?r===Ud?rl++:(rl=0,Ud=r):rl=0,hs(),null}function xo(){if(gs!==null){var r=rs(Qu),i=kn.transition,l=Ne;try{if(kn.transition=null,Ne=16>r?16:r,gs===null)var h=!1;else{if(r=gs,gs=null,Qu=0,(Me&6)!==0)throw Error(t(331));var p=Me;for(Me|=4,ue=r.current;ue!==null;){var g=ue,w=g.child;if((ue.flags&16)!==0){var R=g.deletions;if(R!==null){for(var N=0;N<R.length;N++){var q=R[N];for(ue=q;ue!==null;){var ee=ue;switch(ee.tag){case 0:case 11:case 15:el(8,ee,g)}var te=ee.child;if(te!==null)te.return=ee,ue=te;else for(;ue!==null;){ee=ue;var Y=ee.sibling,ae=ee.return;if(Qg(ee),ee===q){ue=null;break}if(Y!==null){Y.return=ae,ue=Y;break}ue=ae}}}var he=g.alternate;if(he!==null){var fe=he.child;if(fe!==null){he.child=null;do{var lt=fe.sibling;fe.sibling=null,fe=lt}while(fe!==null)}}ue=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,ue=w;else e:for(;ue!==null;){if(g=ue,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:el(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,ue=z;break e}ue=g.return}}var V=r.current;for(ue=V;ue!==null;){w=ue;var $=w.child;if((w.subtreeFlags&2064)!==0&&$!==null)$.return=w,ue=$;else e:for(w=V;ue!==null;){if(R=ue,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:$u(9,R)}}catch(me){ot(R,R.return,me)}if(R===w){ue=null;break e}var re=R.sibling;if(re!==null){re.return=R.return,ue=re;break e}ue=R.return}}if(Me=p,hs(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(ei,r)}catch{}h=!0}return h}finally{Ne=l,kn.transition=i}}return!1}function cy(r,i,l){i=Ao(l,i),i=Pg(r,i,1),r=fs(r,i,1),i=Jt(),r!==null&&(ts(r,1,i),an(r,i))}function ot(r,i,l){if(r.tag===3)cy(r,r,l);else for(;i!==null;){if(i.tag===3){cy(i,r,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ms===null||!ms.has(h))){r=Ao(l,r),r=kg(i,r,1),i=fs(i,r,1),r=Jt(),i!==null&&(ts(i,1,r),an(i,r));break}}i=i.return}}function cI(r,i,l){var h=r.pingCache;h!==null&&h.delete(i),i=Jt(),r.pingedLanes|=r.suspendedLanes&l,Pt===r&&(Dt&l)===l&&(Et===4||Et===3&&(Dt&130023424)===Dt&&500>Qe()-Md?gi(r,0):Vd|=l),an(r,i)}function hy(r,i){i===0&&((r.mode&1)===0?i=1:(i=Yi,Yi<<=1,(Yi&130023424)===0&&(Yi=4194304)));var l=Jt();r=Ur(r,i),r!==null&&(ts(r,i,l),an(r,l))}function hI(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),hy(r,l)}function dI(r,i){var l=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),hy(r,l)}var dy;dy=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||nn.current)sn=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return sn=!1,ZT(r,i,l);sn=(r.flags&131072)!==0}else sn=!1,Ze&&(i.flags&1048576)!==0&&Hm(i,Au,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Bu(r,i),r=i.pendingProps;var p=vo(i,Mt.current);So(i,l),p=pd(null,i,h,r,p,l);var g=md();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,rn(h)?(g=!0,Iu(i)):g=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,ad(i),p.updater=Uu,i.stateNode=p,p._reactInternals=i,Ed(i,h,r,l),i=Rd(null,i,h,!0,g,l)):(i.tag=0,Ze&&g&&Xh(i),Gt(null,i,p,l),i=i.child),i;case 16:h=i.elementType;e:{switch(Bu(r,i),r=i.pendingProps,p=h._init,h=p(h._payload),i.type=h,p=i.tag=pI(h),r=Hn(h,r),p){case 0:i=Sd(null,i,h,r,l);break e;case 1:i=Fg(null,i,h,r,l);break e;case 11:i=Og(null,i,h,r,l);break e;case 14:i=Dg(null,i,h,Hn(h.type,r),l);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Hn(h,p),Sd(r,i,h,p,l);case 1:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Hn(h,p),Fg(r,i,h,p,l);case 3:e:{if(Ug(i),r===null)throw Error(t(387));h=i.pendingProps,g=i.memoizedState,p=g.element,eg(r,i),Nu(i,h,null,l);var w=i.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){p=Ao(Error(t(423)),i),i=jg(r,i,h,l,p);break e}else if(h!==p){p=Ao(Error(t(424)),i),i=jg(r,i,h,l,p);break e}else for(_n=ls(i.stateNode.containerInfo.firstChild),vn=i,Ze=!0,qn=null,l=Ym(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Eo(),h===p){i=Br(r,i,l);break e}Gt(r,i,h,l)}i=i.child}return i;case 5:return rg(i),r===null&&ed(i),h=i.type,p=i.pendingProps,g=r!==null?r.memoizedProps:null,w=p.children,Hh(h,p)?w=null:g!==null&&Hh(h,g)&&(i.flags|=32),Mg(r,i),Gt(r,i,w,l),i.child;case 6:return r===null&&ed(i),null;case 13:return Bg(r,i,l);case 4:return ld(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=To(i,null,h,l):Gt(r,i,h,l),i.child;case 11:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Hn(h,p),Og(r,i,h,p,l);case 7:return Gt(r,i,i.pendingProps,l),i.child;case 8:return Gt(r,i,i.pendingProps.children,l),i.child;case 12:return Gt(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,p=i.pendingProps,g=i.memoizedProps,w=p.value,Ge(ku,h._currentValue),h._currentValue=w,g!==null)if($n(g.value,w)){if(g.children===p.children&&!nn.current){i=Br(r,i,l);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var R=g.dependencies;if(R!==null){w=g.child;for(var N=R.firstContext;N!==null;){if(N.context===h){if(g.tag===1){N=jr(-1,l&-l),N.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?N.next=N:(N.next=ee.next,ee.next=N),q.pending=N}}g.lanes|=l,N=g.alternate,N!==null&&(N.lanes|=l),id(g.return,l,i),R.lanes|=l;break}N=N.next}}else if(g.tag===10)w=g.type===i.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=l,R=w.alternate,R!==null&&(R.lanes|=l),id(w,l,i),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===i){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Gt(r,i,p.children,l),i=i.child}return i;case 9:return p=i.type,h=i.pendingProps.children,So(i,l),p=Cn(p),h=h(p),i.flags|=1,Gt(r,i,h,l),i.child;case 14:return h=i.type,p=Hn(h,i.pendingProps),p=Hn(h.type,p),Dg(r,i,h,p,l);case 15:return Lg(r,i,i.type,i.pendingProps,l);case 17:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Hn(h,p),Bu(r,i),i.tag=1,rn(h)?(r=!0,Iu(i)):r=!1,So(i,l),Ag(i,h,p),Ed(i,h,p,l),Rd(null,i,h,!0,r,l);case 19:return $g(r,i,l);case 22:return Vg(r,i,l)}throw Error(t(156,i.tag))};function fy(r,i){return Ji(r,i)}function fI(r,i,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(r,i,l,h){return new fI(r,i,l,h)}function Hd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function pI(r){if(typeof r=="function")return Hd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===U)return 11;if(r===Ae)return 14}return 2}function _s(r,i){var l=r.alternate;return l===null?(l=xn(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Yu(r,i,l,h,p,g){var w=2;if(h=r,typeof r=="function")Hd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case x:return vi(l.children,p,g,i);case S:w=8,p|=8;break;case A:return r=xn(12,l,i,p|2),r.elementType=A,r.lanes=g,r;case C:return r=xn(13,l,i,p),r.elementType=C,r.lanes=g,r;case Be:return r=xn(19,l,i,p),r.elementType=Be,r.lanes=g,r;case ze:return Zu(l,p,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:w=10;break e;case L:w=9;break e;case U:w=11;break e;case Ae:w=14;break e;case Ue:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=xn(w,l,i,p),i.elementType=r,i.type=h,i.lanes=g,i}function vi(r,i,l,h){return r=xn(7,r,h,i),r.lanes=l,r}function Zu(r,i,l,h){return r=xn(22,r,h,i),r.elementType=ze,r.lanes=l,r.stateNode={isHidden:!1},r}function Wd(r,i,l){return r=xn(6,r,null,i),r.lanes=l,r}function Kd(r,i,l){return i=xn(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function mI(r,i,l,h,p){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=es(0),this.expirationTimes=es(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Qd(r,i,l,h,p,g,w,R,N){return r=new mI(r,i,l,R,N),i===1?(i=1,g===!0&&(i|=8)):i=0,g=xn(3,null,null,i),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ad(g),r}function gI(r,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ge,key:h==null?null:""+h,children:r,containerInfo:i,implementation:l}}function py(r){if(!r)return cs;r=r._reactInternals;e:{if(Vn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(rn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(rn(l))return zm(r,l,i)}return i}function my(r,i,l,h,p,g,w,R,N){return r=Qd(l,h,!0,r,p,g,w,R,N),r.context=py(null),l=r.current,h=Jt(),p=ys(l),g=jr(h,p),g.callback=i??null,fs(l,g,p),r.current.lanes=p,ts(r,p,h),an(r,h),r}function ec(r,i,l,h){var p=i.current,g=Jt(),w=ys(p);return l=py(l),i.context===null?i.context=l:i.pendingContext=l,i=jr(g,w),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=fs(p,i,w),r!==null&&(Qn(r,p,w,g),bu(r,p,w)),w}function tc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function gy(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function Gd(r,i){gy(r,i),(r=r.alternate)&&gy(r,i)}function yI(){return null}var yy=typeof reportError=="function"?reportError:function(r){console.error(r)};function Jd(r){this._internalRoot=r}nc.prototype.render=Jd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));ec(r,i,null,null)},nc.prototype.unmount=Jd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;mi(function(){ec(null,r,null,null)}),i[Lr]=null}};function nc(r){this._internalRoot=r}nc.prototype.unstable_scheduleHydration=function(r){if(r){var i=nu();r={blockedOn:null,target:r,priority:i};for(var l=0;l<sr.length&&i!==0&&i<sr[l].priority;l++);sr.splice(l,0,r),l===0&&iu(r)}};function Xd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function rc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function vy(){}function vI(r,i,l,h,p){if(p){if(typeof h=="function"){var g=h;h=function(){var q=tc(w);g.call(q)}}var w=my(i,h,r,0,null,!1,!1,"",vy);return r._reactRootContainer=w,r[Lr]=w.current,Ba(r.nodeType===8?r.parentNode:r),mi(),w}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var R=h;h=function(){var q=tc(N);R.call(q)}}var N=Qd(r,0,!1,null,null,!1,!1,"",vy);return r._reactRootContainer=N,r[Lr]=N.current,Ba(r.nodeType===8?r.parentNode:r),mi(function(){ec(i,N,l,h)}),N}function sc(r,i,l,h,p){var g=l._reactRootContainer;if(g){var w=g;if(typeof p=="function"){var R=p;p=function(){var N=tc(w);R.call(N)}}ec(i,w,r,p)}else w=vI(l,i,r,p,h);return tc(w)}eu=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=Zr(i.pendingLanes);l!==0&&(ns(i,l|1),an(i,Qe()),(Me&6)===0&&(ko=Qe()+500,hs()))}break;case 13:mi(function(){var h=Ur(r,1);if(h!==null){var p=Jt();Qn(h,r,1,p)}}),Gd(r,1)}},Zi=function(r){if(r.tag===13){var i=Ur(r,134217728);if(i!==null){var l=Jt();Qn(i,r,134217728,l)}Gd(r,134217728)}},tu=function(r){if(r.tag===13){var i=ys(r),l=Ur(r,i);if(l!==null){var h=Jt();Qn(l,r,i,h)}Gd(r,i)}},nu=function(){return Ne},ru=function(r,i){var l=Ne;try{return Ne=r,i()}finally{Ne=l}},qi=function(r,i,l){switch(i){case"input":if(da(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==r&&h.form===r.form){var p=Eu(h);if(!p)throw Error(t(90));Fi(h),da(h,p)}}}break;case"textarea":zi(r,l);break;case"select":i=l.value,i!=null&&Cr(r,!!l.multiple,i,!1)}},Gs=zd,Ta=mi;var _I={usingClientEntryPoint:!1,Events:[qa,go,Eu,nr,Ea,zd]},sl={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wI={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ra(r),r===null?null:r.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||yI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{ei=ic.inject(wI),pn=ic}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_I,ln.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xd(i))throw Error(t(200));return gI(r,i,null,l)},ln.createRoot=function(r,i){if(!Xd(r))throw Error(t(299));var l=!1,h="",p=yy;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=Qd(r,1,!1,null,null,l,!1,h,p),r[Lr]=i.current,Ba(r.nodeType===8?r.parentNode:r),new Jd(i)},ln.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ra(i),r=r===null?null:r.stateNode,r},ln.flushSync=function(r){return mi(r)},ln.hydrate=function(r,i,l){if(!rc(i))throw Error(t(200));return sc(null,r,i,!0,l)},ln.hydrateRoot=function(r,i,l){if(!Xd(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,g="",w=yy;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),i=my(i,null,r,1,l??null,p,!1,g,w),r[Lr]=i.current,Ba(r),h)for(r=0;r<h.length;r++)l=h[r],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new nc(i)},ln.render=function(r,i,l){if(!rc(i))throw Error(t(200));return sc(null,r,i,!1,l)},ln.unmountComponentAtNode=function(r){if(!rc(r))throw Error(t(40));return r._reactRootContainer?(mi(function(){sc(null,null,r,!1,function(){r._reactRootContainer=null,r[Lr]=null})}),!0):!1},ln.unstable_batchedUpdates=zd,ln.unstable_renderSubtreeIntoContainer=function(r,i,l,h){if(!rc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return sc(r,i,l,!1,h)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var Ay;function J_(){if(Ay)return ef.exports;Ay=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ef.exports=xI(),ef.exports}var Cy;function bI(){if(Cy)return oc;Cy=1;var n=J_();return oc.createRoot=n.createRoot,oc.hydrateRoot=n.hydrateRoot,oc}var NI=bI();J_();function vl(){return vl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},vl.apply(this,arguments)}var As;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(As||(As={}));const Py="popstate";function OI(n){n===void 0&&(n={});function e(s,o){let{pathname:a,search:u,hash:d}=s.location;return Ef("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:kc(o)}return LI(e,t,null,n)}function st(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function X_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DI(){return Math.random().toString(36).substr(2,8)}function ky(n,e){return{usr:n.state,key:n.key,idx:e}}function Ef(n,e,t,s){return t===void 0&&(t=null),vl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Zo(e):e,{state:t,key:e&&e.key||s||DI()})}function kc(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Zo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function LI(n,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:a=!1}=s,u=o.history,d=As.Pop,f=null,y=v();y==null&&(y=0,u.replaceState(vl({},u.state,{idx:y}),""));function v(){return(u.state||{idx:null}).idx}function E(){d=As.Pop;let k=v(),Z=k==null?null:k-y;y=k,f&&f({action:d,location:O.location,delta:Z})}function T(k,Z){d=As.Push;let Q=Ef(O.location,k,Z);y=v()+1;let G=ky(Q,y),X=O.createHref(Q);try{u.pushState(G,"",X)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(X)}a&&f&&f({action:d,location:O.location,delta:1})}function F(k,Z){d=As.Replace;let Q=Ef(O.location,k,Z);y=v();let G=ky(Q,y),X=O.createHref(Q);u.replaceState(G,"",X),a&&f&&f({action:d,location:O.location,delta:0})}function P(k){let Z=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof k=="string"?k:kc(k);return Q=Q.replace(/ $/,"%20"),st(Z,"No window.location.(origin|href) available to create URL for href: "+Q),new URL(Q,Z)}let O={get action(){return d},get location(){return n(o,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Py,E),f=k,()=>{o.removeEventListener(Py,E),f=null}},createHref(k){return e(o,k)},createURL:P,encodeLocation(k){let Z=P(k);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:T,replace:F,go(k){return u.go(k)}};return O}var xy;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(xy||(xy={}));function VI(n,e,t){return t===void 0&&(t="/"),MI(n,e,t)}function MI(n,e,t,s){let o=typeof e=="string"?Zo(e):e,a=qo(o.pathname||"/",t);if(a==null)return null;let u=Y_(n);FI(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let y=GI(a);d=KI(u[f],y)}return d}function Y_(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(st(f.relativePath.startsWith(s),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(s.length));let y=ks([s,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(st(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),Y_(a.children,e,v,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:HI(y,a.index),routesMeta:v})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let f of Z_(a.path))o(a,u,f)}),e}function Z_(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let u=Z_(s.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function FI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WI(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const UI=/^:[\w-]+$/,jI=3,BI=2,zI=1,$I=10,qI=-2,by=n=>n==="*";function HI(n,e){let t=n.split("/"),s=t.length;return t.some(by)&&(s+=qI),e&&(s+=BI),t.filter(o=>!by(o)).reduce((o,a)=>o+(UI.test(a)?jI:a===""?zI:$I),s)}function WI(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function KI(n,e,t){let{routesMeta:s}=n,o={},a="/",u=[];for(let d=0;d<s.length;++d){let f=s[d],y=d===s.length-1,v=a==="/"?e:e.slice(a.length)||"/",E=Tf({path:f.relativePath,caseSensitive:f.caseSensitive,end:y},v),T=f.route;if(!E)return null;Object.assign(o,E.params),u.push({params:o,pathname:ks([a,E.pathname]),pathnameBase:ZI(ks([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=ks([a,E.pathnameBase]))}return u}function Tf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=QI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((y,v,E)=>{let{paramName:T,isOptional:F}=v;if(T==="*"){let O=d[E]||"";u=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const P=d[E];return F&&!P?y[T]=void 0:y[T]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:u,pattern:n}}function QI(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),X_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function GI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return X_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function qo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function JI(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Zo(n):n;return{pathname:t?t.startsWith("/")?t:XI(t,e):e,search:eS(s),hash:tS(o)}}function XI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function rf(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hp(n,e){let t=YI(n);return e?t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function dp(n,e,t,s){s===void 0&&(s=!1);let o;typeof n=="string"?o=Zo(n):(o=vl({},n),st(!o.pathname||!o.pathname.includes("?"),rf("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),rf("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),rf("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let E=e.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}d=E>=0?e[E]:"/"}let f=JI(o,d),y=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(y||v)&&(f.pathname+="/"),f}const ks=n=>n.join("/").replace(/\/\/+/g,"/"),ZI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),eS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,tS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function nS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const e0=["post","put","patch","delete"];new Set(e0);const rS=["get",...e0];new Set(rS);function _l(){return _l=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},_l.apply(this,arguments)}const Yc=j.createContext(null),t0=j.createContext(null),Qr=j.createContext(null),Zc=j.createContext(null),Gr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),n0=j.createContext(null);function sS(n,e){let{relative:t}=e===void 0?{}:e;ea()||st(!1);let{basename:s,navigator:o}=j.useContext(Qr),{hash:a,pathname:u,search:d}=eh(n,{relative:t}),f=u;return s!=="/"&&(f=u==="/"?s:ks([s,u])),o.createHref({pathname:f,search:d,hash:a})}function ea(){return j.useContext(Zc)!=null}function $s(){return ea()||st(!1),j.useContext(Zc).location}function r0(n){j.useContext(Qr).static||j.useLayoutEffect(n)}function fp(){let{isDataRoute:n}=j.useContext(Gr);return n?_S():iS()}function iS(){ea()||st(!1);let n=j.useContext(Yc),{basename:e,future:t,navigator:s}=j.useContext(Qr),{matches:o}=j.useContext(Gr),{pathname:a}=$s(),u=JSON.stringify(hp(o,t.v7_relativeSplatPath)),d=j.useRef(!1);return r0(()=>{d.current=!0}),j.useCallback(function(y,v){if(v===void 0&&(v={}),!d.current)return;if(typeof y=="number"){s.go(y);return}let E=dp(y,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ks([e,E.pathname])),(v.replace?s.replace:s.push)(E,v.state,v)},[e,s,u,a,n])}const oS=j.createContext(null);function aS(n){let e=j.useContext(Gr).outlet;return e&&j.createElement(oS.Provider,{value:n},e)}function eh(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=j.useContext(Qr),{matches:o}=j.useContext(Gr),{pathname:a}=$s(),u=JSON.stringify(hp(o,s.v7_relativeSplatPath));return j.useMemo(()=>dp(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function lS(n,e){return uS(n,e)}function uS(n,e,t,s){ea()||st(!1);let{navigator:o}=j.useContext(Qr),{matches:a}=j.useContext(Gr),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let y=$s(),v;if(e){var E;let k=typeof e=="string"?Zo(e):e;f==="/"||(E=k.pathname)!=null&&E.startsWith(f)||st(!1),v=k}else v=y;let T=v.pathname||"/",F=T;if(f!=="/"){let k=f.replace(/^\//,"").split("/");F="/"+T.replace(/^\//,"").split("/").slice(k.length).join("/")}let P=VI(n,{pathname:F}),O=pS(P&&P.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:ks([f,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:ks([f,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,t,s);return e&&O?j.createElement(Zc.Provider,{value:{location:_l({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:As.Pop}},O):O}function cS(){let n=vS(),e=nS(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:o},t):null,null)}const hS=j.createElement(cS,null);class dS extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(Gr.Provider,{value:this.props.routeContext},j.createElement(n0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fS(n){let{routeContext:e,match:t,children:s}=n,o=j.useContext(Yc);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Gr.Provider,{value:e},s)}function pS(n,e,t,s){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let v=u.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);v>=0||st(!1),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,y=-1;if(t&&s&&s.v7_partialHydration)for(let v=0;v<u.length;v++){let E=u[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=v),E.route.id){let{loaderData:T,errors:F}=t,P=E.route.loader&&T[E.route.id]===void 0&&(!F||F[E.route.id]===void 0);if(E.route.lazy||P){f=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((v,E,T)=>{let F,P=!1,O=null,k=null;t&&(F=d&&E.route.id?d[E.route.id]:void 0,O=E.route.errorElement||hS,f&&(y<0&&T===0?(wS("route-fallback"),P=!0,k=null):y===T&&(P=!0,k=E.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,T+1)),Q=()=>{let G;return F?G=O:P?G=k:E.route.Component?G=j.createElement(E.route.Component,null):E.route.element?G=E.route.element:G=v,j.createElement(fS,{match:E,routeContext:{outlet:v,matches:Z,isDataRoute:t!=null},children:G})};return t&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?j.createElement(dS,{location:t.location,revalidation:t.revalidation,component:O,error:F,children:Q(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):Q()},null)}var s0=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(s0||{}),i0=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(i0||{});function mS(n){let e=j.useContext(Yc);return e||st(!1),e}function gS(n){let e=j.useContext(t0);return e||st(!1),e}function yS(n){let e=j.useContext(Gr);return e||st(!1),e}function o0(n){let e=yS(),t=e.matches[e.matches.length-1];return t.route.id||st(!1),t.route.id}function vS(){var n;let e=j.useContext(n0),t=gS(),s=o0();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function _S(){let{router:n}=mS(s0.UseNavigateStable),e=o0(i0.UseNavigateStable),t=j.useRef(!1);return r0(()=>{t.current=!0}),j.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,_l({fromRouteId:e},a)))},[n,e])}const Ny={};function wS(n,e,t){Ny[n]||(Ny[n]=!0)}function ES(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function pp(n){let{to:e,replace:t,state:s,relative:o}=n;ea()||st(!1);let{future:a,static:u}=j.useContext(Qr),{matches:d}=j.useContext(Gr),{pathname:f}=$s(),y=fp(),v=dp(e,hp(d,a.v7_relativeSplatPath),f,o==="path"),E=JSON.stringify(v);return j.useEffect(()=>y(JSON.parse(E),{replace:t,state:s,relative:o}),[y,E,o,t,s]),null}function TS(n){return aS(n.context)}function Tt(n){st(!1)}function IS(n){let{basename:e="/",children:t=null,location:s,navigationType:o=As.Pop,navigator:a,static:u=!1,future:d}=n;ea()&&st(!1);let f=e.replace(/^\/*/,"/"),y=j.useMemo(()=>({basename:f,navigator:a,static:u,future:_l({v7_relativeSplatPath:!1},d)}),[f,d,a,u]);typeof s=="string"&&(s=Zo(s));let{pathname:v="/",search:E="",hash:T="",state:F=null,key:P="default"}=s,O=j.useMemo(()=>{let k=qo(v,f);return k==null?null:{location:{pathname:k,search:E,hash:T,state:F,key:P},navigationType:o}},[f,v,E,T,F,P,o]);return O==null?null:j.createElement(Qr.Provider,{value:y},j.createElement(Zc.Provider,{children:t,value:O}))}function SS(n){let{children:e,location:t}=n;return lS(If(e),t)}new Promise(()=>{});function If(n,e){e===void 0&&(e=[]);let t=[];return j.Children.forEach(n,(s,o)=>{if(!j.isValidElement(s))return;let a=[...e,o];if(s.type===j.Fragment){t.push.apply(t,If(s.props.children,a));return}s.type!==Tt&&st(!1),!s.props.index||!s.props.children||st(!1);let u={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=If(s.props.children,a)),t.push(u)}),t}function xc(){return xc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},xc.apply(this,arguments)}function a0(n,e){if(n==null)return{};var t={},s=Object.keys(n),o,a;for(a=0;a<s.length;a++)o=s[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function RS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AS(n,e){return n.button===0&&(!e||e==="_self")&&!RS(n)}const CS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],kS="6";try{window.__reactRouterVersion=kS}catch{}const xS=j.createContext({isTransitioning:!1}),bS="startTransition",Oy=CI[bS];function NS(n){let{basename:e,children:t,future:s,window:o}=n,a=j.useRef();a.current==null&&(a.current=OI({window:o,v5Compat:!0}));let u=a.current,[d,f]=j.useState({action:u.action,location:u.location}),{v7_startTransition:y}=s||{},v=j.useCallback(E=>{y&&Oy?Oy(()=>f(E)):f(E)},[f,y]);return j.useLayoutEffect(()=>u.listen(v),[u,v]),j.useEffect(()=>ES(s),[s]),j.createElement(IS,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:u,future:s})}const OS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LS=j.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:a,replace:u,state:d,target:f,to:y,preventScrollReset:v,viewTransition:E}=e,T=a0(e,CS),{basename:F}=j.useContext(Qr),P,O=!1;if(typeof y=="string"&&DS.test(y)&&(P=y,OS))try{let G=new URL(window.location.href),X=y.startsWith("//")?new URL(G.protocol+y):new URL(y),de=qo(X.pathname,F);X.origin===G.origin&&de!=null?y=de+X.search+X.hash:O=!0}catch{}let k=sS(y,{relative:o}),Z=FS(y,{replace:u,state:d,target:f,preventScrollReset:v,relative:o,viewTransition:E});function Q(G){s&&s(G),G.defaultPrevented||Z(G)}return j.createElement("a",xc({},T,{href:P||k,onClick:O||a?s:Q,ref:t,target:f}))}),VS=j.forwardRef(function(e,t){let{"aria-current":s="page",caseSensitive:o=!1,className:a="",end:u=!1,style:d,to:f,viewTransition:y,children:v}=e,E=a0(e,PS),T=eh(f,{relative:E.relative}),F=$s(),P=j.useContext(t0),{navigator:O,basename:k}=j.useContext(Qr),Z=P!=null&&US(T)&&y===!0,Q=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,G=F.pathname,X=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;o||(G=G.toLowerCase(),X=X?X.toLowerCase():null,Q=Q.toLowerCase()),X&&k&&(X=qo(X,k)||X);const de=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ge=G===Q||!u&&G.startsWith(Q)&&G.charAt(de)==="/",x=X!=null&&(X===Q||!u&&X.startsWith(Q)&&X.charAt(Q.length)==="/"),S={isActive:ge,isPending:x,isTransitioning:Z},A=ge?s:void 0,b;typeof a=="function"?b=a(S):b=[a,ge?"active":null,x?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let L=typeof d=="function"?d(S):d;return j.createElement(LS,xc({},E,{"aria-current":A,className:b,ref:t,style:L,to:f,viewTransition:y}),typeof v=="function"?v(S):v)});var Sf;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Sf||(Sf={}));var Dy;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Dy||(Dy={}));function MS(n){let e=j.useContext(Yc);return e||st(!1),e}function FS(n,e){let{target:t,replace:s,state:o,preventScrollReset:a,relative:u,viewTransition:d}=e===void 0?{}:e,f=fp(),y=$s(),v=eh(n,{relative:u});return j.useCallback(E=>{if(AS(E,t)){E.preventDefault();let T=s!==void 0?s:kc(y)===kc(v);f(n,{replace:T,state:o,preventScrollReset:a,relative:u,viewTransition:d})}},[y,f,v,s,o,t,n,a,u,d])}function US(n,e){e===void 0&&(e={});let t=j.useContext(xS);t==null&&st(!1);let{basename:s}=MS(Sf.useViewTransitionState),o=eh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=qo(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=qo(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Tf(o.pathname,u)!=null||Tf(o.pathname,a)!=null}const jS="modulepreload",BS=function(n){return"/"+n},Ly={},Zt=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){let f=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");o=f(t.map(y=>{if(y=BS(y),y in Ly)return;Ly[y]=!0;const v=y.endsWith(".css"),E=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${E}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":jS,v||(T.as="script"),T.crossOrigin="",T.href=y,d&&T.setAttribute("nonce",d),document.head.appendChild(T),v)return new Promise((F,P)=>{T.addEventListener("load",F),T.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${y}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};var ta=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zS={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},$S=class{#e=zS;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},wi=new $S;function qS(n){setTimeout(n,0)}var Ai=typeof window>"u"||"Deno"in globalThis;function Xt(){}function HS(n,e){return typeof n=="function"?n(e):n}function Rf(n){return typeof n=="number"&&n>=0&&n!==1/0}function l0(n,e){return Math.max(n+(e||0)-Date.now(),0)}function xs(n,e){return typeof n=="function"?n(e):n}function bn(n,e){return typeof n=="function"?n(e):n}function Vy(n,e){const{type:t="all",exact:s,fetchStatus:o,predicate:a,queryKey:u,stale:d}=n;if(u){if(s){if(e.queryHash!==mp(u,e.options))return!1}else if(!wl(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||a&&!a(e))}function My(n,e){const{exact:t,status:s,predicate:o,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(Ci(e.options.mutationKey)!==Ci(a))return!1}else if(!wl(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||o&&!o(e))}function mp(n,e){return(e?.queryKeyHashFn||Ci)(n)}function Ci(n){return JSON.stringify(n,(e,t)=>Af(t)?Object.keys(t).sort().reduce((s,o)=>(s[o]=t[o],s),{}):t)}function wl(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>wl(n[t],e[t])):!1}var WS=Object.prototype.hasOwnProperty;function u0(n,e){if(n===e)return n;const t=Fy(n)&&Fy(e);if(!t&&!(Af(n)&&Af(e)))return e;const o=(t?n:Object.keys(n)).length,a=t?e:Object.keys(e),u=a.length,d=t?new Array(u):{};let f=0;for(let y=0;y<u;y++){const v=t?y:a[y],E=n[v],T=e[v];if(E===T){d[v]=E,(t?y<o:WS.call(n,v))&&f++;continue}if(E===null||T===null||typeof E!="object"||typeof T!="object"){d[v]=T;continue}const F=u0(E,T);d[v]=F,F===E&&f++}return o===u&&f===o?n:d}function bc(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function Fy(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Af(n){if(!Uy(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Uy(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Uy(n){return Object.prototype.toString.call(n)==="[object Object]"}function KS(n){return new Promise(e=>{wi.setTimeout(e,n)})}function Cf(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?u0(n,e):e}function QS(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function GS(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var gp=Symbol();function c0(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===gp?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function h0(n,e){return typeof n=="function"?n(...e):!!n}var JS=class extends ta{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!Ai&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},yp=new JS;function Pf(){let n,e;const t=new Promise((o,a)=>{n=o,e=a});t.status="pending",t.catch(()=>{});function s(o){Object.assign(t,o),delete t.resolve,delete t.reject}return t.resolve=o=>{s({status:"fulfilled",value:o}),n(o)},t.reject=o=>{s({status:"rejected",reason:o}),e(o)},t}var XS=qS;function YS(){let n=[],e=0,t=d=>{d()},s=d=>{d()},o=XS;const a=d=>{e?n.push(d):o(()=>{t(d)})},u=()=>{const d=n;n=[],d.length&&o(()=>{s(()=>{d.forEach(f=>{t(f)})})})};return{batch:d=>{let f;e++;try{f=d()}finally{e--,e||u()}return f},batchCalls:d=>(...f)=>{a(()=>{d(...f)})},schedule:a,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{o=d}}}var It=YS(),ZS=class extends ta{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!Ai&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},Nc=new ZS;function e1(n){return Math.min(1e3*2**n,3e4)}function d0(n){return(n??"online")==="online"?Nc.isOnline():!0}var kf=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function f0(n){let e=!1,t=0,s;const o=Pf(),a=()=>o.status!=="pending",u=O=>{if(!a()){const k=new kf(O);T(k),n.onCancel?.(k)}},d=()=>{e=!0},f=()=>{e=!1},y=()=>yp.isFocused()&&(n.networkMode==="always"||Nc.isOnline())&&n.canRun(),v=()=>d0(n.networkMode)&&n.canRun(),E=O=>{a()||(s?.(),o.resolve(O))},T=O=>{a()||(s?.(),o.reject(O))},F=()=>new Promise(O=>{s=k=>{(a()||y())&&O(k)},n.onPause?.()}).then(()=>{s=void 0,a()||n.onContinue?.()}),P=()=>{if(a())return;let O;const k=t===0?n.initialPromise:void 0;try{O=k??n.fn()}catch(Z){O=Promise.reject(Z)}Promise.resolve(O).then(E).catch(Z=>{if(a())return;const Q=n.retry??(Ai?0:3),G=n.retryDelay??e1,X=typeof G=="function"?G(t,Z):G,de=Q===!0||typeof Q=="number"&&t<Q||typeof Q=="function"&&Q(t,Z);if(e||!de){T(Z);return}t++,n.onFail?.(t,Z),KS(X).then(()=>y()?void 0:F()).then(()=>{e?T(Z):P()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(s?.(),o),cancelRetry:d,continueRetry:f,canStart:v,start:()=>(v()?P():F().then(P),o)}}var p0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rf(this.gcTime)&&(this.#e=wi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Ai?1/0:300*1e3))}clearGcTimeout(){this.#e&&(wi.clearTimeout(this.#e),this.#e=void 0)}},t1=class extends p0{#e;#t;#n;#s;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=By(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=By(this.options);t.data!==void 0&&(this.setState(jy(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=Cf(this.state.data,e,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Xt).catch(Xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>bn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>xs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!l0(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(y=>y.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#a=!0,s.signal)})},a=()=>{const f=c0(this.options,t),v=(()=>{const E={client:this.#s,queryKey:this.queryKey,meta:this.meta};return o(E),E})();return this.#a=!1,this.options.persister?this.options.persister(f,v,this):f(v)},d=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:a};return o(f),f})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#i({type:"fetch",meta:d.fetchOptions?.meta}),this.#r=f0({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:f=>{f instanceof kf&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,y)=>{this.#i({type:"failed",failureCount:f,error:y})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof kf){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...m0(s.data,this.options),fetchMeta:e.meta??null};case"success":const o={...s,...jy(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?o:void 0,o;case"error":const a=e.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),It.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function m0(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d0(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function jy(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function By(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var n1=class extends ta{constructor(n,e){super(),this.options=e,this.#e=n,this.#i=null,this.#a=Pf(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#o;#a;#i;#m;#d;#f;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),zy(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#E(),this.#t.removeObserver(this)}setOptions(n){const e=this.options,t=this.#t;if(this.options=this.#e.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#T(),this.#t.setOptions(this.options),e._defaulted&&!bc(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&$y(this.#t,t,this.options,e)&&this.#h(),this.updateResult(),s&&(this.#t!==t||bn(this.options.enabled,this.#t)!==bn(e.enabled,this.#t)||xs(this.options.staleTime,this.#t)!==xs(e.staleTime,this.#t))&&this.#g();const o=this.#y();s&&(this.#t!==t||bn(this.options.enabled,this.#t)!==bn(e.enabled,this.#t)||o!==this.#l)&&this.#v(o)}getOptimisticResult(n){const e=this.#e.getQueryCache().build(this.#e,n),t=this.createResult(e,n);return s1(this,t)&&(this.#s=t,this.#o=this.options,this.#r=this.#t.state),t}getCurrentResult(){return this.#s}trackResult(n,e){return new Proxy(n,{get:(t,s)=>(this.trackProp(s),e?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(t,s))})}trackProp(n){this.#p.add(n)}getCurrentQuery(){return this.#t}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const e=this.#e.defaultQueryOptions(n),t=this.#e.getQueryCache().build(this.#e,e);return t.fetch().then(()=>this.createResult(t,e))}fetch(n){return this.#h({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(n){this.#T();let e=this.#t.fetch(this.options,n);return n?.throwOnError||(e=e.catch(Xt)),e}#g(){this.#w();const n=xs(this.options.staleTime,this.#t);if(Ai||this.#s.isStale||!Rf(n))return;const t=l0(this.#s.dataUpdatedAt,n)+1;this.#u=wi.setTimeout(()=>{this.#s.isStale||this.updateResult()},t)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(n){this.#E(),this.#l=n,!(Ai||bn(this.options.enabled,this.#t)===!1||!Rf(this.#l)||this.#l===0)&&(this.#c=wi.setInterval(()=>{(this.options.refetchIntervalInBackground||yp.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#v(this.#y())}#w(){this.#u&&(wi.clearTimeout(this.#u),this.#u=void 0)}#E(){this.#c&&(wi.clearInterval(this.#c),this.#c=void 0)}createResult(n,e){const t=this.#t,s=this.options,o=this.#s,a=this.#r,u=this.#o,f=n!==t?n.state:this.#n,{state:y}=n;let v={...y},E=!1,T;if(e._optimisticResults){const S=this.hasListeners(),A=!S&&zy(n,e),b=S&&$y(n,t,e,s);(A||b)&&(v={...v,...m0(y.data,n.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:F,errorUpdatedAt:P,status:O}=v;T=v.data;let k=!1;if(e.placeholderData!==void 0&&T===void 0&&O==="pending"){let S;o?.isPlaceholderData&&e.placeholderData===u?.placeholderData?(S=o.data,k=!0):S=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,S!==void 0&&(O="success",T=Cf(o?.data,S,e),E=!0)}if(e.select&&T!==void 0&&!k)if(o&&T===a?.data&&e.select===this.#m)T=this.#d;else try{this.#m=e.select,T=e.select(T),T=Cf(o?.data,T,e),this.#d=T,this.#i=null}catch(S){this.#i=S}this.#i&&(F=this.#i,T=this.#d,P=Date.now(),O="error");const Z=v.fetchStatus==="fetching",Q=O==="pending",G=O==="error",X=Q&&Z,de=T!==void 0,x={status:O,fetchStatus:v.fetchStatus,isPending:Q,isSuccess:O==="success",isError:G,isInitialLoading:X,isLoading:X,data:T,dataUpdatedAt:v.dataUpdatedAt,error:F,errorUpdatedAt:P,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>f.dataUpdateCount||v.errorUpdateCount>f.errorUpdateCount,isFetching:Z,isRefetching:Z&&!Q,isLoadingError:G&&!de,isPaused:v.fetchStatus==="paused",isPlaceholderData:E,isRefetchError:G&&de,isStale:vp(n,e),refetch:this.refetch,promise:this.#a,isEnabled:bn(e.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const S=L=>{x.status==="error"?L.reject(x.error):x.data!==void 0&&L.resolve(x.data)},A=()=>{const L=this.#a=x.promise=Pf();S(L)},b=this.#a;switch(b.status){case"pending":n.queryHash===t.queryHash&&S(b);break;case"fulfilled":(x.status==="error"||x.data!==b.value)&&A();break;case"rejected":(x.status!=="error"||x.error!==b.reason)&&A();break}}return x}updateResult(){const n=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#f=this.#t),bc(e,n))return;this.#s=e;const t=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!this.#p.size)return!0;const a=new Set(o??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#s).some(u=>{const d=u;return this.#s[d]!==n[d]&&a.has(d)})};this.#I({listeners:t()})}#T(){const n=this.#e.getQueryCache().build(this.#e,this.options);if(n===this.#t)return;const e=this.#t;this.#t=n,this.#n=n.state,this.hasListeners()&&(e?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#I(n){It.batch(()=>{n.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function r1(n,e){return bn(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function zy(n,e){return r1(n,e)||n.state.data!==void 0&&xf(n,e,e.refetchOnMount)}function xf(n,e,t){if(bn(e.enabled,n)!==!1&&xs(e.staleTime,n)!=="static"){const s=typeof t=="function"?t(n):t;return s==="always"||s!==!1&&vp(n,e)}return!1}function $y(n,e,t,s){return(n!==e||bn(s.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&vp(n,t)}function vp(n,e){return bn(e.enabled,n)!==!1&&n.isStaleByTime(xs(e.staleTime,n))}function s1(n,e){return!bc(n.getCurrentResult(),e)}function qy(n){return{onFetch:(e,t)=>{const s=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const y=async()=>{let v=!1;const E=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},T=c0(e.options,e.fetchOptions),F=async(P,O,k)=>{if(v)return Promise.reject();if(O==null&&P.pages.length)return Promise.resolve(P);const Q=(()=>{const ge={client:e.client,queryKey:e.queryKey,pageParam:O,direction:k?"backward":"forward",meta:e.options.meta};return E(ge),ge})(),G=await T(Q),{maxPages:X}=e.options,de=k?GS:QS;return{pages:de(P.pages,G,X),pageParams:de(P.pageParams,O,X)}};if(o&&a.length){const P=o==="backward",O=P?i1:Hy,k={pages:a,pageParams:u},Z=O(s,k);d=await F(k,Z,P)}else{const P=n??a.length;do{const O=f===0?u[0]??s.initialPageParam:Hy(s,d);if(f>0&&O==null)break;d=await F(d,O),f++}while(f<P)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(y,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=y}}}function Hy(n,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,t[s],t):void 0}function i1(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var o1=class extends p0{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||g0(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=f0({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#r({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",a=!this.#s.canStart();try{if(o)t();else{this.#r({type:"pending",variables:e,isPaused:a}),await this.#n.config.onMutate?.(e,this,s);const d=await this.options.onMutate?.(e,s);d!==this.state.context&&this.#r({type:"pending",context:d,variables:e,isPaused:a})}const u=await this.#s.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,s),await this.options.onSuccess?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(u,null,e,this.state.context,s),this.#r({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,s),await this.options.onError?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,u,e,this.state.context,s),u}finally{this.#r({type:"error",error:u})}}finally{this.#n.runNext(this)}}#r(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),It.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function g0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var a1=class extends ta{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,t){const s=new o1({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(s),s}add(n){this.#e.add(n);const e=ac(n);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=ac(n);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const s=t.indexOf(n);s!==-1&&t.splice(s,1)}else t[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=ac(n);if(typeof e=="string"){const s=this.#t.get(e)?.find(o=>o.state.status==="pending");return!s||s===n}else return!0}runNext(n){const e=ac(n);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==n&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){It.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>My(e,t))}findAll(n={}){return this.getAll().filter(e=>My(n,e))}notify(n){It.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return It.batch(()=>Promise.all(n.map(e=>e.continue().catch(Xt))))}};function ac(n){return n.options.scope?.id}var l1=class extends ta{#e;#t=void 0;#n;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),bc(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&Ci(t.mutationKey)!==Ci(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#o()}mutate(e,t){return this.#s=t,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??g0();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){It.batch(()=>{if(this.#s&&this.hasListeners()){const t=this.#t.variables,s=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,t,s,o),this.#s.onSettled?.(e.data,null,t,s,o)):e?.type==="error"&&(this.#s.onError?.(e.error,t,s,o),this.#s.onSettled?.(void 0,e.error,t,s,o))}this.listeners.forEach(t=>{t(this.#t)})})}},u1=class extends ta{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const s=e.queryKey,o=e.queryHash??mp(s,e);let a=this.get(o);return a||(a=new t1({client:n,queryKey:s,queryHash:o,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(s)}),this.add(a)),a}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){It.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>Vy(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>Vy(n,t)):e}notify(n){It.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){It.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){It.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},c1=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(n={}){this.#e=n.queryCache||new u1,this.#t=n.mutationCache||new a1,this.#n=n.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=yp.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Nc.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#e.build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(xs(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(n,e,t){const s=this.defaultQueryOptions({queryKey:n}),a=this.#e.get(s.queryHash)?.state.data,u=HS(e,a);if(u!==void 0)return this.#e.build(this,s).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return It.batch(()=>this.#e.findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;It.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e;return It.batch(()=>(t.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},s=It.batch(()=>this.#e.findAll(n).map(o=>o.cancel(t)));return Promise.all(s).then(Xt).catch(Xt)}invalidateQueries(n,e={}){return It.batch(()=>(this.#e.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=It.batch(()=>this.#e.findAll(n).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,t);return t.throwOnError||(a=a.catch(Xt)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Xt)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(xs(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Xt).catch(Xt)}fetchInfiniteQuery(n){return n.behavior=qy(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Xt).catch(Xt)}ensureInfiniteQueryData(n){return n.behavior=qy(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Nc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#s.set(Ci(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#s.values()],t={};return e.forEach(s=>{wl(n,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(n,e){this.#r.set(Ci(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#r.values()],t={};return e.forEach(s=>{wl(n,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=mp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===gp&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},y0=j.createContext(void 0),_p=n=>{const e=j.useContext(y0);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},h1=({client:n,children:e})=>(j.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),D.jsx(y0.Provider,{value:n,children:e})),v0=j.createContext(!1),d1=()=>j.useContext(v0);v0.Provider;function f1(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var p1=j.createContext(f1()),m1=()=>j.useContext(p1),g1=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},y1=n=>{j.useEffect(()=>{n.clearReset()},[n])},v1=({result:n,errorResetBoundary:e,throwOnError:t,query:s,suspense:o})=>n.isError&&!e.isReset()&&!n.isFetching&&s&&(o&&n.data===void 0||h0(t,[n.error,s])),_1=n=>{if(n.suspense){const t=o=>o==="static"?o:Math.max(o??1e3,1e3),s=n.staleTime;n.staleTime=typeof s=="function"?(...o)=>t(s(...o)):t(s),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},w1=(n,e)=>n.isLoading&&n.isFetching&&!e,E1=(n,e)=>n?.suspense&&e.isPending,Wy=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function T1(n,e,t){const s=d1(),o=m1(),a=_p(),u=a.defaultQueryOptions(n);a.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=s?"isRestoring":"optimistic",_1(u),g1(u,o),y1(o);const d=!a.getQueryCache().get(u.queryHash),[f]=j.useState(()=>new e(a,u)),y=f.getOptimisticResult(u),v=!s&&n.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(E=>{const T=v?f.subscribe(It.batchCalls(E)):Xt;return f.updateResult(),T},[f,v]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),j.useEffect(()=>{f.setOptions(u)},[u,f]),E1(u,y))throw Wy(u,f,o);if(v1({result:y,errorResetBoundary:o,throwOnError:u.throwOnError,query:a.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw y.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(u,y),u.experimental_prefetchInRender&&!Ai&&w1(y,s)&&(d?Wy(u,f,o):a.getQueryCache().get(u.queryHash)?.promise)?.catch(Xt).finally(()=>{f.updateResult()}),u.notifyOnChangeProps?y:f.trackResult(y)}function I1(n,e){return T1(n,n1)}function S1(n,e){const t=_p(),[s]=j.useState(()=>new l1(t,n));j.useEffect(()=>{s.setOptions(n)},[s,n]);const o=j.useSyncExternalStore(j.useCallback(u=>s.subscribe(It.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=j.useCallback((u,d)=>{s.mutate(u,d).catch(Xt)},[s]);if(o.error&&h0(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}const R1=({open:n=!1,onClose:e})=>{const t=j.useRef(null);j.useEffect(()=>{n&&setTimeout(()=>t.current?.focus(),0)},[n]);const s=a=>{a.key==="Escape"&&e?.()},o=[{label:"Dashboard",path:"/"},{label:"Transaes",path:"/transactions"},{label:"Auditoria & Limpeza",path:"/data-cleaning"},{label:"IA & Insights",path:"/insights"},{label:"Clientes",path:"/clients"},{label:"Real Estate",path:"/real-estate"},{label:"Configuraes",path:"/settings"},{label:"Analytics + AI",path:"/analytics"}];return D.jsxs(D.Fragment,{children:[D.jsx("div",{onClick:e,className:`fixed inset-0 bg-black/30 md:hidden transition-opacity z-40 ${n?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,"aria-hidden":!n}),D.jsxs("aside",{ref:a=>t.current=a,id:"app-sidebar",tabIndex:-1,onKeyDown:s,"aria-label":"Navegao principal","aria-hidden":!n&&void 0,className:["fixed top-0 left-0 h-full w-60 z-50 flex flex-col","backdrop-blur-2xl border-r","bg-[linear-gradient(180deg,rgba(255,255,255,0.9)_0%,rgba(245,247,255,0.75)_40%,rgba(230,235,255,0.6)_100%)]","border-[rgba(255,255,255,0.08)]","dark:bg-[linear-gradient(180deg,rgba(11,15,23,0.9)_0%,rgba(15,22,37,0.85)_60%,rgba(5,8,19,0.9)_100%)]","dark:border-[rgba(255,255,255,0.06)]","shadow-[inset_0_0_25px_rgba(0,0,0,0.45),0_0_10px_rgba(110,52,255,0.15)]","transform transition-transform duration-500 ease-in-out",n?"translate-x-0":"-translate-x-60","md:translate-x-0"].join(" "),children:[D.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-[var(--border)]",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("img",{src:"/assets/brand/momentum-logo.png",alt:"Momentum Logo",className:"w-9 h-9 object-contain drop-shadow-[0_2px_8px_rgba(0,0,0,0.3)]"}),D.jsxs("div",{className:"flex flex-col leading-tight",children:[D.jsx("span",{className:"text-base font-semibold text-gradient",children:"MOMENTUM"}),D.jsx("span",{className:"text-[11px] text-[var(--text-2)] font-medium",children:"V14.6  PREMIUM"})]})]}),D.jsx("button",{onClick:e,className:"md:hidden inline-flex items-center justify-center h-8 w-8 rounded-lg border border-[var(--border)] bg-[rgba(255,255,255,0.65)] dark:bg-[rgba(25,30,50,0.65)] text-[var(--text-1)] shadow-sm hover:shadow-md transition","aria-label":"Fechar menu lateral",title:"Fechar",children:""})]}),D.jsx("nav",{className:"flex-1 px-4 py-5 space-y-1 overflow-y-auto",role:"navigation","aria-label":"Menu principal",children:o.map(a=>D.jsx(VS,{to:a.path,onClick:e,className:({isActive:u})=>["block px-3 py-2 rounded-lg font-medium text-sm transition-all",u?"bg-gradient-to-r from-[var(--brand-1)] to-[var(--brand-2)] text-white shadow-md":"text-[#1a1a1a] hover:text-[var(--brand-1)] hover:bg-[rgba(110,52,255,0.08)] dark:text-[#cfd3e8] dark:hover:text-white dark:hover:bg-[rgba(110,52,255,0.15)]"].join(" "),"aria-current":({isActive:u})=>u?"page":void 0,children:a.label},a.path))}),D.jsx("div",{className:"px-6 py-3 border-t border-[var(--border)] text-[11px] text-[var(--text-2)]",children:"Glass Momentum v14.6"})]})]})};function A1(){const[n,e]=j.useState(()=>localStorage.getItem("theme")||"light");return j.useEffect(()=>{document.body.setAttribute("data-theme",n),n==="dark"?(document.body.classList.add("dark"),document.body.classList.remove("light")):(document.body.classList.add("light"),document.body.classList.remove("dark")),localStorage.setItem("theme",n)},[n]),{theme:n,toggle:()=>e(t=>t==="light"?"dark":"light")}}const C1=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P1=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Ky=n=>{const e=P1(n);return e.charAt(0).toUpperCase()+e.slice(1)},_0=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),k1=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var x1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const b1=j.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:u,...d},f)=>j.createElement("svg",{ref:f,...x1,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:_0("lucide",o),...!a&&!k1(d)&&{"aria-hidden":"true"},...d},[...u.map(([y,v])=>j.createElement(y,v)),...Array.isArray(a)?a:[a]]));const Zn=(n,e)=>{const t=j.forwardRef(({className:s,...o},a)=>j.createElement(b1,{ref:a,iconNode:e,className:_0(`lucide-${C1(Ky(n))}`,`lucide-${n}`,s),...o}));return t.displayName=Ky(n),t};const N1=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],O1=Zn("bell",N1);const D1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qy=Zn("circle-alert",D1);const L1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],V1=Zn("circle-question-mark",L1);const M1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],F1=Zn("loader-circle",M1);const U1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],j1=Zn("lock",U1);const B1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],z1=Zn("mail",B1);const $1=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],q1=Zn("message-circle",$1);const H1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],W1=Zn("mic",H1);const K1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Q1=Zn("square",K1);const G1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],J1=Zn("volume-2",G1);const X1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gy=Zn("x",X1);function w0(n,e){return function(){return n.apply(e,arguments)}}const{toString:Y1}=Object.prototype,{getPrototypeOf:wp}=Object,{iterator:th,toStringTag:E0}=Symbol,nh=(n=>e=>{const t=Y1.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),er=n=>(n=n.toLowerCase(),e=>nh(e)===n),rh=n=>e=>typeof e===n,{isArray:na}=Array,Ho=rh("undefined");function bl(n){return n!==null&&!Ho(n)&&n.constructor!==null&&!Ho(n.constructor)&&hn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const T0=er("ArrayBuffer");function Z1(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&T0(n.buffer),e}const eR=rh("string"),hn=rh("function"),I0=rh("number"),Nl=n=>n!==null&&typeof n=="object",tR=n=>n===!0||n===!1,yc=n=>{if(nh(n)!=="object")return!1;const e=wp(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(E0 in n)&&!(th in n)},nR=n=>{if(!Nl(n)||bl(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},rR=er("Date"),sR=er("File"),iR=er("Blob"),oR=er("FileList"),aR=n=>Nl(n)&&hn(n.pipe),lR=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||hn(n.append)&&((e=nh(n))==="formdata"||e==="object"&&hn(n.toString)&&n.toString()==="[object FormData]"))},uR=er("URLSearchParams"),[cR,hR,dR,fR]=["ReadableStream","Request","Response","Headers"].map(er),pR=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ol(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,o;if(typeof n!="object"&&(n=[n]),na(n))for(s=0,o=n.length;s<o;s++)e.call(null,n[s],s,n);else{if(bl(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),u=a.length;let d;for(s=0;s<u;s++)d=a[s],e.call(null,n[d],d,n)}}function S0(n,e){if(bl(n))return null;e=e.toLowerCase();const t=Object.keys(n);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const Ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,R0=n=>!Ho(n)&&n!==Ei;function bf(){const{caseless:n,skipUndefined:e}=R0(this)&&this||{},t={},s=(o,a)=>{const u=n&&S0(t,a)||a;yc(t[u])&&yc(o)?t[u]=bf(t[u],o):yc(o)?t[u]=bf({},o):na(o)?t[u]=o.slice():(!e||!Ho(o))&&(t[u]=o)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Ol(arguments[o],s);return t}const mR=(n,e,t,{allOwnKeys:s}={})=>(Ol(e,(o,a)=>{t&&hn(o)?n[a]=w0(o,t):n[a]=o},{allOwnKeys:s}),n),gR=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),yR=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},vR=(n,e,t,s)=>{let o,a,u;const d={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),a=o.length;a-- >0;)u=o[a],(!s||s(u,n,e))&&!d[u]&&(e[u]=n[u],d[u]=!0);n=t!==!1&&wp(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},_R=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},wR=n=>{if(!n)return null;if(na(n))return n;let e=n.length;if(!I0(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},ER=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&wp(Uint8Array)),TR=(n,e)=>{const s=(n&&n[th]).call(n);let o;for(;(o=s.next())&&!o.done;){const a=o.value;e.call(n,a[0],a[1])}},IR=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},SR=er("HTMLFormElement"),RR=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),Jy=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),AR=er("RegExp"),A0=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};Ol(t,(o,a)=>{let u;(u=e(o,a,n))!==!1&&(s[a]=u||o)}),Object.defineProperties(n,s)},CR=n=>{A0(n,(e,t)=>{if(hn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(hn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},PR=(n,e)=>{const t={},s=o=>{o.forEach(a=>{t[a]=!0})};return na(n)?s(n):s(String(n).split(e)),t},kR=()=>{},xR=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function bR(n){return!!(n&&hn(n.append)&&n[E0]==="FormData"&&n[th])}const NR=n=>{const e=new Array(10),t=(s,o)=>{if(Nl(s)){if(e.indexOf(s)>=0)return;if(bl(s))return s;if(!("toJSON"in s)){e[o]=s;const a=na(s)?[]:{};return Ol(s,(u,d)=>{const f=t(u,o+1);!Ho(f)&&(a[d]=f)}),e[o]=void 0,a}}return s};return t(n,0)},OR=er("AsyncFunction"),DR=n=>n&&(Nl(n)||hn(n))&&hn(n.then)&&hn(n.catch),C0=((n,e)=>n?setImmediate:e?((t,s)=>(Ei.addEventListener("message",({source:o,data:a})=>{o===Ei&&a===t&&s.length&&s.shift()()},!1),o=>{s.push(o),Ei.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",hn(Ei.postMessage)),LR=typeof queueMicrotask<"u"?queueMicrotask.bind(Ei):typeof process<"u"&&process.nextTick||C0,VR=n=>n!=null&&hn(n[th]),H={isArray:na,isArrayBuffer:T0,isBuffer:bl,isFormData:lR,isArrayBufferView:Z1,isString:eR,isNumber:I0,isBoolean:tR,isObject:Nl,isPlainObject:yc,isEmptyObject:nR,isReadableStream:cR,isRequest:hR,isResponse:dR,isHeaders:fR,isUndefined:Ho,isDate:rR,isFile:sR,isBlob:iR,isRegExp:AR,isFunction:hn,isStream:aR,isURLSearchParams:uR,isTypedArray:ER,isFileList:oR,forEach:Ol,merge:bf,extend:mR,trim:pR,stripBOM:gR,inherits:yR,toFlatObject:vR,kindOf:nh,kindOfTest:er,endsWith:_R,toArray:wR,forEachEntry:TR,matchAll:IR,isHTMLForm:SR,hasOwnProperty:Jy,hasOwnProp:Jy,reduceDescriptors:A0,freezeMethods:CR,toObjectSet:PR,toCamelCase:RR,noop:kR,toFiniteNumber:xR,findKey:S0,global:Ei,isContextDefined:R0,isSpecCompliantForm:bR,toJSONObject:NR,isAsyncFn:OR,isThenable:DR,setImmediate:C0,asap:LR,isIterable:VR};function Ce(n,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}H.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const P0=Ce.prototype,k0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{k0[n]={value:n}});Object.defineProperties(Ce,k0);Object.defineProperty(P0,"isAxiosError",{value:!0});Ce.from=(n,e,t,s,o,a)=>{const u=Object.create(P0);H.toFlatObject(n,u,function(v){return v!==Error.prototype},y=>y!=="isAxiosError");const d=n&&n.message?n.message:"Error",f=e==null&&n?n.code:e;return Ce.call(u,d,f,t,s,o),n&&u.cause==null&&Object.defineProperty(u,"cause",{value:n,configurable:!0}),u.name=n&&n.name||"Error",a&&Object.assign(u,a),u};const MR=null;function Nf(n){return H.isPlainObject(n)||H.isArray(n)}function x0(n){return H.endsWith(n,"[]")?n.slice(0,-2):n}function Xy(n,e,t){return n?n.concat(e).map(function(o,a){return o=x0(o),!t&&a?"["+o+"]":o}).join(t?".":""):e}function FR(n){return H.isArray(n)&&!n.some(Nf)}const UR=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function sh(n,e,t){if(!H.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=H.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,k){return!H.isUndefined(k[O])});const s=t.metaTokens,o=t.visitor||v,a=t.dots,u=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(o))throw new TypeError("visitor must be a function");function y(P){if(P===null)return"";if(H.isDate(P))return P.toISOString();if(H.isBoolean(P))return P.toString();if(!f&&H.isBlob(P))throw new Ce("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(P)||H.isTypedArray(P)?f&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function v(P,O,k){let Z=P;if(P&&!k&&typeof P=="object"){if(H.endsWith(O,"{}"))O=s?O:O.slice(0,-2),P=JSON.stringify(P);else if(H.isArray(P)&&FR(P)||(H.isFileList(P)||H.endsWith(O,"[]"))&&(Z=H.toArray(P)))return O=x0(O),Z.forEach(function(G,X){!(H.isUndefined(G)||G===null)&&e.append(u===!0?Xy([O],X,a):u===null?O:O+"[]",y(G))}),!1}return Nf(P)?!0:(e.append(Xy(k,O,a),y(P)),!1)}const E=[],T=Object.assign(UR,{defaultVisitor:v,convertValue:y,isVisitable:Nf});function F(P,O){if(!H.isUndefined(P)){if(E.indexOf(P)!==-1)throw Error("Circular reference detected in "+O.join("."));E.push(P),H.forEach(P,function(Z,Q){(!(H.isUndefined(Z)||Z===null)&&o.call(e,Z,H.isString(Q)?Q.trim():Q,O,T))===!0&&F(Z,O?O.concat(Q):[Q])}),E.pop()}}if(!H.isObject(n))throw new TypeError("data must be an object");return F(n),e}function Yy(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Ep(n,e){this._pairs=[],n&&sh(n,this,e)}const b0=Ep.prototype;b0.append=function(e,t){this._pairs.push([e,t])};b0.toString=function(e){const t=e?function(s){return e.call(this,s,Yy)}:Yy;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function jR(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function N0(n,e,t){if(!e)return n;const s=t&&t.encode||jR;H.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let a;if(o?a=o(e,t):a=H.isURLSearchParams(e)?e.toString():new Ep(e,t).toString(s),a){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class Zy{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(s){s!==null&&e(s)})}}const O0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BR=typeof URLSearchParams<"u"?URLSearchParams:Ep,zR=typeof FormData<"u"?FormData:null,$R=typeof Blob<"u"?Blob:null,qR={isBrowser:!0,classes:{URLSearchParams:BR,FormData:zR,Blob:$R},protocols:["http","https","file","blob","url","data"]},Tp=typeof window<"u"&&typeof document<"u",Of=typeof navigator=="object"&&navigator||void 0,HR=Tp&&(!Of||["ReactNative","NativeScript","NS"].indexOf(Of.product)<0),WR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KR=Tp&&window.location.href||"http://localhost",QR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tp,hasStandardBrowserEnv:HR,hasStandardBrowserWebWorkerEnv:WR,navigator:Of,origin:KR},Symbol.toStringTag,{value:"Module"})),qt={...QR,...qR};function GR(n,e){return sh(n,new qt.classes.URLSearchParams,{visitor:function(t,s,o,a){return qt.isNode&&H.isBuffer(t)?(this.append(s,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function JR(n){return H.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function XR(n){const e={},t=Object.keys(n);let s;const o=t.length;let a;for(s=0;s<o;s++)a=t[s],e[a]=n[a];return e}function D0(n){function e(t,s,o,a){let u=t[a++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),f=a>=t.length;return u=!u&&H.isArray(o)?o.length:u,f?(H.hasOwnProp(o,u)?o[u]=[o[u],s]:o[u]=s,!d):((!o[u]||!H.isObject(o[u]))&&(o[u]=[]),e(t,s,o[u],a)&&H.isArray(o[u])&&(o[u]=XR(o[u])),!d)}if(H.isFormData(n)&&H.isFunction(n.entries)){const t={};return H.forEachEntry(n,(s,o)=>{e(JR(s),o,t,0)}),t}return null}function YR(n,e,t){if(H.isString(n))try{return(e||JSON.parse)(n),H.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}const Dl={transitional:O0,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,a=H.isObject(e);if(a&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return o?JSON.stringify(D0(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return GR(e,this.formSerializer).toString();if((d=H.isFileList(e))||s.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return sh(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||o?(t.setContentType("application/json",!1),YR(e)):e}],transformResponse:[function(e){const t=this.transitional||Dl.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(s&&!this.responseType||o)){const u=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(d){if(u)throw d.name==="SyntaxError"?Ce.from(d,Ce.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qt.classes.FormData,Blob:qt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],n=>{Dl.headers[n]={}});const ZR=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eA=n=>{const e={};let t,s,o;return n&&n.split(`
`).forEach(function(u){o=u.indexOf(":"),t=u.substring(0,o).trim().toLowerCase(),s=u.substring(o+1).trim(),!(!t||e[t]&&ZR[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},ev=Symbol("internals");function ol(n){return n&&String(n).trim().toLowerCase()}function vc(n){return n===!1||n==null?n:H.isArray(n)?n.map(vc):String(n)}function tA(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const nA=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function sf(n,e,t,s,o){if(H.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!H.isString(e)){if(H.isString(s))return e.indexOf(s)!==-1;if(H.isRegExp(s))return s.test(e)}}function rA(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function sA(n,e){const t=H.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(o,a,u){return this[s].call(this,e,o,a,u)},configurable:!0})})}let dn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function a(d,f,y){const v=ol(f);if(!v)throw new Error("header name must be a non-empty string");const E=H.findKey(o,v);(!E||o[E]===void 0||y===!0||y===void 0&&o[E]!==!1)&&(o[E||f]=vc(d))}const u=(d,f)=>H.forEach(d,(y,v)=>a(y,v,f));if(H.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(H.isString(e)&&(e=e.trim())&&!nA(e))u(eA(e),t);else if(H.isObject(e)&&H.isIterable(e)){let d={},f,y;for(const v of e){if(!H.isArray(v))throw TypeError("Object iterator must return a key-value pair");d[y=v[0]]=(f=d[y])?H.isArray(f)?[...f,v[1]]:[f,v[1]]:v[1]}u(d,t)}else e!=null&&a(t,e,s);return this}get(e,t){if(e=ol(e),e){const s=H.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return tA(o);if(H.isFunction(t))return t.call(this,o,s);if(H.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ol(e),e){const s=H.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||sf(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function a(u){if(u=ol(u),u){const d=H.findKey(s,u);d&&(!t||sf(s,s[d],d,t))&&(delete s[d],o=!0)}}return H.isArray(e)?e.forEach(a):a(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const a=t[s];(!e||sf(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const t=this,s={};return H.forEach(this,(o,a)=>{const u=H.findKey(s,a);if(u){t[u]=vc(o),delete t[a];return}const d=e?rA(a):String(a).trim();d!==a&&delete t[a],t[d]=vc(o),s[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return H.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&H.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[ev]=this[ev]={accessors:{}}).accessors,o=this.prototype;function a(u){const d=ol(u);s[d]||(sA(o,u),s[d]=!0)}return H.isArray(e)?e.forEach(a):a(e),this}};dn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(dn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});H.freezeMethods(dn);function of(n,e){const t=this||Dl,s=e||t,o=dn.from(s.headers);let a=s.data;return H.forEach(n,function(d){a=d.call(t,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function L0(n){return!!(n&&n.__CANCEL__)}function ra(n,e,t){Ce.call(this,n??"canceled",Ce.ERR_CANCELED,e,t),this.name="CanceledError"}H.inherits(ra,Ce,{__CANCEL__:!0});function V0(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new Ce("Request failed with status code "+t.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function iA(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function oA(n,e){n=n||10;const t=new Array(n),s=new Array(n);let o=0,a=0,u;return e=e!==void 0?e:1e3,function(f){const y=Date.now(),v=s[a];u||(u=y),t[o]=f,s[o]=y;let E=a,T=0;for(;E!==o;)T+=t[E++],E=E%n;if(o=(o+1)%n,o===a&&(a=(a+1)%n),y-u<e)return;const F=v&&y-v;return F?Math.round(T*1e3/F):void 0}}function aA(n,e){let t=0,s=1e3/e,o,a;const u=(y,v=Date.now())=>{t=v,o=null,a&&(clearTimeout(a),a=null),n(...y)};return[(...y)=>{const v=Date.now(),E=v-t;E>=s?u(y,v):(o=y,a||(a=setTimeout(()=>{a=null,u(o)},s-E)))},()=>o&&u(o)]}const Oc=(n,e,t=3)=>{let s=0;const o=oA(50,250);return aA(a=>{const u=a.loaded,d=a.lengthComputable?a.total:void 0,f=u-s,y=o(f),v=u<=d;s=u;const E={loaded:u,total:d,progress:d?u/d:void 0,bytes:f,rate:y||void 0,estimated:y&&d&&v?(d-u)/y:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(E)},t)},tv=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},nv=n=>(...e)=>H.asap(()=>n(...e)),lA=qt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,qt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(qt.origin),qt.navigator&&/(msie|trident)/i.test(qt.navigator.userAgent)):()=>!0,uA=qt.hasStandardBrowserEnv?{write(n,e,t,s,o,a,u){if(typeof document>"u")return;const d=[`${n}=${encodeURIComponent(e)}`];H.isNumber(t)&&d.push(`expires=${new Date(t).toUTCString()}`),H.isString(s)&&d.push(`path=${s}`),H.isString(o)&&d.push(`domain=${o}`),a===!0&&d.push("secure"),H.isString(u)&&d.push(`SameSite=${u}`),document.cookie=d.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function cA(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function hA(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function M0(n,e,t){let s=!cA(e);return n&&(s||t==!1)?hA(n,e):e}const rv=n=>n instanceof dn?{...n}:n;function Pi(n,e){e=e||{};const t={};function s(y,v,E,T){return H.isPlainObject(y)&&H.isPlainObject(v)?H.merge.call({caseless:T},y,v):H.isPlainObject(v)?H.merge({},v):H.isArray(v)?v.slice():v}function o(y,v,E,T){if(H.isUndefined(v)){if(!H.isUndefined(y))return s(void 0,y,E,T)}else return s(y,v,E,T)}function a(y,v){if(!H.isUndefined(v))return s(void 0,v)}function u(y,v){if(H.isUndefined(v)){if(!H.isUndefined(y))return s(void 0,y)}else return s(void 0,v)}function d(y,v,E){if(E in e)return s(y,v);if(E in n)return s(void 0,y)}const f={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(y,v,E)=>o(rv(y),rv(v),E,!0)};return H.forEach(Object.keys({...n,...e}),function(v){const E=f[v]||o,T=E(n[v],e[v],v);H.isUndefined(T)&&E!==d||(t[v]=T)}),t}const F0=n=>{const e=Pi({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:a,headers:u,auth:d}=e;if(e.headers=u=dn.from(u),e.url=N0(M0(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),H.isFormData(t)){if(qt.hasStandardBrowserEnv||qt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(H.isFunction(t.getHeaders)){const f=t.getHeaders(),y=["content-type","content-length"];Object.entries(f).forEach(([v,E])=>{y.includes(v.toLowerCase())&&u.set(v,E)})}}if(qt.hasStandardBrowserEnv&&(s&&H.isFunction(s)&&(s=s(e)),s||s!==!1&&lA(e.url))){const f=o&&a&&uA.read(a);f&&u.set(o,f)}return e},dA=typeof XMLHttpRequest<"u",fA=dA&&function(n){return new Promise(function(t,s){const o=F0(n);let a=o.data;const u=dn.from(o.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:y}=o,v,E,T,F,P;function O(){F&&F(),P&&P(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function Z(){if(!k)return;const G=dn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),de={data:!d||d==="text"||d==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:G,config:n,request:k};V0(function(x){t(x),O()},function(x){s(x),O()},de),k=null}"onloadend"in k?k.onloadend=Z:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(Z)},k.onabort=function(){k&&(s(new Ce("Request aborted",Ce.ECONNABORTED,n,k)),k=null)},k.onerror=function(X){const de=X&&X.message?X.message:"Network Error",ge=new Ce(de,Ce.ERR_NETWORK,n,k);ge.event=X||null,s(ge),k=null},k.ontimeout=function(){let X=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const de=o.transitional||O0;o.timeoutErrorMessage&&(X=o.timeoutErrorMessage),s(new Ce(X,de.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,n,k)),k=null},a===void 0&&u.setContentType(null),"setRequestHeader"in k&&H.forEach(u.toJSON(),function(X,de){k.setRequestHeader(de,X)}),H.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),d&&d!=="json"&&(k.responseType=o.responseType),y&&([T,P]=Oc(y,!0),k.addEventListener("progress",T)),f&&k.upload&&([E,F]=Oc(f),k.upload.addEventListener("progress",E),k.upload.addEventListener("loadend",F)),(o.cancelToken||o.signal)&&(v=G=>{k&&(s(!G||G.type?new ra(null,n,k):G),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const Q=iA(o.url);if(Q&&qt.protocols.indexOf(Q)===-1){s(new Ce("Unsupported protocol "+Q+":",Ce.ERR_BAD_REQUEST,n));return}k.send(a||null)})},pA=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,o;const a=function(y){if(!o){o=!0,d();const v=y instanceof Error?y:this.reason;s.abort(v instanceof Ce?v:new ra(v instanceof Error?v.message:v))}};let u=e&&setTimeout(()=>{u=null,a(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const d=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(y=>{y.unsubscribe?y.unsubscribe(a):y.removeEventListener("abort",a)}),n=null)};n.forEach(y=>y.addEventListener("abort",a));const{signal:f}=s;return f.unsubscribe=()=>H.asap(d),f}},mA=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,o;for(;s<t;)o=s+e,yield n.slice(s,o),s=o},gA=async function*(n,e){for await(const t of yA(n))yield*mA(t,e)},yA=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},sv=(n,e,t,s)=>{const o=gA(n,e);let a=0,u,d=f=>{u||(u=!0,s&&s(f))};return new ReadableStream({async pull(f){try{const{done:y,value:v}=await o.next();if(y){d(),f.close();return}let E=v.byteLength;if(t){let T=a+=E;t(T)}f.enqueue(new Uint8Array(v))}catch(y){throw d(y),y}},cancel(f){return d(f),o.return()}},{highWaterMark:2})},iv=64*1024,{isFunction:lc}=H,vA=(({Request:n,Response:e})=>({Request:n,Response:e}))(H.global),{ReadableStream:ov,TextEncoder:av}=H.global,lv=(n,...e)=>{try{return!!n(...e)}catch{return!1}},_A=n=>{n=H.merge.call({skipUndefined:!0},vA,n);const{fetch:e,Request:t,Response:s}=n,o=e?lc(e):typeof fetch=="function",a=lc(t),u=lc(s);if(!o)return!1;const d=o&&lc(ov),f=o&&(typeof av=="function"?(P=>O=>P.encode(O))(new av):async P=>new Uint8Array(await new t(P).arrayBuffer())),y=a&&d&&lv(()=>{let P=!1;const O=new t(qt.origin,{body:new ov,method:"POST",get duplex(){return P=!0,"half"}}).headers.has("Content-Type");return P&&!O}),v=u&&d&&lv(()=>H.isReadableStream(new s("").body)),E={stream:v&&(P=>P.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(P=>{!E[P]&&(E[P]=(O,k)=>{let Z=O&&O[P];if(Z)return Z.call(O);throw new Ce(`Response type '${P}' is not supported`,Ce.ERR_NOT_SUPPORT,k)})});const T=async P=>{if(P==null)return 0;if(H.isBlob(P))return P.size;if(H.isSpecCompliantForm(P))return(await new t(qt.origin,{method:"POST",body:P}).arrayBuffer()).byteLength;if(H.isArrayBufferView(P)||H.isArrayBuffer(P))return P.byteLength;if(H.isURLSearchParams(P)&&(P=P+""),H.isString(P))return(await f(P)).byteLength},F=async(P,O)=>{const k=H.toFiniteNumber(P.getContentLength());return k??T(O)};return async P=>{let{url:O,method:k,data:Z,signal:Q,cancelToken:G,timeout:X,onDownloadProgress:de,onUploadProgress:ge,responseType:x,headers:S,withCredentials:A="same-origin",fetchOptions:b}=F0(P),L=e||fetch;x=x?(x+"").toLowerCase():"text";let U=pA([Q,G&&G.toAbortSignal()],X),C=null;const Be=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let Ae;try{if(ge&&y&&k!=="get"&&k!=="head"&&(Ae=await F(S,Z))!==0){let M=new t(O,{method:"POST",body:Z,duplex:"half"}),K;if(H.isFormData(Z)&&(K=M.headers.get("content-type"))&&S.setContentType(K),M.body){const[pe,Ie]=tv(Ae,Oc(nv(ge)));Z=sv(M.body,iv,pe,Ie)}}H.isString(A)||(A=A?"include":"omit");const Ue=a&&"credentials"in t.prototype,ze={...b,signal:U,method:k.toUpperCase(),headers:S.normalize().toJSON(),body:Z,duplex:"half",credentials:Ue?A:void 0};C=a&&new t(O,ze);let se=await(a?L(C,b):L(O,ze));const ye=v&&(x==="stream"||x==="response");if(v&&(de||ye&&Be)){const M={};["status","statusText","headers"].forEach(Pe=>{M[Pe]=se[Pe]});const K=H.toFiniteNumber(se.headers.get("content-length")),[pe,Ie]=de&&tv(K,Oc(nv(de),!0))||[];se=new s(sv(se.body,iv,pe,()=>{Ie&&Ie(),Be&&Be()}),M)}x=x||"text";let oe=await E[H.findKey(E,x)||"text"](se,P);return!ye&&Be&&Be(),await new Promise((M,K)=>{V0(M,K,{data:oe,headers:dn.from(se.headers),status:se.status,statusText:se.statusText,config:P,request:C})})}catch(Ue){throw Be&&Be(),Ue&&Ue.name==="TypeError"&&/Load failed|fetch/i.test(Ue.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,P,C),{cause:Ue.cause||Ue}):Ce.from(Ue,Ue&&Ue.code,P,C)}}},wA=new Map,U0=n=>{let e=n&&n.env||{};const{fetch:t,Request:s,Response:o}=e,a=[s,o,t];let u=a.length,d=u,f,y,v=wA;for(;d--;)f=a[d],y=v.get(f),y===void 0&&v.set(f,y=d?new Map:_A(e)),v=y;return y};U0();const Ip={http:MR,xhr:fA,fetch:{get:U0}};H.forEach(Ip,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const uv=n=>`- ${n}`,EA=n=>H.isFunction(n)||n===null||n===!1;function TA(n,e){n=H.isArray(n)?n:[n];const{length:t}=n;let s,o;const a={};for(let u=0;u<t;u++){s=n[u];let d;if(o=s,!EA(s)&&(o=Ip[(d=String(s)).toLowerCase()],o===void 0))throw new Ce(`Unknown adapter '${d}'`);if(o&&(H.isFunction(o)||(o=o.get(e))))break;a[d||"#"+u]=o}if(!o){const u=Object.entries(a).map(([f,y])=>`adapter ${f} `+(y===!1?"is not supported by the environment":"is not available in the build"));let d=t?u.length>1?`since :
`+u.map(uv).join(`
`):" "+uv(u[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o}const j0={getAdapter:TA,adapters:Ip};function af(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ra(null,n)}function cv(n){return af(n),n.headers=dn.from(n.headers),n.data=of.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),j0.getAdapter(n.adapter||Dl.adapter,n)(n).then(function(s){return af(n),s.data=of.call(n,n.transformResponse,s),s.headers=dn.from(s.headers),s},function(s){return L0(s)||(af(n),s&&s.response&&(s.response.data=of.call(n,n.transformResponse,s.response),s.response.headers=dn.from(s.response.headers))),Promise.reject(s)})}const B0="1.13.2",ih={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{ih[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const hv={};ih.transitional=function(e,t,s){function o(a,u){return"[Axios v"+B0+"] Transitional option '"+a+"'"+u+(s?". "+s:"")}return(a,u,d)=>{if(e===!1)throw new Ce(o(u," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!hv[u]&&(hv[u]=!0,console.warn(o(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,u,d):!0}};ih.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function IA(n,e,t){if(typeof n!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let o=s.length;for(;o-- >0;){const a=s[o],u=e[a];if(u){const d=n[a],f=d===void 0||u(d,a,n);if(f!==!0)throw new Ce("option "+a+" must be "+f,Ce.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ce("Unknown option "+a,Ce.ERR_BAD_OPTION)}}const _c={assertOptions:IA,validators:ih},dr=_c.validators;let Ii=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Zy,response:new Zy}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Pi(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:a}=t;s!==void 0&&_c.assertOptions(s,{silentJSONParsing:dr.transitional(dr.boolean),forcedJSONParsing:dr.transitional(dr.boolean),clarifyTimeoutError:dr.transitional(dr.boolean)},!1),o!=null&&(H.isFunction(o)?t.paramsSerializer={serialize:o}:_c.assertOptions(o,{encode:dr.function,serialize:dr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),_c.assertOptions(t,{baseUrl:dr.spelling("baseURL"),withXsrfToken:dr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=a&&H.merge(a.common,a[t.method]);a&&H.forEach(["delete","get","head","post","put","patch","common"],P=>{delete a[P]}),t.headers=dn.concat(u,a);const d=[];let f=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(t)===!1||(f=f&&O.synchronous,d.unshift(O.fulfilled,O.rejected))});const y=[];this.interceptors.response.forEach(function(O){y.push(O.fulfilled,O.rejected)});let v,E=0,T;if(!f){const P=[cv.bind(this),void 0];for(P.unshift(...d),P.push(...y),T=P.length,v=Promise.resolve(t);E<T;)v=v.then(P[E++],P[E++]);return v}T=d.length;let F=t;for(;E<T;){const P=d[E++],O=d[E++];try{F=P(F)}catch(k){O.call(this,k);break}}try{v=cv.call(this,F)}catch(P){return Promise.reject(P)}for(E=0,T=y.length;E<T;)v=v.then(y[E++],y[E++]);return v}getUri(e){e=Pi(this.defaults,e);const t=M0(e.baseURL,e.url,e.allowAbsoluteUrls);return N0(t,e.params,e.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(e){Ii.prototype[e]=function(t,s){return this.request(Pi(s||{},{method:e,url:t,data:(s||{}).data}))}});H.forEach(["post","put","patch"],function(e){function t(s){return function(a,u,d){return this.request(Pi(d||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}Ii.prototype[e]=t(),Ii.prototype[e+"Form"]=t(!0)});let SA=class z0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const s=this;this.promise.then(o=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](o);s._listeners=null}),this.promise.then=o=>{let a;const u=new Promise(d=>{s.subscribe(d),a=d}).then(o);return u.cancel=function(){s.unsubscribe(a)},u},e(function(a,u,d){s.reason||(s.reason=new ra(a,u,d),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new z0(function(o){e=o}),cancel:e}}};function RA(n){return function(t){return n.apply(null,t)}}function AA(n){return H.isObject(n)&&n.isAxiosError===!0}const Df={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Df).forEach(([n,e])=>{Df[e]=n});function $0(n){const e=new Ii(n),t=w0(Ii.prototype.request,e);return H.extend(t,Ii.prototype,e,{allOwnKeys:!0}),H.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return $0(Pi(n,o))},t}const ct=$0(Dl);ct.Axios=Ii;ct.CanceledError=ra;ct.CancelToken=SA;ct.isCancel=L0;ct.VERSION=B0;ct.toFormData=sh;ct.AxiosError=Ce;ct.Cancel=ct.CanceledError;ct.all=function(e){return Promise.all(e)};ct.spread=RA;ct.isAxiosError=AA;ct.mergeConfig=Pi;ct.AxiosHeaders=dn;ct.formToJSON=n=>D0(H.isHTMLForm(n)?new FormData(n):n);ct.getAdapter=j0.getAdapter;ct.HttpStatusCode=Df;ct.default=ct;const{Axios:W2,AxiosError:K2,CanceledError:Q2,isCancel:G2,CancelToken:J2,VERSION:X2,all:Y2,Cancel:Z2,isAxiosError:eD,spread:tD,toFormData:nD,AxiosHeaders:rD,HttpStatusCode:sD,formToJSON:iD,getAdapter:oD,mergeConfig:aD}=ct,CA=()=>{};var dv={};const q0=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},PA=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[s++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},H0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,y=f?n[o+2]:0,v=a>>2,E=(a&3)<<4|d>>4;let T=(d&15)<<2|y>>6,F=y&63;f||(F=64,u||(T=64)),s.push(t[v],t[E],t[T],t[F])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(q0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):PA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||y==null||E==null)throw new kA;const T=a<<2|d>>4;if(s.push(T),y!==64){const F=d<<4&240|y>>2;if(s.push(F),E!==64){const P=y<<6&192|E;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xA=function(n){const e=q0(n);return H0.encodeByteArray(e,!0)},Dc=function(n){return xA(n).replace(/\./g,"")},W0=function(n){try{return H0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const NA=()=>bA().__FIREBASE_DEFAULTS__,OA=()=>{if(typeof process>"u"||typeof dv>"u")return;const n=dv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},DA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&W0(n[1]);return e&&JSON.parse(e)},oh=()=>{try{return CA()||NA()||OA()||DA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},K0=n=>{var e,t;return(t=(e=oh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Q0=n=>{const e=K0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},G0=()=>{var n;return(n=oh())===null||n===void 0?void 0:n.config},J0=n=>{var e;return(e=oh())===null||e===void 0?void 0:e[`_${n}`]};class LA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Oi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sp(n){return(await fetch(n,{credentials:"include"})).ok}function X0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Dc(JSON.stringify(t)),Dc(JSON.stringify(u)),""].join(".")}const dl={};function VA(){const n={prod:[],emulator:[]};for(const e of Object.keys(dl))dl[e]?n.emulator.push(e):n.prod.push(e);return n}function MA(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let fv=!1;function Rp(n,e){if(typeof window>"u"||typeof document>"u"||!Oi(window.location.host)||dl[n]===e||dl[n]||fv)return;dl[n]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",a=VA().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,F){T.setAttribute("width","24"),T.setAttribute("id",F),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{fv=!0,u()},T}function v(T,F){T.setAttribute("id",F),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=MA(s),F=t("text"),P=document.getElementById(F)||document.createElement("span"),O=t("learnmore"),k=document.getElementById(O)||document.createElement("a"),Z=t("preprendIcon"),Q=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const G=T.element;d(G),v(k,O);const X=y();f(Q,Z),G.append(Q,P,k,X),document.body.appendChild(G)}a?(P.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function UA(){var n;const e=(n=oh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $A(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qA(){return!UA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HA(){try{return typeof indexedDB=="object"}catch{return!1}}function WA(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}const KA="FirebaseError";class Ir extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=KA,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?QA(a,s):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Ir(o,d,s)}}function QA(n,e){return n.replace(GA,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const GA=/\{\$([^}]+)}/g;function JA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ki(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const a=n[o],u=e[o];if(pv(a)&&pv(u)){if(!ki(a,u))return!1}else if(a!==u)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function pv(n){return n!==null&&typeof n=="object"}function Vl(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function al(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,a]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function ll(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function XA(n,e){const t=new YA(n,e);return t.subscribe.bind(t)}class YA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");ZA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=lf),o.error===void 0&&(o.error=lf),o.complete===void 0&&(o.complete=lf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function lf(){}function fn(n){return n&&n._delegate?n._delegate:n}class Ls{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _i="[DEFAULT]";class eC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new LA;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nC(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});s.resolve(a)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);s===d&&u.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),a=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tC(n){return n===_i?void 0:n}function nC(n){return n.instantiationMode==="EAGER"}class rC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(be||(be={}));const sC={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},iC=be.INFO,oC={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},aC=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=oC[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=iC,this._logHandler=aC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const lC=(n,e)=>e.some(t=>n instanceof t);let mv,gv;function uC(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cC(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y0=new WeakMap,Lf=new WeakMap,Z0=new WeakMap,uf=new WeakMap,Cp=new WeakMap;function hC(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(bs(n.result)),o()},u=()=>{s(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Y0.set(t,n)}).catch(()=>{}),Cp.set(e,n),e}function dC(n){if(Lf.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Lf.set(n,e)}let Vf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Lf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Z0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function fC(n){Vf=n(Vf)}function pC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(cf(this),e,...t);return Z0.set(s,e.sort?e.sort():[e]),bs(s)}:cC().includes(n)?function(...e){return n.apply(cf(this),e),bs(Y0.get(this))}:function(...e){return bs(n.apply(cf(this),e))}}function mC(n){return typeof n=="function"?pC(n):(n instanceof IDBTransaction&&dC(n),lC(n,uC())?new Proxy(n,Vf):n)}function bs(n){if(n instanceof IDBRequest)return hC(n);if(uf.has(n))return uf.get(n);const e=mC(n);return e!==n&&(uf.set(n,e),Cp.set(e,n)),e}const cf=n=>Cp.get(n);function gC(n,e,{blocked:t,upgrade:s,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=bs(u);return s&&u.addEventListener("upgradeneeded",f=>{s(bs(u.result),f.oldVersion,f.newVersion,bs(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const yC=["get","getKey","getAll","getAllKeys","count"],vC=["put","add","delete","clear"],hf=new Map;function yv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hf.get(e))return hf.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=vC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yC.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let y=f.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&f.done]))[0]};return hf.set(e,a),a}fC(n=>({...n,get:(e,t,s)=>yv(e,t)||n.get(e,t,s),has:(e,t)=>!!yv(e,t)||n.has(e,t)}));class _C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function wC(n){const e=n.getComponent();return e?.type==="VERSION"}const Mf="@firebase/app",vv="0.13.2";const Hr=new Ap("@firebase/app"),EC="@firebase/app-compat",TC="@firebase/analytics-compat",IC="@firebase/analytics",SC="@firebase/app-check-compat",RC="@firebase/app-check",AC="@firebase/auth",CC="@firebase/auth-compat",PC="@firebase/database",kC="@firebase/data-connect",xC="@firebase/database-compat",bC="@firebase/functions",NC="@firebase/functions-compat",OC="@firebase/installations",DC="@firebase/installations-compat",LC="@firebase/messaging",VC="@firebase/messaging-compat",MC="@firebase/performance",FC="@firebase/performance-compat",UC="@firebase/remote-config",jC="@firebase/remote-config-compat",BC="@firebase/storage",zC="@firebase/storage-compat",$C="@firebase/firestore",qC="@firebase/ai",HC="@firebase/firestore-compat",WC="firebase",KC="11.10.0";const Ff="[DEFAULT]",QC={[Mf]:"fire-core",[EC]:"fire-core-compat",[IC]:"fire-analytics",[TC]:"fire-analytics-compat",[RC]:"fire-app-check",[SC]:"fire-app-check-compat",[AC]:"fire-auth",[CC]:"fire-auth-compat",[PC]:"fire-rtdb",[kC]:"fire-data-connect",[xC]:"fire-rtdb-compat",[bC]:"fire-fn",[NC]:"fire-fn-compat",[OC]:"fire-iid",[DC]:"fire-iid-compat",[LC]:"fire-fcm",[VC]:"fire-fcm-compat",[MC]:"fire-perf",[FC]:"fire-perf-compat",[UC]:"fire-rc",[jC]:"fire-rc-compat",[BC]:"fire-gcs",[zC]:"fire-gcs-compat",[$C]:"fire-fst",[HC]:"fire-fst-compat",[qC]:"fire-vertex","fire-js":"fire-js",[WC]:"fire-js-all"};const El=new Map,GC=new Map,Uf=new Map;function _v(n,e){try{n.container.addComponent(e)}catch(t){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xi(n){const e=n.name;if(Uf.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;Uf.set(e,n);for(const t of El.values())_v(t,n);for(const t of GC.values())_v(t,n);return!0}function ah(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Nn(n){return n==null?!1:n.settings!==void 0}const JC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Ll("app","Firebase",JC);class XC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}const Di=KC;function ew(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ff,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Ns.create("bad-app-name",{appName:String(o)});if(t||(t=G0()),!t)throw Ns.create("no-options");const a=El.get(o);if(a){if(ki(t,a.options)&&ki(s,a.config))return a;throw Ns.create("duplicate-app",{appName:o})}const u=new rC(o);for(const f of Uf.values())u.addComponent(f);const d=new XC(t,s,u);return El.set(o,d),d}function lh(n=Ff){const e=El.get(n);if(!e&&n===Ff&&G0())return ew();if(!e)throw Ns.create("no-app",{appName:n});return e}function YC(){return Array.from(El.values())}function mr(n,e,t){var s;let o=(s=QC[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(d.join(" "));return}xi(new Ls(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const ZC="firebase-heartbeat-database",eP=1,Tl="firebase-heartbeat-store";let df=null;function tw(){return df||(df=gC(ZC,eP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Tl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ns.create("idb-open",{originalErrorMessage:n.message})})),df}async function tP(n){try{const t=(await tw()).transaction(Tl),s=await t.objectStore(Tl).get(nw(n));return await t.done,s}catch(e){if(e instanceof Ir)Hr.warn(e.message);else{const t=Ns.create("idb-get",{originalErrorMessage:e?.message});Hr.warn(t.message)}}}async function wv(n,e){try{const s=(await tw()).transaction(Tl,"readwrite");await s.objectStore(Tl).put(e,nw(n)),await s.done}catch(t){if(t instanceof Ir)Hr.warn(t.message);else{const s=Ns.create("idb-set",{originalErrorMessage:t?.message});Hr.warn(s.message)}}}function nw(n){return`${n.name}!${n.options.appId}`}const nP=1024,rP=30;class sP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oP(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ev();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>rP){const u=aP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Hr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ev(),{heartbeatsToSend:s,unsentEntries:o}=iP(this._heartbeatsCache.heartbeats),a=Dc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Hr.warn(t),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function iP(n,e=nP){const t=[];let s=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Tv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Tv(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class oP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HA()?WA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tP(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return wv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return wv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Tv(n){return Dc(JSON.stringify({version:2,heartbeats:n})).length}function aP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function lP(n){xi(new Ls("platform-logger",e=>new _C(e),"PRIVATE")),xi(new Ls("heartbeat",e=>new sP(e),"PRIVATE")),mr(Mf,vv,n),mr(Mf,vv,"esm2017"),mr("fire-js","")}lP("");function Pp(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function rw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uP=rw,sw=new Ll("auth","Firebase",rw());const Lc=new Ap("@firebase/auth");function cP(n,...e){Lc.logLevel<=be.WARN&&Lc.warn(`Auth (${Di}): ${n}`,...e)}function wc(n,...e){Lc.logLevel<=be.ERROR&&Lc.error(`Auth (${Di}): ${n}`,...e)}function Xn(n,...e){throw kp(n,...e)}function gr(n,...e){return kp(n,...e)}function iw(n,e,t){const s=Object.assign(Object.assign({},uP()),{[e]:t});return new Ll("auth","Firebase",s).create(e,{appName:n.name})}function Os(n){return iw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kp(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return sw.create(n,...e)}function Ee(n,e,...t){if(!n)throw kp(e,...t)}function $r(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wc(e),new Error(e)}function Wr(n,e){n||$r(e)}function jf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function hP(){return Iv()==="http:"||Iv()==="https:"}function Iv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function dP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hP()||BA()||"connection"in navigator)?navigator.onLine:!0}function fP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Ml{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wr(t>e,"Short delay should be less than long delay!"),this.isMobile=FA()||zA()}get(){return dP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xp(n,e){Wr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class ow{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gP=new Ml(3e4,6e4);function Li(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function qs(n,e,t,s,o={}){return aw(n,o,async()=>{let a={},u={};s&&(e==="GET"?u=s:a={body:JSON.stringify(s)});const d=Vl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:f},a);return jA()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Oi(n.emulatorConfig.host)&&(y.credentials="include"),ow.fetch()(await lw(n,n.config.apiHost,t,d),y)})}async function aw(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},pP),e);try{const o=new vP(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw uc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,y]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw uc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw uc(n,"user-disabled",u);const v=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw iw(n,v,y);Xn(n,v)}}catch(o){if(o instanceof Ir)throw o;Xn(n,"network-request-failed",{message:String(o)})}}async function uh(n,e,t,s,o={}){const a=await qs(n,e,t,s,o);return"mfaPendingCredential"in a&&Xn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function lw(n,e,t,s){const o=`${e}${t}?${s}`,a=n,u=a.config.emulator?xp(n.config,o):`${n.config.apiScheme}://${o}`;return mP.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function yP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(gr(this.auth,"network-request-failed")),gP.get())})}}function uc(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=gr(n,e,s);return o.customData._tokenResponse=t,o}function Sv(n){return n!==void 0&&n.enterprise!==void 0}class _P{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wP(n,e){return qs(n,"GET","/v2/recaptchaConfig",Li(n,e))}async function EP(n,e){return qs(n,"POST","/v1/accounts:delete",e)}async function Vc(n,e){return qs(n,"POST","/v1/accounts:lookup",e)}function fl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function uw(n,e=!1){return fn(n).getIdToken(e)}async function TP(n,e=!1){const t=fn(n),s=await t.getIdToken(e),o=bp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:s,authTime:fl(ff(o.auth_time)),issuedAtTime:fl(ff(o.iat)),expirationTime:fl(ff(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function ff(n){return Number(n)*1e3}function bp(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=W0(t);return o?JSON.parse(o):(wc("Failed to decode base64 JWT payload"),null)}catch(o){return wc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Rv(n){const e=bp(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Il(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ir&&IP(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function IP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class SP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mc(n){var e;const t=n.auth,s=await n.getIdToken(),o=await Il(n,Vc(t,{idToken:s}));Ee(o?.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?cw(a.providerUserInfo):[],d=AP(n.providerData,u),f=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!d?.length,v=f?y:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Bf(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function RP(n){const e=fn(n);await Mc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AP(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function cw(n){return n.map(e=>{var{providerId:t}=e,s=Pp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}async function CP(n,e){const t=await aw(n,{},async()=>{const s=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await lw(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:s};return n.emulatorConfig&&Oi(n.emulatorConfig.host)&&(f.credentials="include"),ow.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function PP(n,e){return qs(n,"POST","/v2/accounts:revokeToken",Li(n,e))}class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Rv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:a}=await CP(e,t);this.updateTokensAndExpiration(s,o,Number(a))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:a}=t,u=new Vo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ee(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return $r("not implemented")}}function Es(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Gn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,a=Pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Bf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Il(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TP(this,e)}reload(){return RP(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Mc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await Il(this,EP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,a,u,d,f,y,v;const E=(s=t.displayName)!==null&&s!==void 0?s:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,F=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,P=(u=t.photoURL)!==null&&u!==void 0?u:void 0,O=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,Z=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Q=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:G,emailVerified:X,isAnonymous:de,providerData:ge,stsTokenManager:x}=t;Ee(G&&x,e,"internal-error");const S=Vo.fromJSON(this.name,x);Ee(typeof G=="string",e,"internal-error"),Es(E,e.name),Es(T,e.name),Ee(typeof X=="boolean",e,"internal-error"),Ee(typeof de=="boolean",e,"internal-error"),Es(F,e.name),Es(P,e.name),Es(O,e.name),Es(k,e.name),Es(Z,e.name),Es(Q,e.name);const A=new Gn({uid:G,auth:e,email:T,emailVerified:X,displayName:E,isAnonymous:de,photoURL:P,phoneNumber:F,tenantId:O,stsTokenManager:S,createdAt:Z,lastLoginAt:Q});return ge&&Array.isArray(ge)&&(A.providerData=ge.map(b=>Object.assign({},b))),k&&(A._redirectEventId=k),A}static async _fromIdTokenResponse(e,t,s=!1){const o=new Vo;o.updateFromServerResponse(t);const a=new Gn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Mc(a),a}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?cw(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,d=new Vo;d.updateFromIdToken(s);const f=new Gn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Bf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,y),f}}const Av=new Map;function qr(n){Wr(n instanceof Function,"Expected a class definition");let e=Av.get(n);return e?(Wr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Av.set(n,e),e)}class hw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}hw.type="NONE";const Cv=hw;function Ec(n,e,t){return`firebase:${n}:${e}:${t}`}class Mo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:a}=this.auth;this.fullUserKey=Ec(this.userKey,o.apiKey,a),this.fullPersistenceKey=Ec("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Vc(this.auth,{idToken:e}).catch(()=>{});return t?Gn._fromGetAccountInfoResponse(this.auth,t,e):null}return Gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Mo(qr(Cv),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||qr(Cv);const u=Ec(s,e.config.apiKey,e.name);let d=null;for(const y of t)try{const v=await y._get(u);if(v){let E;if(typeof v=="string"){const T=await Vc(e,{idToken:v}).catch(()=>{});if(!T)break;E=await Gn._fromGetAccountInfoResponse(e,T,v)}else E=Gn._fromJSON(e,v);y!==a&&(d=E),a=y;break}}catch{}const f=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Mo(a,e,s):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(u)}catch{}})),new Mo(a,e,s))}}function Pv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yw(e))return"Blackberry";if(vw(e))return"Webos";if(fw(e))return"Safari";if((e.includes("chrome/")||pw(e))&&!e.includes("edge/"))return"Chrome";if(gw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function dw(n=Wt()){return/firefox\//i.test(n)}function fw(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pw(n=Wt()){return/crios\//i.test(n)}function mw(n=Wt()){return/iemobile/i.test(n)}function gw(n=Wt()){return/android/i.test(n)}function yw(n=Wt()){return/blackberry/i.test(n)}function vw(n=Wt()){return/webos/i.test(n)}function Np(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kP(n=Wt()){var e;return Np(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xP(){return $A()&&document.documentMode===10}function _w(n=Wt()){return Np(n)||gw(n)||vw(n)||yw(n)||/windows phone/i.test(n)||mw(n)}function ww(n,e=[]){let t;switch(n){case"Browser":t=Pv(Wt());break;case"Worker":t=`${Pv(Wt())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Di}/${s}`}class bP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function NP(n,e={}){return qs(n,"GET","/v2/passwordPolicy",Li(n,e))}const OP=6;class DP{constructor(e){var t,s,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:OP,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(s=f.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class LP{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kv(this),this.idTokenSubscription=new kv(this),this.beforeStateQueue=new bP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qr(t)),this._initializationPromise=this.queue(async()=>{var s,o,a;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vc(this,{idToken:e}),s=await Gn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Nn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o?._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&f?.user&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Os(this));const t=e?fn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NP(this),t=new DP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ll("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await PP(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,s,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ww(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&cP(`Error while retrieving App Check token: ${t.error}`),t?.token}}function sa(n){return fn(n)}class kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=XA(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VP(n){ch=n}function Ew(n){return ch.loadJS(n)}function MP(){return ch.recaptchaEnterpriseScript}function FP(){return ch.gapiScript}function UP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class jP{constructor(){this.enterprise=new BP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class BP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zP="recaptcha-enterprise",Tw="NO_RECAPTCHA";class $P{constructor(e){this.type=zP,this.auth=sa(e)}async verify(e="verify",t=!1){async function s(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{wP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new _P(f);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,u(y.siteKey)}}).catch(f=>{d(f)})})}function o(a,u,d){const f=window.grecaptcha;Sv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(y=>{u(y)}).catch(()=>{u(Tw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jP().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{s(this.auth).then(d=>{if(!t&&Sv(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=MP();f.length!==0&&(f+=d),Ew(f).then(()=>{o(d,a,u)}).catch(y=>{u(y)})}}).catch(d=>{u(d)})})}}async function xv(n,e,t,s=!1,o=!1){const a=new $P(n);let u;if(o)u=Tw;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function bv(n,e,t,s,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await xv(n,e,t,t==="getOobCode");return s(n,u)}else return s(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await xv(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(u)})}function qP(n,e){const t=ah(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(ki(a,e??{}))return o;Xn(o,"already-initialized")}return t.initialize({options:e})}function HP(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(qr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function WP(n,e,t){const s=sa(n);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,a=Iw(e),{host:u,port:d}=KP(e),f=d===null?"":`:${d}`,y={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ki(y,s.config.emulator)&&ki(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Oi(u)?(Sp(`${a}//${u}${f}`),Rp("Auth",!0)):QP()}function Iw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function KP(n){const e=Iw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const a=o[1];return{host:a,port:Nv(s.substr(a.length+1))}}else{const[a,u]=s.split(":");return{host:a,port:Nv(u)}}}function Nv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function QP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Op{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,t){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function GP(n,e){return qs(n,"POST","/v1/accounts:signUp",e)}async function JP(n,e){return uh(n,"POST","/v1/accounts:signInWithPassword",Li(n,e))}async function XP(n,e){return uh(n,"POST","/v1/accounts:signInWithEmailLink",Li(n,e))}async function YP(n,e){return uh(n,"POST","/v1/accounts:signInWithEmailLink",Li(n,e))}class Sl extends Op{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Sl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Sl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bv(e,t,"signInWithPassword",JP);case"emailLink":return XP(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bv(e,s,"signUpPassword",GP);case"emailLink":return YP(e,{idToken:t,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Fo(n,e){return uh(n,"POST","/v1/accounts:signInWithIdp",Li(n,e))}const ZP="http://localhost";class bi extends Op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,a=Pp(t,["providerId","signInMethod"]);if(!s||!o)return null;const u=new bi(s,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Fo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Fo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fo(e,t)}buildRequest(){const e={requestUri:ZP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vl(t)}return e}}function ek(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tk(n){const e=al(ll(n)).link,t=e?al(ll(e)).deep_link_id:null,s=al(ll(n)).deep_link_id;return(s?al(ll(s)).link:null)||s||t||e||n}class Dp{constructor(e){var t,s,o,a,u,d;const f=al(ll(e)),y=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(s=f.oobCode)!==null&&s!==void 0?s:null,E=ek((o=f.mode)!==null&&o!==void 0?o:null);Ee(y&&v&&E,"argument-error"),this.apiKey=y,this.operation=E,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=tk(e);try{return new Dp(t)}catch{return null}}}class ia{constructor(){this.providerId=ia.PROVIDER_ID}static credential(e,t){return Sl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Dp.parseLink(t);return Ee(s,"argument-error"),Sl._fromEmailAndCode(e,s.code,s.tenantId)}}ia.PROVIDER_ID="password";ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Sw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fl extends Sw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ts extends Fl{constructor(){super("facebook.com")}static credential(e){return bi._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";class Is extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bi._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Is.credential(t,s)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";class Ss extends Fl{constructor(){super("github.com")}static credential(e){return bi._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";class Rs extends Fl{constructor(){super("twitter.com")}static credential(e,t){return bi._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Rs.credential(t,s)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";class Wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const a=await Gn._fromIdTokenResponse(e,s,o),u=Ov(s);return new Wo({user:a,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Ov(s);return new Wo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Ov(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Fc extends Ir{constructor(e,t,s,o){var a;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Fc(e,t,s,o)}}function Rw(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Fc._fromErrorAndOperation(n,a,e,s):a})}async function nk(n,e,t=!1){const s=await Il(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Wo._forOperation(n,"link",s)}async function rk(n,e,t=!1){const{auth:s}=n;if(Nn(s.app))return Promise.reject(Os(s));const o="reauthenticate";try{const a=await Il(n,Rw(s,o,e,n),t);Ee(a.idToken,s,"internal-error");const u=bp(a.idToken);Ee(u,s,"internal-error");const{sub:d}=u;return Ee(n.uid===d,s,"user-mismatch"),Wo._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Xn(s,"user-mismatch"),a}}async function Aw(n,e,t=!1){if(Nn(n.app))return Promise.reject(Os(n));const s="signIn",o=await Rw(n,s,e),a=await Wo._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(a.user),a}async function sk(n,e){return Aw(sa(n),e)}async function ik(n){const e=sa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ok(n,e,t){return Nn(n.app)?Promise.reject(Os(n)):sk(fn(n),ia.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ik(n),s})}function Cw(n,e,t,s){return fn(n).onIdTokenChanged(e,t,s)}function ak(n,e,t){return fn(n).beforeAuthStateChanged(e,t)}function Pw(n,e,t,s){return fn(n).onAuthStateChanged(e,t,s)}const Uc="__sak";class kw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uc,"1"),this.storage.removeItem(Uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const lk=1e3,uk=10;class xw extends kw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_w(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},a=this.storage.getItem(s);xP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uk):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},lk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xw.type="LOCAL";const ck=xw;class bw extends kw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bw.type="SESSION";const Nw=bw;function hk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(u).map(async y=>y(t.origin,a)),f=await hk(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function Lp(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class dk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const y=Lp("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function yr(){return window}function fk(n){yr().location.href=n}function Ow(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function pk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mk(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function gk(){return Ow()?self:null}const Dw="firebaseLocalStorageDb",yk=1,jc="firebaseLocalStorage",Lw="fbase_key";class Ul{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dh(n,e){return n.transaction([jc],e?"readwrite":"readonly").objectStore(jc)}function vk(){const n=indexedDB.deleteDatabase(Dw);return new Ul(n).toPromise()}function zf(){const n=indexedDB.open(Dw,yk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(jc,{keyPath:Lw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(jc)?e(s):(s.close(),await vk(),e(await zf()))})})}async function Dv(n,e,t){const s=dh(n,!0).put({[Lw]:e,value:t});return new Ul(s).toPromise()}async function _k(n,e){const t=dh(n,!1).get(e),s=await new Ul(t).toPromise();return s===void 0?null:s.value}function Lv(n,e){const t=dh(n,!0).delete(e);return new Ul(t).toPromise()}const wk=800,Ek=3;class Vw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>Ek)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(gk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await pk(),!this.activeServiceWorker)return;this.sender=new dk(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zf();return await Dv(e,Uc,"1"),await Lv(e,Uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Dv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>_k(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Lv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=dh(o,!1).getAll();return new Ul(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vw.type="LOCAL";const Tk=Vw;new Ml(3e4,6e4);function Ik(n,e){return e?qr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Vp extends Op{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Sk(n){return Aw(n.auth,new Vp(n),n.bypassAuthState)}function Rk(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),rk(t,new Vp(n),n.bypassAuthState)}async function Ak(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),nk(t,new Vp(n),n.bypassAuthState)}class Mw{constructor(e,t,s,o,a=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:s,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sk;case"linkViaPopup":case"linkViaRedirect":return Ak;case"reauthViaPopup":case"reauthViaRedirect":return Rk;default:Xn(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ck=new Ml(2e3,1e4);class Lo extends Mw{constructor(e,t,s,o,a){super(e,t,o,a),this.provider=s,this.authWindow=null,this.pollId=null,Lo.currentPopupAction&&Lo.currentPopupAction.cancel(),Lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ck.get())};e()}}Lo.currentPopupAction=null;const Pk="pendingRedirect",Tc=new Map;class kk extends Mw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Tc.get(this.auth._key());if(!e){try{const s=await xk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Tc.set(this.auth._key(),e)}return this.bypassAuthState||Tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xk(n,e){const t=Ok(e),s=Nk(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function bk(n,e){Tc.set(n._key(),e)}function Nk(n){return qr(n._redirectPersistence)}function Ok(n){return Ec(Pk,n.config.apiKey,n.name)}async function Dk(n,e,t=!1){if(Nn(n.app))return Promise.reject(Os(n));const s=sa(n),o=Ik(s,e),u=await new kk(s,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const Lk=600*1e3;class Vk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Mk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Fw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(gr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vv(e))}saveEventToCache(e){this.cachedEventUids.add(Vv(e)),this.lastProcessedEventTime=Date.now()}}function Vv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Fw({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Mk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fw(n);default:return!1}}async function Fk(n,e={}){return qs(n,"GET","/v1/projects",e)}const Uk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jk=/^https?/;async function Bk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Fk(n);for(const t of e)try{if(zk(t))return}catch{}Xn(n,"unauthorized-domain")}function zk(n){const e=jf(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!jk.test(t))return!1;if(Uk.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const $k=new Ml(3e4,6e4);function Mv(){const n=yr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function qk(n){return new Promise((e,t)=>{var s,o,a;function u(){Mv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mv(),t(gr(n,"network-request-failed"))},timeout:$k.get()})}if(!((o=(s=yr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=yr().gapi)===null||a===void 0)&&a.load)u();else{const d=UP("iframefcb");return yr()[d]=()=>{gapi.load?u():t(gr(n,"network-request-failed"))},Ew(`${FP()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Ic=null,e})}let Ic=null;function Hk(n){return Ic=Ic||qk(n),Ic}const Wk=new Ml(5e3,15e3),Kk="__/auth/iframe",Qk="emulator/auth/iframe",Gk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xk(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?xp(e,Qk):`https://${n.config.authDomain}/${Kk}`,s={apiKey:e.apiKey,appName:n.name,v:Di},o=Jk.get(n.config.apiHost);o&&(s.eid=o);const a=n._getFrameworks();return a.length&&(s.fw=a.join(",")),`${t}?${Vl(s).slice(1)}`}async function Yk(n){const e=await Hk(n),t=yr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:Xk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gk,dontclear:!0},s=>new Promise(async(o,a)=>{await s.restyle({setHideOnLeave:!1});const u=gr(n,"network-request-failed"),d=yr().setTimeout(()=>{a(u)},Wk.get());function f(){yr().clearTimeout(d),o(s)}s.ping(f).then(f,()=>{a(u)})}))}const Zk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ex=500,tx=600,nx="_blank",rx="http://localhost";class Fv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sx(n,e,t,s=ex,o=tx){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const f=Object.assign(Object.assign({},Zk),{width:s.toString(),height:o.toString(),top:a,left:u}),y=Wt().toLowerCase();t&&(d=pw(y)?nx:t),dw(y)&&(e=e||rx,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[F,P])=>`${T}${F}=${P},`,"");if(kP(y)&&d!=="_self")return ix(e||"",d),new Fv(null);const E=window.open(e||"",d,v);Ee(E,n,"popup-blocked");try{E.focus()}catch{}return new Fv(E)}function ix(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const ox="__/auth/handler",ax="emulator/auth/handler",lx=encodeURIComponent("fac");async function Uv(n,e,t,s,o,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Di,eventId:o};if(e instanceof Sw){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",JA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof Fl){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),y=f?`#${lx}=${encodeURIComponent(f)}`:"";return`${ux(n)}?${Vl(d).slice(1)}${y}`}function ux({config:n}){return n.emulator?xp(n,ax):`https://${n.authDomain}/${ox}`}const pf="webStorageSupport";class cx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nw,this._completeRedirectFn=Dk,this._overrideRedirectResult=bk}async _openPopup(e,t,s,o){var a;Wr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Uv(e,t,s,jf(),o);return sx(e,u,Lp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const a=await Uv(e,t,s,jf(),o);return fk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Wr(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await Yk(e),s=new Vk(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pf,{type:pf},o=>{var a;const u=(a=o?.[0])===null||a===void 0?void 0:a[pf];u!==void 0&&t(!!u),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Bk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _w()||fw()||Np()}}const hx=cx;var jv="@firebase/auth",Bv="1.10.8";class dx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function px(n){xi(new Ls("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ww(n)},y=new LP(s,o,a,f);return HP(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),xi(new Ls("auth-internal",e=>{const t=sa(e.getProvider("auth").getImmediate());return(s=>new dx(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(jv,Bv,fx(n)),mr(jv,Bv,"esm2017")}const mx=300,gx=J0("authIdTokenMaxAge")||mx;let zv=null;const yx=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>gx)return;const o=t?.token;zv!==o&&(zv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vx(n=lh()){const e=ah(n,"auth");if(e.isInitialized())return e.getImmediate();const t=qP(n,{popupRedirectResolver:hx,persistence:[Tk,ck,Nw]}),s=J0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const u=yx(a.toString());ak(t,u,()=>u(t.currentUser)),Cw(t,d=>u(d))}}const o=K0("auth");return o&&WP(t,`http://${o}`),t}function _x(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}VP({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const a=gr("internal-error");a.customData=o,t(a)},s.type="text/javascript",s.charset="UTF-8",_x().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});px("Browser");const Mp="/api".trim?.()||"/api".trim?.()||"/api",Bc="vivare-oficial",Uw=j.createContext({tenantId:Bc,setTenantId:()=>{}});let $f=Bc;const jw=()=>$f;function wx({children:n}){const[e,t]=j.useState(Bc),s=j.useCallback(a=>{$f=a||Bc,t($f)},[]),o=j.useMemo(()=>({tenantId:e,setTenantId:s}),[e,s]);return D.jsx(Uw.Provider,{value:o,children:n})}function lD(){return j.useContext(Uw)}var Ex="firebase",Tx="11.10.0";mr(Ex,Tx,"app");var $v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ds,Bw;(function(){var n;function e(x,S){function A(){}A.prototype=S.prototype,x.D=S.prototype,x.prototype=new A,x.prototype.constructor=x,x.C=function(b,L,U){for(var C=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)C[Be-2]=arguments[Be];return S.prototype[L].apply(b,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,A){A||(A=0);var b=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)b[L]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(L=0;16>L;++L)b[L]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=x.g[0],A=x.g[1],L=x.g[2];var U=x.g[3],C=S+(U^A&(L^U))+b[0]+3614090360&4294967295;S=A+(C<<7&4294967295|C>>>25),C=U+(L^S&(A^L))+b[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=L+(A^U&(S^A))+b[2]+606105819&4294967295,L=U+(C<<17&4294967295|C>>>15),C=A+(S^L&(U^S))+b[3]+3250441966&4294967295,A=L+(C<<22&4294967295|C>>>10),C=S+(U^A&(L^U))+b[4]+4118548399&4294967295,S=A+(C<<7&4294967295|C>>>25),C=U+(L^S&(A^L))+b[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=L+(A^U&(S^A))+b[6]+2821735955&4294967295,L=U+(C<<17&4294967295|C>>>15),C=A+(S^L&(U^S))+b[7]+4249261313&4294967295,A=L+(C<<22&4294967295|C>>>10),C=S+(U^A&(L^U))+b[8]+1770035416&4294967295,S=A+(C<<7&4294967295|C>>>25),C=U+(L^S&(A^L))+b[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=L+(A^U&(S^A))+b[10]+4294925233&4294967295,L=U+(C<<17&4294967295|C>>>15),C=A+(S^L&(U^S))+b[11]+2304563134&4294967295,A=L+(C<<22&4294967295|C>>>10),C=S+(U^A&(L^U))+b[12]+1804603682&4294967295,S=A+(C<<7&4294967295|C>>>25),C=U+(L^S&(A^L))+b[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=L+(A^U&(S^A))+b[14]+2792965006&4294967295,L=U+(C<<17&4294967295|C>>>15),C=A+(S^L&(U^S))+b[15]+1236535329&4294967295,A=L+(C<<22&4294967295|C>>>10),C=S+(L^U&(A^L))+b[1]+4129170786&4294967295,S=A+(C<<5&4294967295|C>>>27),C=U+(A^L&(S^A))+b[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=L+(S^A&(U^S))+b[11]+643717713&4294967295,L=U+(C<<14&4294967295|C>>>18),C=A+(U^S&(L^U))+b[0]+3921069994&4294967295,A=L+(C<<20&4294967295|C>>>12),C=S+(L^U&(A^L))+b[5]+3593408605&4294967295,S=A+(C<<5&4294967295|C>>>27),C=U+(A^L&(S^A))+b[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=L+(S^A&(U^S))+b[15]+3634488961&4294967295,L=U+(C<<14&4294967295|C>>>18),C=A+(U^S&(L^U))+b[4]+3889429448&4294967295,A=L+(C<<20&4294967295|C>>>12),C=S+(L^U&(A^L))+b[9]+568446438&4294967295,S=A+(C<<5&4294967295|C>>>27),C=U+(A^L&(S^A))+b[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=L+(S^A&(U^S))+b[3]+4107603335&4294967295,L=U+(C<<14&4294967295|C>>>18),C=A+(U^S&(L^U))+b[8]+1163531501&4294967295,A=L+(C<<20&4294967295|C>>>12),C=S+(L^U&(A^L))+b[13]+2850285829&4294967295,S=A+(C<<5&4294967295|C>>>27),C=U+(A^L&(S^A))+b[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=L+(S^A&(U^S))+b[7]+1735328473&4294967295,L=U+(C<<14&4294967295|C>>>18),C=A+(U^S&(L^U))+b[12]+2368359562&4294967295,A=L+(C<<20&4294967295|C>>>12),C=S+(A^L^U)+b[5]+4294588738&4294967295,S=A+(C<<4&4294967295|C>>>28),C=U+(S^A^L)+b[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=L+(U^S^A)+b[11]+1839030562&4294967295,L=U+(C<<16&4294967295|C>>>16),C=A+(L^U^S)+b[14]+4259657740&4294967295,A=L+(C<<23&4294967295|C>>>9),C=S+(A^L^U)+b[1]+2763975236&4294967295,S=A+(C<<4&4294967295|C>>>28),C=U+(S^A^L)+b[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=L+(U^S^A)+b[7]+4139469664&4294967295,L=U+(C<<16&4294967295|C>>>16),C=A+(L^U^S)+b[10]+3200236656&4294967295,A=L+(C<<23&4294967295|C>>>9),C=S+(A^L^U)+b[13]+681279174&4294967295,S=A+(C<<4&4294967295|C>>>28),C=U+(S^A^L)+b[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=L+(U^S^A)+b[3]+3572445317&4294967295,L=U+(C<<16&4294967295|C>>>16),C=A+(L^U^S)+b[6]+76029189&4294967295,A=L+(C<<23&4294967295|C>>>9),C=S+(A^L^U)+b[9]+3654602809&4294967295,S=A+(C<<4&4294967295|C>>>28),C=U+(S^A^L)+b[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=L+(U^S^A)+b[15]+530742520&4294967295,L=U+(C<<16&4294967295|C>>>16),C=A+(L^U^S)+b[2]+3299628645&4294967295,A=L+(C<<23&4294967295|C>>>9),C=S+(L^(A|~U))+b[0]+4096336452&4294967295,S=A+(C<<6&4294967295|C>>>26),C=U+(A^(S|~L))+b[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=L+(S^(U|~A))+b[14]+2878612391&4294967295,L=U+(C<<15&4294967295|C>>>17),C=A+(U^(L|~S))+b[5]+4237533241&4294967295,A=L+(C<<21&4294967295|C>>>11),C=S+(L^(A|~U))+b[12]+1700485571&4294967295,S=A+(C<<6&4294967295|C>>>26),C=U+(A^(S|~L))+b[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=L+(S^(U|~A))+b[10]+4293915773&4294967295,L=U+(C<<15&4294967295|C>>>17),C=A+(U^(L|~S))+b[1]+2240044497&4294967295,A=L+(C<<21&4294967295|C>>>11),C=S+(L^(A|~U))+b[8]+1873313359&4294967295,S=A+(C<<6&4294967295|C>>>26),C=U+(A^(S|~L))+b[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=L+(S^(U|~A))+b[6]+2734768916&4294967295,L=U+(C<<15&4294967295|C>>>17),C=A+(U^(L|~S))+b[13]+1309151649&4294967295,A=L+(C<<21&4294967295|C>>>11),C=S+(L^(A|~U))+b[4]+4149444226&4294967295,S=A+(C<<6&4294967295|C>>>26),C=U+(A^(S|~L))+b[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=L+(S^(U|~A))+b[2]+718787259&4294967295,L=U+(C<<15&4294967295|C>>>17),C=A+(U^(L|~S))+b[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var A=S-this.blockSize,b=this.B,L=this.h,U=0;U<S;){if(L==0)for(;U<=A;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<S;)if(b[L++]=x.charCodeAt(U++),L==this.blockSize){o(this,b),L=0;break}}else for(;U<S;)if(b[L++]=x[U++],L==this.blockSize){o(this,b),L=0;break}}this.h=L,this.o+=S},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var A=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=A&255,A/=256;for(this.u(x),x=Array(16),S=A=0;4>S;++S)for(var b=0;32>b;b+=8)x[A++]=this.g[S]>>>b&255;return x};function a(x,S){var A=d;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=S(x)}function u(x,S){this.h=S;for(var A=[],b=!0,L=x.length-1;0<=L;L--){var U=x[L]|0;b&&U==S||(A[L]=U,b=!1)}this.g=A}var d={};function f(x){return-128<=x&&128>x?a(x,function(S){return new u([S|0],0>S?-1:0)}):new u([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return E;if(0>x)return k(y(-x));for(var S=[],A=1,b=0;x>=A;b++)S[b]=x/A|0,A*=4294967296;return new u(S,0)}function v(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return k(v(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(S,8)),b=E,L=0;L<x.length;L+=8){var U=Math.min(8,x.length-L),C=parseInt(x.substring(L,L+U),S);8>U?(U=y(Math.pow(S,U)),b=b.j(U).add(y(C))):(b=b.j(A),b=b.add(y(C)))}return b}var E=f(0),T=f(1),F=f(16777216);n=u.prototype,n.m=function(){if(O(this))return-k(this).m();for(var x=0,S=1,A=0;A<this.g.length;A++){var b=this.i(A);x+=(0<=b?b:4294967296+b)*S,S*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P(this))return"0";if(O(this))return"-"+k(this).toString(x);for(var S=y(Math.pow(x,6)),A=this,b="";;){var L=X(A,S).g;A=Z(A,L.j(S));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(x);if(A=L,P(A))return U+b;for(;6>U.length;)U="0"+U;b=U+b}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function P(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function O(x){return x.h==-1}n.l=function(x){return x=Z(this,x),O(x)?-1:P(x)?0:1};function k(x){for(var S=x.g.length,A=[],b=0;b<S;b++)A[b]=~x.g[b];return new u(A,~x.h).add(T)}n.abs=function(){return O(this)?k(this):this},n.add=function(x){for(var S=Math.max(this.g.length,x.g.length),A=[],b=0,L=0;L<=S;L++){var U=b+(this.i(L)&65535)+(x.i(L)&65535),C=(U>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);b=C>>>16,U&=65535,C&=65535,A[L]=C<<16|U}return new u(A,A[A.length-1]&-2147483648?-1:0)};function Z(x,S){return x.add(k(S))}n.j=function(x){if(P(this)||P(x))return E;if(O(this))return O(x)?k(this).j(k(x)):k(k(this).j(x));if(O(x))return k(this.j(k(x)));if(0>this.l(F)&&0>x.l(F))return y(this.m()*x.m());for(var S=this.g.length+x.g.length,A=[],b=0;b<2*S;b++)A[b]=0;for(b=0;b<this.g.length;b++)for(var L=0;L<x.g.length;L++){var U=this.i(b)>>>16,C=this.i(b)&65535,Be=x.i(L)>>>16,Ae=x.i(L)&65535;A[2*b+2*L]+=C*Ae,Q(A,2*b+2*L),A[2*b+2*L+1]+=U*Ae,Q(A,2*b+2*L+1),A[2*b+2*L+1]+=C*Be,Q(A,2*b+2*L+1),A[2*b+2*L+2]+=U*Be,Q(A,2*b+2*L+2)}for(b=0;b<S;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=S;b<2*S;b++)A[b]=0;return new u(A,0)};function Q(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function G(x,S){this.g=x,this.h=S}function X(x,S){if(P(S))throw Error("division by zero");if(P(x))return new G(E,E);if(O(x))return S=X(k(x),S),new G(k(S.g),k(S.h));if(O(S))return S=X(x,k(S)),new G(k(S.g),S.h);if(30<x.g.length){if(O(x)||O(S))throw Error("slowDivide_ only works with positive integers.");for(var A=T,b=S;0>=b.l(x);)A=de(A),b=de(b);var L=ge(A,1),U=ge(b,1);for(b=ge(b,2),A=ge(A,2);!P(b);){var C=U.add(b);0>=C.l(x)&&(L=L.add(A),U=C),b=ge(b,1),A=ge(A,1)}return S=Z(x,L.j(S)),new G(L,S)}for(L=E;0<=x.l(S);){for(A=Math.max(1,Math.floor(x.m()/S.m())),b=Math.ceil(Math.log(A)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),U=y(A),C=U.j(S);O(C)||0<C.l(x);)A-=b,U=y(A),C=U.j(S);P(U)&&(U=T),L=L.add(U),x=Z(x,C)}return new G(L,x)}n.A=function(x){return X(this,x).h},n.and=function(x){for(var S=Math.max(this.g.length,x.g.length),A=[],b=0;b<S;b++)A[b]=this.i(b)&x.i(b);return new u(A,this.h&x.h)},n.or=function(x){for(var S=Math.max(this.g.length,x.g.length),A=[],b=0;b<S;b++)A[b]=this.i(b)|x.i(b);return new u(A,this.h|x.h)},n.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),A=[],b=0;b<S;b++)A[b]=this.i(b)^x.i(b);return new u(A,this.h^x.h)};function de(x){for(var S=x.g.length+1,A=[],b=0;b<S;b++)A[b]=x.i(b)<<1|x.i(b-1)>>>31;return new u(A,x.h)}function ge(x,S){var A=S>>5;S%=32;for(var b=x.g.length-A,L=[],U=0;U<b;U++)L[U]=0<S?x.i(U+A)>>>S|x.i(U+A+1)<<32-S:x.i(U+A);return new u(L,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Bw=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=v,Ds=u}).apply(typeof $v<"u"?$v:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zw,ul,$w,Sc,qf,qw,Hw,Ww;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,m){if(m)e:{var _=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var B=c[I];if(!(B in _))break e;_=_[B]}c=c[c.length-1],I=_[c],m=m(I),m!=I&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}function a(c,m){c instanceof String&&(c+="");var _=0,I=!1,B={next:function(){if(!I&&_<c.length){var W=_++;return{value:m(W,c[W]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return a(this,function(m,_){return _})}});var u=u||{},d=this||self;function f(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function v(c,m,_){return c.call.apply(c.bind,arguments)}function E(c,m,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),c.apply(m,B)}}return function(){return c.apply(m,arguments)}}function T(c,m,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function F(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function P(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,B,W){for(var ie=Array(arguments.length-2),He=2;He<arguments.length;He++)ie[He-2]=arguments[He];return m.prototype[B].apply(I,ie)}}function O(c){const m=c.length;if(0<m){const _=Array(m);for(let I=0;I<m;I++)_[I]=c[I];return _}return[]}function k(c,m){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const B=c.length||0,W=I.length||0;c.length=B+W;for(let ie=0;ie<W;ie++)c[B+ie]=I[ie]}else c.push(I)}}class Z{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Q(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var de=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ge(c,m,_){for(const I in c)m.call(_,c[I],I,c)}function x(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function S(c){const m={};for(const _ in c)m[_]=c[_];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,m){let _,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(_ in I)c[_]=I[_];for(let W=0;W<A.length;W++)_=A[W],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function L(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function U(c){d.setTimeout(()=>{throw c},0)}function C(){var c=ye;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Be{constructor(){this.h=this.g=null}add(m,_){const I=Ae.get();I.set(m,_),this.h?this.h.next=I:this.g=I,this.h=I}}var Ae=new Z(()=>new Ue,c=>c.reset());class Ue{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,se=!1,ye=new Be,oe=()=>{const c=d.Promise.resolve(void 0);ze=()=>{c.then(M)}};var M=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var m=Ae;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}se=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ie=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return c})();function Pe(c,m){if(pe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(de){e:{try{X(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}P(Pe,pe);var Oe={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Ke(c,m,_,I,B){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!I,this.ha=B,this.key=++qe,this.da=this.fa=!1}function Rt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Rr(c){this.src=c,this.g={},this.h=0}Rr.prototype.add=function(c,m,_,I,B){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var ie=Jr(c,m,I,B);return-1<ie?(m=c[ie],_||(m.fa=!1)):(m=new Ke(m,this.src,W,!!I,B),m.fa=_,c.push(m)),m};function Fi(c,m){var _=m.type;if(_ in c.g){var I=c.g[_],B=Array.prototype.indexOf.call(I,m,void 0),W;(W=0<=B)&&Array.prototype.splice.call(I,B,1),W&&(Rt(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Jr(c,m,_,I){for(var B=0;B<c.length;++B){var W=c[B];if(!W.da&&W.listener==m&&W.capture==!!_&&W.ha==I)return B}return-1}var Hs="closure_lm_"+(1e6*Math.random()|0),Ui={};function ha(c,m,_,I,B){if(Array.isArray(m)){for(var W=0;W<m.length;W++)ha(c,m[W],_,I,B);return null}return _=pa(_),c&&c[$e]?c.K(m,_,y(I)?!!I.capture:!1,B):da(c,m,_,!1,I,B)}function da(c,m,_,I,B,W){if(!m)throw Error("Invalid event type");var ie=y(B)?!!B.capture:!!B,He=Bi(c);if(He||(c[Hs]=He=new Rr(c)),_=He.add(m,_,I,ie,W),_.proxy)return _;if(I=Hl(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)Ie||(B=ie),B===void 0&&(B=!1),c.addEventListener(m.toString(),I,B);else if(c.attachEvent)c.attachEvent(Cr(m.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Hl(){function c(_){return m.call(c.src,c.listener,_)}const m=fa;return c}function ji(c,m,_,I,B){if(Array.isArray(m))for(var W=0;W<m.length;W++)ji(c,m[W],_,I,B);else I=y(I)?!!I.capture:!!I,_=pa(_),c&&c[$e]?(c=c.i,m=String(m).toString(),m in c.g&&(W=c.g[m],_=Jr(W,_,I,B),-1<_&&(Rt(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete c.g[m],c.h--)))):c&&(c=Bi(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Jr(m,_,I,B)),(_=-1<c?m[c]:null)&&Ar(_))}function Ar(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[$e])Fi(m.i,c);else{var _=c.type,I=c.proxy;m.removeEventListener?m.removeEventListener(_,I,c.capture):m.detachEvent?m.detachEvent(Cr(_),I):m.addListener&&m.removeListener&&m.removeListener(I),(_=Bi(m))?(Fi(_,c),_.h==0&&(_.src=null,m[Hs]=null)):Rt(c)}}}function Cr(c){return c in Ui?Ui[c]:Ui[c]="on"+c}function fa(c,m){if(c.da)c=!0;else{m=new Pe(m,this);var _=c.listener,I=c.ha||c.src;c.fa&&Ar(c),c=_.call(I,m)}return c}function Bi(c){return c=c[Hs],c instanceof Rr?c:null}var zi="__closure_events_fn_"+(1e9*Math.random()>>>0);function pa(c){return typeof c=="function"?c:(c[zi]||(c[zi]=function(m){return c.handleEvent(m)}),c[zi])}function yt(){K.call(this),this.i=new Rr(this),this.M=this,this.F=null}P(yt,K),yt.prototype[$e]=!0,yt.prototype.removeEventListener=function(c,m,_,I){ji(this,c,m,_,I)};function vt(c,m){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=m.type||m,typeof m=="string")m=new pe(m,c);else if(m instanceof pe)m.target=m.target||c;else{var B=m;m=new pe(I,c),b(m,B)}if(B=!0,_)for(var W=_.length-1;0<=W;W--){var ie=m.g=_[W];B=Pr(ie,I,!0,m)&&B}if(ie=m.g=c,B=Pr(ie,I,!0,m)&&B,B=Pr(ie,I,!1,m)&&B,_)for(W=0;W<_.length;W++)ie=m.g=_[W],B=Pr(ie,I,!1,m)&&B}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],I=0;I<_.length;I++)Rt(_[I]);delete c.g[m],c.h--}}this.F=null},yt.prototype.K=function(c,m,_,I){return this.i.add(String(c),m,!1,_,I)},yt.prototype.L=function(c,m,_,I){return this.i.add(String(c),m,!0,_,I)};function Pr(c,m,_,I){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,W=0;W<m.length;++W){var ie=m[W];if(ie&&!ie.da&&ie.capture==_){var He=ie.listener,_t=ie.ha||ie.src;ie.fa&&Fi(c.i,ie),B=He.call(_t,I)!==!1&&B}}return B&&!I.defaultPrevented}function ma(c,m,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(c,m||0)}function Xr(c){c.g=ma(()=>{c.g=null,c.i&&(c.i=!1,Xr(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Ws extends K{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(c){K.call(this),this.h=c,this.g={}}P(Ks,K);var ga=[];function ya(c){ge(c.g,function(m,_){this.g.hasOwnProperty(_)&&Ar(m)},c),c.g={}}Ks.prototype.N=function(){Ks.aa.N.call(this),ya(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var va=d.JSON.stringify,_a=d.JSON.parse,wa=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Qs(){}Qs.prototype.h=null;function $i(c){return c.h||(c.h=c.i())}function qi(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){pe.call(this,"d")}P(tr,pe);function Hi(){pe.call(this,"c")}P(Hi,pe);var nr={},Ea=null;function Gs(){return Ea=Ea||new yt}nr.La="serverreachability";function Ta(c){pe.call(this,nr.La,c)}P(Ta,pe);function kr(c){const m=Gs();vt(m,new Ta(m))}nr.STAT_EVENT="statevent";function Ia(c,m){pe.call(this,nr.STAT_EVENT,c),this.stat=m}P(Ia,pe);function at(c){const m=Gs();vt(m,new Ia(m,c))}nr.Ma="timingevent";function Wi(c,m){pe.call(this,nr.Ma,c),this.size=m}P(Wi,pe);function Dn(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Js(){this.g=!0}Js.prototype.xa=function(){this.g=!1};function Xs(c,m,_,I,B,W){c.info(function(){if(c.g)if(W)for(var ie="",He=W.split("&"),_t=0;_t<He.length;_t++){var De=He[_t].split("=");if(1<De.length){var At=De[0];De=De[1];var dt=At.split("_");ie=2<=dt.length&&dt[1]=="type"?ie+(At+"="+De+"&"):ie+(At+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+m+`
`+_+`
`+ie})}function Ki(c,m,_,I,B,W,ie){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+m+`
`+_+`
`+W+" "+ie})}function Ln(c,m,_,I){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ah(c,_)+(I?" "+I:"")})}function Sa(c,m){c.info(function(){return"TIMEOUT: "+m})}Js.prototype.info=function(){};function Ah(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var W=B[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<B.length;ie++)B[ie]=""}}}}return va(_)}catch{return m}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vn;function Ys(){}P(Ys,Qs),Ys.prototype.g=function(){return new XMLHttpRequest},Ys.prototype.i=function(){return{}},Vn=new Ys;function Mn(c,m,_,I){this.j=c,this.i=m,this.l=_,this.R=I||1,this.U=new Ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kl}function Kl(){this.i=null,this.g="",this.h=!1}var Ra={},Gi={};function Ji(c,m,_){c.L=1,c.v=ns(mn(m)),c.m=_,c.P=!0,Aa(c,null)}function Aa(c,m){c.F=Date.now(),Qe(c),c.A=mn(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),ss(_.i,"t",I),c.C=0,_=c.j.J,c.h=new Kl,c.g=hu(c.j,_?m:null,!c.m),0<c.O&&(c.M=new Ws(T(c.Y,c,c.g),c.O)),m=c.U,_=c.g,I=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(ga[0]=B.toString()),B=ga);for(var W=0;W<B.length;W++){var ie=ha(_,B[W],I||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),kr(),Xs(c.i,c.u,c.A,c.l,c.R,c.m)}Mn.prototype.ca=function(c){c=c.target;const m=this.M;m&&tn(c)==3?m.j():this.Y(c)},Mn.prototype.Y=function(c){try{if(c==this.g)e:{const dt=tn(this.g);var m=this.g.Ba();const Sn=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||Na(this.g)))){this.J||dt!=4||m==7||(m==8||0>=Sn?kr(3):kr(2)),Zs(this);var _=this.g.Z();this.X=_;t:if(Ql(this)){var I=Na(this.g);c="";var B=I.length,W=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),Yr(this);var ie="";break t}this.h.i=new d.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,c+=this.h.i.decode(I[m],{stream:!(W&&m==B-1)});I.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Ki(this.i,this.u,this.A,this.l,this.R,dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var He,_t=this.g;if((He=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(He)){var De=He;break t}}De=null}if(_=De)Ln(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ca(this,_);else{this.o=!1,this.s=3,at(12),Tn(this),Yr(this);break e}}if(this.P){_=!0;let yn;for(;!this.J&&this.C<ie.length;)if(yn=Ch(this,ie),yn==Gi){dt==4&&(this.s=4,at(14),_=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Ra){this.s=4,at(15),Ln(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else Ln(this.i,this.l,yn,null),Ca(this,yn);if(Ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||ie.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)Ln(this.i,this.l,ie,"[Invalid Chunked Response]"),Tn(this),Yr(this);else if(0<ie.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Da(At),At.M=!0,at(11))}}else Ln(this.i,this.l,ie,null),Ca(this,ie);dt==4&&Tn(this),this.o&&!this.J&&(dt==4?ao(this.j,this):(this.o=!1,Qe(this)))}else no(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Tn(this),Yr(this)}}}catch{}finally{}};function Ql(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ch(c,m){var _=c.C,I=m.indexOf(`
`,_);return I==-1?Gi:(_=Number(m.substring(_,I)),isNaN(_)?Ra:(I+=1,I+_>m.length?Gi:(m=m.slice(I,I+_),c.C=I+_,m)))}Mn.prototype.cancel=function(){this.J=!0,Tn(this)};function Qe(c){c.S=Date.now()+c.I,Gl(c,c.I)}function Gl(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Dn(T(c.ba,c),m)}function Zs(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Mn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Sa(this.i,this.A),this.L!=2&&(kr(),at(17)),Tn(this),this.s=2,Yr(this)):Gl(this,this.S-c)};function Yr(c){c.j.G==0||c.J||ao(c.j,c)}function Tn(c){Zs(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,ya(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Ca(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||Kt(_.h,c))){if(!c.K&&Kt(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)oo(_),zn(_);else break e;io(_),at(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=Dn(T(_.Za,_),6e3));if(1>=Xl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Dr(_,11)}else if((c.K||_.g==c)&&oo(_),!Q(m))for(B=_.Da.g.parse(m),m=0;m<B.length;m++){let De=B[m];if(_.T=De[0],De=De[1],_.G==2)if(De[0]=="c"){_.K=De[1],_.ia=De[2];const At=De[3];At!=null&&(_.la=At,_.j.info("VER="+_.la));const dt=De[4];dt!=null&&(_.Aa=dt,_.j.info("SVER="+_.Aa));const Sn=De[5];Sn!=null&&typeof Sn=="number"&&0<Sn&&(I=1.5*Sn,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const yn=c.g;if(yn){const oi=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var W=I.h;W.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Pa(W,W.h),W.h=null))}if(I.D){const uo=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(I.ya=uo,We(I.I,I.D,uo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var ie=c;if(I.qa=cu(I,I.J?I.ia:null,I.W),ie.K){Yl(I.h,ie);var He=ie,_t=I.L;_t&&(He.I=_t),He.B&&(Zs(He),Qe(He)),I.g=ie}else ii(I);0<_.i.length&&or(_)}else De[0]!="stop"&&De[0]!="close"||Dr(_,7);else _.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Dr(_,7):Nt(_):De[0]!="noop"&&_.l&&_.l.ta(De),_.v=0)}}kr(4)}catch{}}var Jl=class{constructor(c,m){this.g=c,this.map=m}};function ei(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xl(c){return c.h?1:c.g?c.g.size:0}function Kt(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Pa(c,m){c.g?c.g.add(m):c.h=m}function Yl(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ei.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return O(c.i)}function Xi(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var m=[],_=c.length,I=0;I<_;I++)m.push(c[I]);return m}m=[],_=0;for(I in c)m[_++]=c[I];return m}function Yi(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const I in c)m[_++]=I;return m}}}function Zr(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=Yi(c),I=Xi(c),B=I.length,W=0;W<B;W++)m.call(void 0,I[W],_&&_[W],c)}var ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ph(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),B=null;if(0<=I){var W=c[_].substring(0,I);B=c[_].substring(I+1)}else W=c[_];m(W,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xr){this.h=c.h,ni(this,c.j),this.o=c.o,this.g=c.g,es(this,c.s),this.l=c.l;var m=c.i,_=new rr;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),ts(this,_),this.m=c.m}else c&&(m=String(c).match(ti))?(this.h=!1,ni(this,m[1]||"",!0),this.o=Ne(m[2]||""),this.g=Ne(m[3]||"",!0),es(this,m[4]),this.l=Ne(m[5]||"",!0),ts(this,m[6]||"",!0),this.m=Ne(m[7]||"")):(this.h=!1,this.i=new rr(null,this.h))}xr.prototype.toString=function(){var c=[],m=this.j;m&&c.push(rs(m,Zi,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(rs(m,Zi,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(rs(_,_.charAt(0)=="/"?nu:tu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",rs(_,ka)),c.join("")};function mn(c){return new xr(c)}function ni(c,m,_){c.j=_?Ne(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function es(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function ts(c,m,_){m instanceof rr?(c.i=m,sr(c.i,c.h)):(_||(m=rs(m,ru)),c.i=new rr(m,c.h))}function We(c,m,_){c.i.set(m,_)}function ns(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ne(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function rs(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,eu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function eu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zi=/[#\/\?@]/g,tu=/[#\?:]/g,nu=/[#\?]/g,ru=/[#\?@]/g,ka=/#/g;function rr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function bt(c){c.g||(c.g=new Map,c.h=0,c.i&&Ph(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=rr.prototype,n.add=function(c,m){bt(this),this.i=null,c=In(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function Fn(c,m){bt(c),m=In(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Un(c,m){return bt(c),m=In(c,m),c.g.has(m)}n.forEach=function(c,m){bt(this),this.g.forEach(function(_,I){_.forEach(function(B){c.call(m,B,I,this)},this)},this)},n.na=function(){bt(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let I=0;I<m.length;I++){const B=c[I];for(let W=0;W<B.length;W++)_.push(m[I])}return _},n.V=function(c){bt(this);let m=[];if(typeof c=="string")Un(this,c)&&(m=m.concat(this.g.get(In(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},n.set=function(c,m){return bt(this),this.i=null,c=In(this,c),Un(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},n.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function ss(c,m,_){Fn(c,m),0<_.length&&(c.i=null,c.g.set(In(c,m),O(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var I=m[_];const W=encodeURIComponent(String(I)),ie=this.V(I);for(I=0;I<ie.length;I++){var B=W;ie[I]!==""&&(B+="="+encodeURIComponent(String(ie[I]))),c.push(B)}}return this.i=c.join("&")};function In(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function sr(c,m){m&&!c.j&&(bt(c),c.i=null,c.g.forEach(function(_,I){var B=I.toLowerCase();I!=B&&(Fn(this,I),ss(this,B,_))},c)),c.j=m}function kh(c,m){const _=new Js;if(d.Image){const I=new Image;I.onload=F(en,_,"TestLoadImage: loaded",!0,m,I),I.onerror=F(en,_,"TestLoadImage: error",!1,m,I),I.onabort=F(en,_,"TestLoadImage: abort",!1,m,I),I.ontimeout=F(en,_,"TestLoadImage: timeout",!1,m,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else m(!1)}function su(c,m){const _=new Js,I=new AbortController,B=setTimeout(()=>{I.abort(),en(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:I.signal}).then(W=>{clearTimeout(B),W.ok?en(_,"TestPingServer: ok",!0,m):en(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),en(_,"TestPingServer: error",!1,m)})}function en(c,m,_,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(_)}catch{}}function xh(){this.g=new wa}function iu(c,m,_){const I=_||"";try{Zr(c,function(B,W){let ie=B;y(B)&&(ie=va(B)),m.push(I+W+"="+encodeURIComponent(ie))})}catch(B){throw m.push(I+"type="+encodeURIComponent("_badmap")),B}}function br(c){this.l=c.Ub||null,this.j=c.eb||!1}P(br,Qs),br.prototype.g=function(){return new ri(this.l,this.j)},br.prototype.i=(function(c){return function(){return c}})({});function ri(c,m){yt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ri,yt),n=ri.prototype,n.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Bn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ou(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ou(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?jn(this):Bn(this),this.readyState==3&&ou(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,jn(this))},n.Qa=function(c){this.g&&(this.response=c,jn(this))},n.ga=function(){this.g&&jn(this)};function jn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Bn(c)}n.setRequestHeader=function(c,m){this.u.append(c,m)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function Bn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nr(c){let m="";return ge(c,function(_,I){m+=I,m+=":",m+=_,m+=`\r
`}),m}function is(c,m,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Nr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,m,_))}function Ye(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ye,yt);var bh=/^https?$/i,xa=["POST","PUT"];n=Ye.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,m,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vn.g(),this.v=this.o?$i(this.o):$i(Vn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(W){si(this,W);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)_.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())_.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),B=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(xa,m,void 0))||I||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of _)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{to(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){si(this,W)}};function si(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,eo(c),gn(c)}function eo(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gn(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},n.bb=function(){ba(this)};function ba(c){if(c.h&&typeof u<"u"&&(!c.v[1]||tn(c)!=4||c.Z()!=2)){if(c.u&&tn(c)==4)ma(c.Ea,0,c);else if(vt(c,"readystatechange"),tn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var I;if(I=ie===0){var B=String(c.D).match(ti)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),I=!bh.test(B?B.toLowerCase():"")}_=I}if(_)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var W=2<tn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",eo(c)}}finally{gn(c)}}}}function gn(c,m){if(c.g){to(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||vt(c,"ready");try{_.onreadystatechange=I}catch{}}}function to(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function tn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),_a(m)}};function Na(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function no(c){const m={};c=(c.g&&2<=tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(Q(c[I]))continue;var _=L(c[I]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=m[B]||[];m[B]=W,W.push(_)}x(m,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function Oa(c){this.Aa=0,this.i=[],this.j=new Js,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ir("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ir("baseRetryDelayMs",5e3,c),this.cb=ir("retryDelaySeedMs",1e4,c),this.Wa=ir("forwardChannelMaxRetries",2,c),this.wa=ir("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ei(c&&c.concurrentRequestLimit),this.Da=new xh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Oa.prototype,n.la=8,n.G=1,n.connect=function(c,m,_,I){at(0),this.W=c,this.H=m||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=cu(this,null,this.W),or(this)};function Nt(c){if(ro(c),c.G==3){var m=c.U++,_=mn(c.I);if(We(_,"SID",c.K),We(_,"RID",m),We(_,"TYPE","terminate"),Or(c,_),m=new Mn(c,c.j,m),m.L=2,m.v=ns(mn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.v,_=!0),_||(m.g=hu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Qe(m)}uu(c)}function zn(c){c.g&&(Da(c),c.g.cancel(),c.g=null)}function ro(c){zn(c),c.u&&(d.clearTimeout(c.u),c.u=null),oo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function or(c){if(!pn(c.h)&&!c.s){c.s=!0;var m=c.Ga;ze||oe(),se||(ze(),se=!0),ye.add(m,c),c.B=0}}function Nh(c,m){return Xl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Dn(T(c.Ga,c,m),lu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Mn(this,this.j,c);let W=this.o;if(this.S&&(W?(W=S(W),b(W,this.S)):W=this.S),this.m!==null||this.O||(B.H=W,W=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=os(this,B,m),_=mn(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),Or(this,_),W&&(this.O?m="headers="+encodeURIComponent(String(Nr(W)))+"&"+m:this.m&&is(_,this.m,W)),Pa(this.h,B),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",m),We(_,"SID","null"),B.T=!0,Ji(B,_,null)):Ji(B,_,m),this.G=2}}else this.G==3&&(c?so(this,c):this.i.length==0||pn(this.h)||so(this))};function so(c,m){var _;m?_=m.l:_=c.U++;const I=mn(c.I);We(I,"SID",c.K),We(I,"RID",_),We(I,"AID",c.T),Or(c,I),c.m&&c.o&&is(I,c.m,c.o),_=new Mn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=os(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pa(c.h,_),Ji(_,I,m)}function Or(c,m){c.H&&ge(c.H,function(_,I){We(m,I,_)}),c.l&&Zr({},function(_,I){We(m,I,_)})}function os(c,m,_){_=Math.min(c.i.length,_);var I=c.l?T(c.l.Na,c.l,c):null;e:{var B=c.i;let W=-1;for(;;){const ie=["count="+_];W==-1?0<_?(W=B[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let He=!0;for(let _t=0;_t<_;_t++){let De=B[_t].g;const At=B[_t].map;if(De-=W,0>De)W=Math.max(0,B[_t].g-100),He=!1;else try{iu(At,ie,"req"+De+"_")}catch{I&&I(At)}}if(He){I=ie.join("&");break e}}}return c=c.i.splice(0,_),m.D=c,I}function ii(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;ze||oe(),se||(ze(),se=!0),ye.add(m,c),c.v=0}}function io(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Dn(T(c.Fa,c),lu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Dn(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),zn(this),au(this))};function Da(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function au(c){c.g=new Mn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=mn(c.qa);We(m,"RID","rpc"),We(m,"SID",c.K),We(m,"AID",c.T),We(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(m,"TO",c.ja),We(m,"TYPE","xmlhttp"),Or(c,m),c.m&&c.o&&is(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ns(mn(m)),_.m=null,_.P=!0,Aa(_,c)}n.Za=function(){this.C!=null&&(this.C=null,zn(this),io(this),at(19))};function oo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ao(c,m){var _=null;if(c.g==m){oo(c),Da(c),c.g=null;var I=2}else if(Kt(c.h,m))_=m.D,Yl(c.h,m),I=1;else return;if(c.G!=0){if(m.o)if(I==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var B=c.B;I=Gs(),vt(I,new Wi(I,_)),or(c)}else ii(c);else if(B=m.s,B==3||B==0&&0<m.X||!(I==1&&Nh(c,m)||I==2&&io(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),B){case 1:Dr(c,5);break;case 4:Dr(c,10);break;case 3:Dr(c,6);break;default:Dr(c,2)}}}function lu(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function Dr(c,m){if(c.j.info("Error code "+m),m==2){var _=T(c.fb,c),I=c.Xa;const B=!I;I=new xr(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ni(I,"https"),ns(I),B?kh(I.toString(),_):su(I.toString(),_)}else at(2);c.G=0,c.l&&c.l.sa(m),uu(c),ro(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function uu(c){if(c.G=0,c.ka=[],c.l){const m=Zl(c.h);(m.length!=0||c.i.length!=0)&&(k(c.ka,m),k(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function cu(c,m,_){var I=_ instanceof xr?mn(_):new xr(_);if(I.g!="")m&&(I.g=m+"."+I.g),es(I,I.s);else{var B=d.location;I=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var W=new xr(null);I&&ni(W,I),m&&(W.g=m),B&&es(W,B),_&&(W.l=_),I=W}return _=c.D,m=c.ya,_&&m&&We(I,_,m),We(I,"VER",c.la),Or(c,I),I}function hu(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ye(new br({eb:_})):new Ye(c.pa),m.Ha(c.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function La(){}n=La.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function lo(){}lo.prototype.g=function(c,m){return new Qt(c,m)};function Qt(c,m){yt.call(this),this.g=new Oa(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!Q(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Q(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ar(this)}P(Qt,yt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Nt(this.g)},Qt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=va(c),c=_);m.i.push(new Jl(m.Ya++,c)),m.G==3&&or(m)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Qt.aa.N.call(this)};function du(c){tr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}P(du,tr);function fu(){Hi.call(this),this.status=1}P(fu,Hi);function ar(c){this.g=c}P(ar,La),ar.prototype.ua=function(){vt(this.g,"a")},ar.prototype.ta=function(c){vt(this.g,new du(c))},ar.prototype.sa=function(c){vt(this.g,new fu)},ar.prototype.ra=function(){vt(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,Ww=function(){return new lo},Hw=function(){return Gs()},qw=nr,qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Sc=Qi,Wl.COMPLETE="complete",$w=Wl,qi.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",yt.prototype.listen=yt.prototype.K,ul=qi,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,zw=Ye}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const qv="@firebase/firestore",Hv="4.8.0";class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");let oa="11.10.0";const Ni=new Ap("@firebase/firestore");function bo(){return Ni.logLevel}function le(n,...e){if(Ni.logLevel<=be.DEBUG){const t=e.map(Fp);Ni.debug(`Firestore (${oa}): ${n}`,...t)}}function Kr(n,...e){if(Ni.logLevel<=be.ERROR){const t=e.map(Fp);Ni.error(`Firestore (${oa}): ${n}`,...t)}}function Vs(n,...e){if(Ni.logLevel<=be.WARN){const t=e.map(Fp);Ni.warn(`Firestore (${oa}): ${n}`,...t)}}function Fp(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Re(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Kw(n,s,t)}function Kw(n,e,t){let s=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Kr(s),new Error(s)}function it(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||Kw(e,o,s)}function Ve(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ir{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Si{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Qw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ix{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zt.UNAUTHENTICATED)))}shutdown(){}}class Sx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Rx{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let s=this.i;const o=f=>this.i!==s?(s=this.i,t(f)):Promise.resolve();let a=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Si,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},d=f=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Si)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(it(typeof s.accessToken=="string",31837,{l:s}),new Qw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class Ax{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Cx{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new Ax(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Px{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const s=a=>{a.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>s(a)))};const o=a=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Wv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Wv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}function Gw(){return new TextEncoder}class Jw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=kx(40);for(let a=0;a<o.length;++a)s.length<20&&o[a]<t&&(s+=e.charAt(o[a]%62))}return s}}function xe(n,e){return n<e?-1:n>e?1:0}function Hf(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return xe(s,o);{const a=Gw(),u=xx(a.encode(Kv(n,t)),a.encode(Kv(e,t)));return u!==0?u:xe(s,o)}}t+=s>65535?2:1}return xe(n.length,e.length)}function Kv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function xx(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return xe(n[t],e[t]);return xe(n.length,e.length)}function Ko(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}const Qv="__name__";class fr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Re(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const a=fr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return xe(e.length,t.length)}static compareSegments(e,t){const s=fr.isNumericId(e),o=fr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?fr.extractNumericId(e).compare(fr.extractNumericId(t)):Hf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ds.fromString(e.substring(4,e.length-2))}}class et extends fr{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new et(t)}static emptyPath(){return new et([])}}const bx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends fr{construct(e,t,s){return new Ht(e,t,s)}static isValidIdentifier(e){return bx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qv}static keyField(){return new Ht([Qv])}static fromServerFormat(e){const t=[];let s="",o=0;const a=()=>{if(s.length===0)throw new ce(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ce(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ce(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(s+=d,o++):(a(),o++)}if(a(),u)throw new ce(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(et.fromString(e))}static fromName(e){return new we(et.fromString(e).popFirst(5))}static empty(){return new we(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new et(e.slice()))}}function Nx(n,e,t,s){if(e===!0&&s===!0)throw new ce(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Gv(n){if(we.isDocumentKey(n))throw new ce(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function fh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function Wf(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fh(n);throw new ce(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gt(n,e){const t={typeString:n};return e&&(t.value=e),t}function jl(n,e){if(!Xw(n))throw new ce(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,a="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const u=n[s];if(o&&typeof u!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${s}' field to equal '${a.value}'`;break}}if(t)throw new ce(ne.INVALID_ARGUMENT,t);return!0}const Jv=-62135596800,Xv=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Xv);return new tt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Jv)throw new ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xv}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jl(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:gt("string",tt._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new tt(0,0))}static max(){return new Se(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rl=-1;function Ox(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new tt(t+1,0):new tt(t,s));return new Ms(o,we.empty(),e)}function Dx(n){return new Ms(n.readTime,n.key,Rl)}class Ms{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ms(Se.min(),we.empty(),Rl)}static max(){return new Ms(Se.max(),we.empty(),Rl)}}function Lx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}const Vx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ph(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==Vx)throw n;le("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,s)=>{t(e)}))}static reject(e){return new J(((t,s)=>{s(e)}))}static waitFor(e){return new J(((t,s)=>{let o=0,a=0,u=!1;e.forEach((d=>{++o,d.next((()=>{++a,u&&a===o&&t()}),(f=>s(f)))})),u=!0,a===o&&t()}))}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next((o=>o?J.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,a)=>{s.push(t.call(this,o,a))})),this.waitFor(s)}static mapArray(e,t){return new J(((s,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const y=f;t(e[y]).next((v=>{u[y]=v,++d,d===a&&s(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new J(((s,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):s()};a()}))}}function Fx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function aa(n){return n.name==="IndexedDbTransactionError"}class mh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}mh.ue=-1;const Ux=-1;function gh(n){return n==null}function zc(n){return n===0&&1/n==-1/0}function jx(n){return typeof n=="number"&&Number.isInteger(n)&&!zc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Yw="";function Bx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yv(e)),e=zx(n.get(t),e);return Yv(e)}function zx(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case Yw:t+="";break;default:t+=a}}return t}function Yv(n){return n+Yw+""}function Zv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function la(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Zw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ht{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?s(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,s,o,a){this.key=e,this.value=t,this.color=s??Lt.RED,this.left=o??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,a){return new Lt(e??this.key,t??this.value,s??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const a=s(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,s),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,s,o,a){return this}insert(e,t,s){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class St{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=s.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new St(this.comparator);return t.data=e,t}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cs{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Cs([])}unionWith(e){let t=new St(Ht.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Cs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new eE("Invalid base64 string: "+a):a}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const $x=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(n){if(it(!!n,39018),typeof n=="string"){let e=0;const t=$x.exec(n);if(it(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Us(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}const tE="server_timestamp",nE="__type__",rE="__previous_value__",sE="__local_write_time__";function Up(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[nE])===null||t===void 0?void 0:t.stringValue)===tE}function yh(n){const e=n.mapValue.fields[rE];return Up(e)?yh(e):e}function Al(n){const e=Fs(n.mapValue.fields[sE].timestampValue);return new tt(e.seconds,e.nanos)}class qx{constructor(e,t,s,o,a,u,d,f,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=y,this.isUsingEmulator=v}}const $c="(default)";class Cl{constructor(e,t){this.projectId=e,this.database=t||$c}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===$c}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}const iE="__type__",Hx="__max__",dc={mapValue:{}},oE="__vector__",qc="value";function js(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Up(n)?4:Kx(n)?9007199254740991:Wx(n)?10:11:Re(28295,{value:n})}function Er(n,e){if(n===e)return!0;const t=js(n);if(t!==js(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Al(n).isEqual(Al(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Fs(o.timestampValue),d=Fs(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Us(o.bytesValue).isEqual(Us(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return ut(o.geoPointValue.latitude)===ut(a.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return ut(o.integerValue)===ut(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=ut(o.doubleValue),d=ut(a.doubleValue);return u===d?zc(u)===zc(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return Ko(n.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Zv(u)!==Zv(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Er(u[f],d[f])))return!1;return!0})(n,e);default:return Re(52216,{left:n})}}function Pl(n,e){return(n.values||[]).find((t=>Er(t,e)))!==void 0}function Qo(n,e){if(n===e)return 0;const t=js(n),s=js(e);if(t!==s)return xe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=ut(a.integerValue||a.doubleValue),f=ut(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return t_(n.timestampValue,e.timestampValue);case 4:return t_(Al(n),Al(e));case 5:return Hf(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=Us(a),f=Us(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let y=0;y<d.length&&y<f.length;y++){const v=xe(d[y],f[y]);if(v!==0)return v}return xe(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=xe(ut(a.latitude),ut(u.latitude));return d!==0?d:xe(ut(a.longitude),ut(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return n_(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var d,f,y,v;const E=a.fields||{},T=u.fields||{},F=(d=E[qc])===null||d===void 0?void 0:d.arrayValue,P=(f=T[qc])===null||f===void 0?void 0:f.arrayValue,O=xe(((y=F?.values)===null||y===void 0?void 0:y.length)||0,((v=P?.values)===null||v===void 0?void 0:v.length)||0);return O!==0?O:n_(F,P)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===dc.mapValue&&u===dc.mapValue)return 0;if(a===dc.mapValue)return 1;if(u===dc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),y=u.fields||{},v=Object.keys(y);f.sort(),v.sort();for(let E=0;E<f.length&&E<v.length;++E){const T=Hf(f[E],v[E]);if(T!==0)return T;const F=Qo(d[f[E]],y[v[E]]);if(F!==0)return F}return xe(f.length,v.length)})(n.mapValue,e.mapValue);default:throw Re(23264,{le:t})}}function t_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);const t=Fs(n),s=Fs(e),o=xe(t.seconds,s.seconds);return o!==0?o:xe(t.nanos,s.nanos)}function n_(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const a=Qo(t[o],s[o]);if(a)return a}return xe(t.length,s.length)}function Go(n){return Kf(n)}function Kf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Fs(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Us(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return we.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const a of t.values||[])o?o=!1:s+=",",s+=Kf(a);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of s)a?a=!1:o+=",",o+=`${u}:${Kf(t.fields[u])}`;return o+"}"})(n.mapValue):Re(61005,{value:n})}function Rc(n){switch(js(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(n);return e?16+Rc(e):16;case 5:return 2*n.stringValue.length;case 6:return Us(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,a)=>o+Rc(a)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return la(s.fields,((a,u)=>{o+=a.length+Rc(u)})),o})(n.mapValue);default:throw Re(13486,{value:n})}}function r_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Qf(n){return!!n&&"integerValue"in n}function jp(n){return!!n&&"arrayValue"in n}function s_(n){return!!n&&"nullValue"in n}function i_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mf(n){return!!n&&"mapValue"in n}function Wx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[iE])===null||t===void 0?void 0:t.stringValue)===oE}function pl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return la(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=pl(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Kx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Hx}class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!mf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(t)}setAll(e){let t=Ht.emptyPath(),s={},o=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,s,o),s={},o=[],t=d.popLast()}u?s[d.lastSegment()]=pl(u):o.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,s,o)}delete(e){const t=this.field(e.popLast());mf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];mf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){la(t,((o,a)=>e[o]=a));for(const o of s)delete e[o]}clone(){return new pr(pl(this.value))}}class $t{constructor(e,t,s,o,a,u,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new $t(e,0,Se.min(),Se.min(),Se.min(),pr.empty(),0)}static newFoundDocument(e,t,s,o){return new $t(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new $t(e,2,t,Se.min(),Se.min(),pr.empty(),0)}static newUnknownDocument(e,t){return new $t(e,3,t,Se.min(),Se.min(),pr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hc{constructor(e,t){this.position=e,this.inclusive=t}}function o_(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?s=we.comparator(we.fromName(u.referenceValue),t.key):s=Qo(u,t.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function a_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Er(n.position[t],e.position[t]))return!1;return!0}class kl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Qx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class aE{}class mt extends aE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new Jx(e,t,s):t==="array-contains"?new Zx(e,s):t==="in"?new eb(e,s):t==="not-in"?new tb(e,s):t==="array-contains-any"?new nb(e,s):new mt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new Xx(e,s):new Yx(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Qo(t,this.value)):t!==null&&js(this.value)===js(t)&&this.matchesComparison(Qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends aE{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Yn(e,t)}matches(e){return lE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function lE(n){return n.op==="and"}function uE(n){return Gx(n)&&lE(n)}function Gx(n){for(const e of n.filters)if(e instanceof Yn)return!1;return!0}function Gf(n){if(n instanceof mt)return n.field.canonicalString()+n.op.toString()+Go(n.value);if(uE(n))return n.filters.map((e=>Gf(e))).join(",");{const e=n.filters.map((t=>Gf(t))).join(",");return`${n.op}(${e})`}}function cE(n,e){return n instanceof mt?(function(s,o){return o instanceof mt&&s.op===o.op&&s.field.isEqual(o.field)&&Er(s.value,o.value)})(n,e):n instanceof Yn?(function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((a,u,d)=>a&&cE(u,o.filters[d])),!0):!1})(n,e):void Re(19439)}function hE(n){return n instanceof mt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Go(t.value)}`})(n):n instanceof Yn?(function(t){return t.op.toString()+" {"+t.getFilters().map(hE).join(" ,")+"}"})(n):"Filter"}class Jx extends mt{constructor(e,t,s){super(e,t,s),this.key=we.fromName(s.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class Xx extends mt{constructor(e,t){super(e,"in",t),this.keys=dE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Yx extends mt{constructor(e,t){super(e,"not-in",t),this.keys=dE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function dE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>we.fromName(s.referenceValue)))}class Zx extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jp(t)&&Pl(t.arrayValue,this.value)}}class eb extends mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pl(this.value.arrayValue,t)}}class tb extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Pl(this.value.arrayValue,t)}}class nb extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Pl(this.value.arrayValue,s)))}}class rb{constructor(e,t=null,s=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Pe=null}}function l_(n,e=null,t=[],s=[],o=null,a=null,u=null){return new rb(n,e,t,s,o,a,u)}function Bp(n){const e=Ve(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Gf(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(a){return a.field.canonicalString()+a.dir})(s))).join(","),gh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Go(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Go(s))).join(",")),e.Pe=t}return e.Pe}function zp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Qx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!a_(n.startAt,e.startAt)&&a_(n.endAt,e.endAt)}function Jf(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ua{constructor(e,t=null,s=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function sb(n,e,t,s,o,a,u,d){return new ua(n,e,t,s,o,a,u,d)}function fE(n){return new ua(n)}function u_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function pE(n){return n.collectionGroup!==null}function ml(n){const e=Ve(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new St(Ht.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new kl(a,s))})),t.has(Ht.keyField().canonicalString())||e.Te.push(new kl(Ht.keyField(),s))}return e.Te}function vr(n){const e=Ve(n);return e.Ie||(e.Ie=ib(e,ml(n))),e.Ie}function ib(n,e){if(n.limitType==="F")return l_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new kl(o.field,a)}));const t=n.endAt?new Hc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Hc(n.startAt.position,n.startAt.inclusive):null;return l_(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Xf(n,e){const t=n.filters.concat([e]);return new ua(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Yf(n,e,t){return new ua(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vh(n,e){return zp(vr(n),vr(e))&&n.limitType===e.limitType}function mE(n){return`${Bp(vr(n))}|lt:${n.limitType}`}function No(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>hE(o))).join(", ")}]`),gh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Go(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Go(o))).join(",")),`Target(${s})`})(vr(n))}; limitType=${n.limitType})`}function _h(n,e){return e.isFoundDocument()&&(function(s,o){const a=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):we.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)})(n,e)&&(function(s,o){for(const a of ml(s))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const a of s.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(u,d,f){const y=o_(u,d,f);return u.inclusive?y<=0:y<0})(s.startAt,ml(s),o)||s.endAt&&!(function(u,d,f){const y=o_(u,d,f);return u.inclusive?y>=0:y>0})(s.endAt,ml(s),o))})(n,e)}function ob(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gE(n){return(e,t)=>{let s=!1;for(const o of ml(n)){const a=ab(o,e,t);if(a!==0)return a;s=s||o.field.isKeyField()}return 0}}function ab(n,e,t){const s=n.field.isKeyField()?we.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),y=d.data.field(a);return f!==null&&y!==null?Qo(f,y):Re(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Re(19790,{direction:n.dir})}}class Vi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,a]of s)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,((t,s)=>{for(const[o,a]of s)e(o,a)}))}isEmpty(){return Zw(this.inner)}size(){return this.innerSize}}const lb=new ht(we.comparator);function Bs(){return lb}const yE=new ht(we.comparator);function cl(...n){let e=yE;for(const t of n)e=e.insert(t.key,t);return e}function ub(n){let e=yE;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Ti(){return gl()}function vE(){return gl()}function gl(){return new Vi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const cb=new St(we.comparator);function Fe(...n){let e=cb;for(const t of n)e=e.add(t);return e}const hb=new St(xe);function db(){return hb}function $p(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(e)?"-0":e}}function _E(n){return{integerValue:""+n}}function fb(n,e){return jx(e)?_E(e):$p(n,e)}class wh{constructor(){this._=void 0}}function pb(n,e,t){return n instanceof Zf?(function(o,a){const u={fields:{[nE]:{stringValue:tE},[sE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Up(a)&&(a=yh(a)),a&&(u.fields[rE]=a),{mapValue:u}})(t,e):n instanceof Wc?wE(n,e):n instanceof Kc?EE(n,e):(function(o,a){const u=gb(o,a),d=c_(u)+c_(o.Ee);return Qf(u)&&Qf(o.Ee)?_E(d):$p(o.serializer,d)})(n,e)}function mb(n,e,t){return n instanceof Wc?wE(n,e):n instanceof Kc?EE(n,e):t}function gb(n,e){return n instanceof ep?(function(s){return Qf(s)||(function(a){return!!a&&"doubleValue"in a})(s)})(e)?e:{integerValue:0}:null}class Zf extends wh{}class Wc extends wh{constructor(e){super(),this.elements=e}}function wE(n,e){const t=TE(e);for(const s of n.elements)t.some((o=>Er(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Kc extends wh{constructor(e){super(),this.elements=e}}function EE(n,e){let t=TE(e);for(const s of n.elements)t=t.filter((o=>!Er(o,s)));return{arrayValue:{values:t}}}class ep extends wh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function c_(n){return ut(n.integerValue||n.doubleValue)}function TE(n){return jp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function yb(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof Wc&&o instanceof Wc||s instanceof Kc&&o instanceof Kc?Ko(s.elements,o.elements,Er):s instanceof ep&&o instanceof ep?Er(s.Ee,o.Ee):s instanceof Zf&&o instanceof Zf})(n.transform,e.transform)}class Ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ac(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class qp{}function IE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _b(n.key,Ri.none()):new Hp(n.key,n.data,Ri.none());{const t=n.data,s=pr.empty();let o=new St(Ht.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?s.delete(a):s.set(a,u),o=o.add(a)}return new Eh(n.key,s,new Cs(o.toArray()),Ri.none())}}function vb(n,e,t){n instanceof Hp?(function(o,a,u){const d=o.value.clone(),f=d_(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Eh?(function(o,a,u){if(!Ac(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=d_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(SE(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function yl(n,e,t,s){return n instanceof Hp?(function(a,u,d,f){if(!Ac(a.precondition,u))return d;const y=a.value.clone(),v=f_(a.fieldTransforms,f,u);return y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(n,e,t,s):n instanceof Eh?(function(a,u,d,f){if(!Ac(a.precondition,u))return d;const y=f_(a.fieldTransforms,f,u),v=u.data;return v.setAll(SE(a)),v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(n,e,t,s):(function(a,u,d){return Ac(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function h_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ko(s,o,((a,u)=>yb(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Hp extends qp{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Eh extends qp{constructor(e,t,s,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function SE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function d_(n,e,t){const s=new Map;it(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);s.set(a.field,mb(u,d,t[o]))}return s}function f_(n,e,t){const s=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);s.set(o.field,pb(a,u,e))}return s}class _b extends qp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wb{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&vb(a,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=yl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=yl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=vE();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=IE(u,d);f!==null&&s.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,((t,s)=>h_(t,s)))&&Ko(this.baseMutations,e.baseMutations,((t,s)=>h_(t,s)))}}class Eb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Tb{constructor(e,t){this.count=e,this.unchangedNames=t}}var pt,Le;function RE(n){if(n===void 0)return Kr("GRPC error has no .code"),ne.UNKNOWN;switch(n){case pt.OK:return ne.OK;case pt.CANCELLED:return ne.CANCELLED;case pt.UNKNOWN:return ne.UNKNOWN;case pt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case pt.INTERNAL:return ne.INTERNAL;case pt.UNAVAILABLE:return ne.UNAVAILABLE;case pt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case pt.NOT_FOUND:return ne.NOT_FOUND;case pt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case pt.ABORTED:return ne.ABORTED;case pt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case pt.DATA_LOSS:return ne.DATA_LOSS;default:return Re(39323,{code:n})}}(Le=pt||(pt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";const Ib=new Ds([4294967295,4294967295],0);function p_(n){const e=Gw().encode(n),t=new Bw;return t.update(e),new Uint8Array(t.digest())}function m_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ds([t,s],0),new Ds([o,a],0)]}class Wp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new hl(`Invalid padding: ${t}`);if(s<0)throw new hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new hl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new hl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ds.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(Ds.fromNumber(s)));return o.compare(Ib)===1&&(o=new Ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=p_(e),[s,o]=m_(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(s,o,a);if(!this.ye(u))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Wp(a,o,t);return s.forEach((d=>u.insert(d))),u}insert(e){if(this.fe===0)return;const t=p_(e),[s,o]=m_(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(s,o,a);this.we(u)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(e,t,s,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Bl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Th(Se.min(),o,new ht(xe),Bs(),Fe())}}class Bl{constructor(e,t,s,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Bl(s,t,Fe(),Fe(),Fe())}}class Cc{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class AE{constructor(e,t){this.targetId=e,this.De=t}}class CE{constructor(e,t,s=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class g_{constructor(){this.ve=0,this.Ce=y_(),this.Fe=Vt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Fe(),t=Fe(),s=Fe();return this.Ce.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Re(38017,{changeType:a})}})),new Bl(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=y_()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Sb{constructor(e){this.We=e,this.Ge=new Map,this.ze=Bs(),this.je=fc(),this.Je=fc(),this.He=new ht(xe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((s,o)=>{this.nt(o)&&t(o)}))}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const a=o.target;if(Jf(a))if(s===0){const u=new we(a.path);this.Xe(t,u,$t.newNoDocument(u,Se.min()))}else it(s===1,20013,{expectedCount:s});else{const u=this.ot(t);if(u!==s){const d=this._t(e),f=d?this.ut(d,e,u):1;if(f!==0){this.rt(t);const y=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,y)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=Us(s).toUint8Array()}catch(f){if(f instanceof eE)return Vs("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Wp(u,o,a)}catch(f){return Vs(f instanceof hl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.fe===0?null:d}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach((a=>{const u=this.We.lt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,a,null),o++)})),o}Pt(e){const t=new Map;this.Ge.forEach(((a,u)=>{const d=this.st(u);if(d){if(a.current&&Jf(d.target)){const f=new we(d.target.path);this.Tt(f).has(u)||this.It(u,f)||this.Xe(u,f,$t.newNoDocument(f,e))}a.Ne&&(t.set(u,a.Le()),a.ke())}}));let s=Fe();this.Je.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const y=this.st(f);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(a))})),this.ze.forEach(((a,u)=>u.setReadTime(e)));const o=new Th(e,t,this.He,this.ze,s);return this.ze=Bs(),this.je=fc(),this.Je=fc(),this.He=new ht(xe),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new g_,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new St(xe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new St(xe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new g_),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function fc(){return new ht(we.comparator)}function y_(){return new ht(we.comparator)}const Rb={asc:"ASCENDING",desc:"DESCENDING"},Ab={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cb={and:"AND",or:"OR"};class Pb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tp(n,e){return n.useProto3Json||gh(e)?e:{value:e}}function np(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Uo(n){return it(!!n,49232),Se.fromTimestamp((function(t){const s=Fs(t);return new tt(s.seconds,s.nanos)})(n))}function kE(n,e){return rp(n,e).canonicalString()}function rp(n,e){const t=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function xE(n){const e=et.fromString(n);return it(LE(e),10190,{key:e.toString()}),e}function gf(n,e){const t=xE(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(NE(t))}function bE(n,e){return kE(n.databaseId,e)}function kb(n){const e=xE(n);return e.length===4?et.emptyPath():NE(e)}function v_(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NE(n){return it(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xb(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Re(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(y,v){return y.useProto3Json?(it(v===void 0||typeof v=="string",58123),Vt.fromBase64String(v||"")):(it(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Vt.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(y){const v=y.code===void 0?ne.UNKNOWN:RE(y.code);return new ce(v,y.message||"")})(u);t=new CE(s,o,a,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gf(n,s.document.name),a=Uo(s.document.updateTime),u=s.document.createTime?Uo(s.document.createTime):Se.min(),d=new pr({mapValue:{fields:s.document.fields}}),f=$t.newFoundDocument(o,a,u,d),y=s.targetIds||[],v=s.removedTargetIds||[];t=new Cc(y,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gf(n,s.document),a=s.readTime?Uo(s.readTime):Se.min(),u=$t.newNoDocument(o,a),d=s.removedTargetIds||[];t=new Cc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gf(n,s.document),a=s.removedTargetIds||[];t=new Cc([],a,o,null)}else{if(!("filter"in e))return Re(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:a}=s,u=new Tb(o,a),d=s.targetId;t=new AE(d,u)}}return t}function bb(n,e){return{documents:[bE(n,e.path)]}}function Nb(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=bE(n,o);const a=(function(y){if(y.length!==0)return DE(Yn.create(y,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(y){if(y.length!==0)return y.map((v=>(function(T){return{field:Oo(T.field),direction:Lb(T.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=tp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{Vt:t,parent:o}}function Ob(n){let e=kb(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){it(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(E){const T=OE(E);return T instanceof Yn&&uE(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(E){return E.map((T=>(function(P){return new kl(Do(P.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let T;return T=typeof E=="object"?E.value:E,gh(T)?null:T})(t.limit));let f=null;t.startAt&&(f=(function(E){const T=!!E.before,F=E.values||[];return new Hc(F,T)})(t.startAt));let y=null;return t.endAt&&(y=(function(E){const T=!E.before,F=E.values||[];return new Hc(F,T)})(t.endAt)),sb(e,o,u,a,d,"F",f,y)}function Db(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function OE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Do(t.unaryFilter.field);return mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Do(t.unaryFilter.field);return mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Do(t.unaryFilter.field);return mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Do(t.unaryFilter.field);return mt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(n):n.fieldFilter!==void 0?(function(t){return mt.create(Do(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Yn.create(t.compositeFilter.filters.map((s=>OE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(t.compositeFilter.op))})(n):Re(30097,{filter:n})}function Lb(n){return Rb[n]}function Vb(n){return Ab[n]}function Mb(n){return Cb[n]}function Oo(n){return{fieldPath:n.canonicalString()}}function Do(n){return Ht.fromServerFormat(n.fieldPath)}function DE(n){return n instanceof mt?(function(t){if(t.op==="=="){if(i_(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NAN"}};if(s_(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(i_(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NAN"}};if(s_(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(t.field),op:Vb(t.op),value:t.value}}})(n):n instanceof Yn?(function(t){const s=t.getFilters().map((o=>DE(o)));return s.length===1?s[0]:{compositeFilter:{op:Mb(t.op),filters:s}}})(n):Re(54877,{filter:n})}function LE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Ps{constructor(e,t,s,o,a=Se.min(),u=Se.min(),d=Vt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fb{constructor(e){this.gt=e}}function Ub(n){const e=Ob({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Yf(e,e.limit,"L"):e}class jb{constructor(){this.Dn=new Bb}addToCollectionParentIndex(e,t){return this.Dn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Ms.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class Bb{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new St(et.comparator),a=!o.has(s);return this.index[t]=o.add(s),a}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new St(et.comparator)).toArray()}}const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VE=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(VE,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Jo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Jo(0)}static ur(){return new Jo(-1)}}const w_="LruGarbageCollector",zb=1048576;function E_([n,e],[t,s]){const o=xe(n,t);return o===0?xe(e,s):o}class $b{constructor(e){this.Tr=e,this.buffer=new St(E_),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();E_(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qb{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){le(w_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){aa(t)?le(w_,"Ignoring IndexedDB error during garbage collection: ",t):await ph(t)}await this.Rr(3e5)}))}}class Hb{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(mh.ue);const s=new $b(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(__)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,a,u,d,f,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,d=Date.now(),this.removeTargets(e,s,t)))).next((E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),bo()<=be.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${E} documents in `+(y-f)+`ms
Total Duration: ${y-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E}))))}}function Wb(n,e){return new Hb(n,e)}class Kb{constructor(){this.changes=new Vi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Gb{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&yl(s.mutation,o,Cs.empty(),tt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Fe()){const o=Ti();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((a=>{let u=cl();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=Ti();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Fe())))}populateOverlays(e,t,s){const o=[];return s.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,s,o){let a=Bs();const u=gl(),d=(function(){return gl()})();return t.forEach(((f,y)=>{const v=s.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Eh)?a=a.insert(y.key,y):v!==void 0?(u.set(y.key,v.mutation.getFieldMask()),yl(v.mutation,y,v.mutation.getFieldMask(),tt.now())):u.set(y.key,Cs.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((y,v)=>u.set(y,v))),t.forEach(((y,v)=>{var E;return d.set(y,new Qb(v,(E=u.get(y))!==null&&E!==void 0?E:null))})),d)))}recalculateAndSaveOverlays(e,t){const s=gl();let o=new ht(((u,d)=>u-d)),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const y=t.get(f);if(y===null)return;let v=s.get(f)||Cs.empty();v=d.applyToLocalView(y,v),s.set(f,v);const E=(o.get(d.batchId)||Fe()).add(f);o=o.insert(d.batchId,E)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),y=f.key,v=f.value,E=vE();v.forEach((T=>{if(!a.has(T)){const F=IE(t.get(T),s.get(T));F!==null&&E.set(T,F),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,E))}return J.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-a.size):J.resolve(Ti());let d=Rl,f=a;return u.next((y=>J.forEach(y,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(v)?J.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{f=f.insert(v,T)}))))).next((()=>this.populateOverlays(e,y,a))).next((()=>this.computeViews(e,f,y,Fe()))).next((v=>({batchId:d,changes:ub(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((s=>{let o=cl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const a=t.collectionGroup;let u=cl();return this.indexManager.getCollectionParents(e,a).next((d=>J.forEach(d,(f=>{const y=(function(E,T){return new ua(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((v=>{v.forEach(((E,T)=>{u=u.insert(E,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a,o)))).next((u=>{a.forEach(((f,y)=>{const v=y.getKey();u.get(v)===null&&(u=u.insert(v,$t.newInvalidDocument(v)))}));let d=cl();return u.forEach(((f,y)=>{const v=a.get(f);v!==void 0&&yl(v.mutation,y,Cs.empty(),tt.now()),_h(t,y)&&(d=d.insert(f,y))})),d}))}}class Jb{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return J.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Uo(o.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(o){return{name:o.name,query:Ub(o.bundledQuery),readTime:Uo(o.readTime)}})(t)),J.resolve()}}class Xb{constructor(){this.overlays=new ht(we.comparator),this.kr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ti();return J.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&s.set(o,a)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,a)=>{this.wt(e,t,a)})),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=Ti(),a=t.length+1,u=new we(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,y=f.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&f.largestBatchId>s&&o.set(f.getKey(),f)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let a=new ht(((y,v)=>y-v));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let v=a.get(y.largestBatchId);v===null&&(v=Ti(),a=a.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=Ti(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((y,v)=>d.set(y,v))),!(d.size()>=o)););return J.resolve(d)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new Eb(t,s));let a=this.kr.get(t);a===void 0&&(a=Fe(),this.kr.set(t,a)),this.kr.set(t,a.add(s.key))}}class Yb{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}class Kp{constructor(){this.qr=new St(xt.Qr),this.$r=new St(xt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new xt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new xt(e,t))}Gr(e,t){e.forEach((s=>this.removeReference(s,t)))}zr(e){const t=new we(new et([])),s=new xt(t,e),o=new xt(t,e+1),a=[];return this.$r.forEachInRange([s,o],(u=>{this.Wr(u),a.push(u.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new we(new et([])),s=new xt(t,e),o=new xt(t,e+1);let a=Fe();return this.$r.forEachInRange([s,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new xt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class xt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return we.comparator(e.key,t.key)||xe(e.Hr,t.Hr)}static Ur(e,t){return xe(e.Hr,t.Hr)||we.comparator(e.key,t.key)}}class Zb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new St(xt.Qr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new wb(a,t,s,o);this.mutationQueue.push(u);for(const d of o)this.Yr=this.Yr.add(new xt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(u)}lookupMutationBatch(e,t){return J.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),a=o<0?0:o;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Ux:this.er-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new xt(t,0),o=new xt(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([s,o],(u=>{const d=this.Zr(u.Hr);a.push(d)})),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new St(xe);return t.forEach((o=>{const a=new xt(o,0),u=new xt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,u],(d=>{s=s.add(d.Hr)}))})),J.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let a=s;we.isDocumentKey(a)||(a=a.child(""));const u=new xt(new we(a),0);let d=new St(xe);return this.Yr.forEachWhile((f=>{const y=f.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(d=d.add(f.Hr)),!0)}),u),J.resolve(this.ei(d))}ei(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){it(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return J.forEach(t.mutations,(o=>{const a=new xt(o.key,t.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,t){const s=new xt(t,0),o=this.Yr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class eN{constructor(e){this.ni=e,this.docs=(function(){return new ht(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),a=o?o.size:0,u=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(t))}getEntries(e,t){let s=Bs();return t.forEach((o=>{const a=this.docs.get(o);s=s.insert(o,a?a.document.mutableCopy():$t.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let a=Bs();const u=t.path,d=new we(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:y,value:{document:v}}=f.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||Lx(Dx(v),s)<=0||(o.has(v.key)||_h(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,s,o){Re(9500)}ri(e,t){return J.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new tN(this)}getSize(e){return J.resolve(this.size)}}class tN extends Kb{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),J.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class nN{constructor(e){this.persistence=e,this.ii=new Vi((t=>Bp(t)),zp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new Kp,this.targetCount=0,this._i=Jo.ar()}forEachTarget(e,t){return this.ii.forEach(((s,o)=>t(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),J.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Jo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.hr(t),J.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const a=[];return this.ii.forEach(((u,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.ii.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),J.waitFor(a).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this.oi.containsKey(t))}}class ME{constructor(e,t){this.ai={},this.overlays={},this.ui=new mh(0),this.ci=!1,this.ci=!0,this.li=new Yb,this.referenceDelegate=e(this),this.hi=new nN(this),this.indexManager=new jb,this.remoteDocumentCache=(function(o){return new eN(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new Fb(t),this.Ti=new Jb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new Zb(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){le("MemoryPersistence","Starting transaction:",e);const o=new rN(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,t){return J.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,t))))}}class rN extends Mx{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Ai=new Kp,this.Ri=null}static Vi(e){return new Qp(e)}get mi(){if(this.Ri)return this.Ri;throw Re(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.mi.add(a.toString())))})).next((()=>s.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,(s=>{const o=we.fromPath(s);return this.fi(e,o).next((a=>{a||t.removeEntry(o,Se.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return J.or([()=>J.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Qc{constructor(e,t){this.persistence=e,this.gi=new Vi((s=>Bx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Wb(this,t)}static Vi(e,t){return new Qc(e,t)}Ii(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}yr(e){let t=0;return this.gr(e,(s=>{t++})).next((()=>t))}gr(e,t){return J.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((a=>a?J.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ri(e,(u=>this.Sr(e,u,t).next((d=>{d||(s++,a.removeEntry(u,Se.min()))})))).next((()=>a.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),J.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rc(e.data.value)),t}Sr(e,t,s){return J.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Gp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=Fe(),o=Fe();for(const a of t.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Gp(e,t.fromCache,s,o)}}class sN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return qA()?8:Fx(Wt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const a={result:null};return this.ps(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ys(e,t,o,s).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new sN;return this.ws(e,t,u).next((d=>{if(a.result=d,this.Rs)return this.Ss(e,t,u,d.size)}))})).next((()=>a.result))}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(bo()<=be.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",No(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(bo()<=be.DEBUG&&le("QueryEngine","Query:",No(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(bo()<=be.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",No(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(t))):J.resolve())}ps(e,t){if(u_(t))return J.resolve(null);let s=vr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Yf(t,null,"F"),s=vr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((a=>{const u=Fe(...a);return this.gs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,s).next((f=>{const y=this.bs(t,d);return this.Ds(t,y,u,f.readTime)?this.ps(e,Yf(t,null,"F")):this.vs(e,y,t,f)}))))})))))}ys(e,t,s,o){return u_(t)||o.isEqual(Se.min())?J.resolve(null):this.gs.getDocuments(e,s).next((a=>{const u=this.bs(t,a);return this.Ds(t,u,s,o)?J.resolve(null):(bo()<=be.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),No(t)),this.vs(e,u,t,Ox(o,Rl)).next((d=>d)))}))}bs(e,t){let s=new St(gE(e));return t.forEach(((o,a)=>{_h(e,a)&&(s=s.add(a))})),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ws(e,t,s){return bo()<=be.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",No(t)),this.gs.getDocumentsMatchingQuery(e,t,Ms.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}const Jp="LocalStore",oN=3e8;class aN{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new ht(xe),this.Ms=new Vi((a=>Bp(a)),zp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gb(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function lN(n,e,t,s){return new aN(n,e,t,s)}async function FE(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((a=>(o=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(s)))).next((a=>{const u=[],d=[];let f=Fe();for(const y of o){u.push(y.batchId);for(const v of y.mutations)f=f.add(v.key)}for(const y of a){d.push(y.batchId);for(const v of y.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(s,f).next((y=>({Bs:y,removedBatchIds:u,addedBatchIds:d})))}))}))}function UE(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function uN(n,e){const t=Ve(n),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach(((v,E)=>{const T=o.get(E);if(!T)return;d.push(t.hi.removeMatchingKeys(a,v.removedDocuments,E).next((()=>t.hi.addMatchingKeys(a,v.addedDocuments,E))));let F=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?F=F.withResumeToken(Vt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(v.resumeToken,s)),o=o.insert(E,F),(function(O,k,Z){return O.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=oN?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(T,F,v)&&d.push(t.hi.updateTargetData(a,F))}));let f=Bs(),y=Fe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),d.push(cN(a,u,e.documentUpdates).next((v=>{f=v.Ls,y=v.ks}))),!s.isEqual(Se.min())){const v=t.hi.getLastRemoteSnapshotVersion(a).next((E=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,s)));d.push(v)}return J.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,y))).next((()=>f))})).then((a=>(t.Fs=o,a)))}function cN(n,e,t){let s=Fe(),o=Fe();return t.forEach((a=>s=s.add(a))),e.getEntries(n,s).next((a=>{let u=Bs();return t.forEach(((d,f)=>{const y=a.get(d);f.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Se.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||f.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):le(Jp,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",f.version)})),{Ls:u,ks:o}}))}function hN(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.hi.getTargetData(s,e).next((a=>a?(o=a,J.resolve(o)):t.hi.allocateTargetId(s).next((u=>(o=new Ps(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s}))}async function sp(n,e,t){const s=Ve(n),o=s.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",a,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!aa(u))throw u;le(Jp,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function T_(n,e,t){const s=Ve(n);let o=Se.min(),a=Fe();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,y,v){const E=Ve(f),T=E.Ms.get(v);return T!==void 0?J.resolve(E.Fs.get(T)):E.hi.getTargetData(y,v)})(s,u,vr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,t?o:Se.min(),t?a:Fe()))).next((d=>(dN(s,ob(e),d),{documents:d,qs:a})))))}function dN(n,e,t){let s=n.xs.get(e)||Se.min();t.forEach(((o,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)})),n.xs.set(e,s)}class I_{constructor(){this.activeTargetIds=db()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fN{constructor(){this.Fo=new I_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new I_,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pN{xo(e){}shutdown(){}}const S_="ConnectivityMonitor";class R_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){le(S_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){le(S_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pc=null;function ip(){return pc===null?pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():pc++,"0x"+pc.toString(16)}const yf="RestConnection",mN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===$c?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,a){const u=ip(),d=this.Go(e,t.toUriEncodedString());le(yf,`Sending RPC '${e}' ${u}:`,d,s);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,o,a);const{host:y}=new URL(d),v=Oi(y);return this.jo(e,d,f,s,v).then((E=>(le(yf,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw Vs(yf,`RPC '${e}' ${u} failed with error: `,E,"url: ",d,"request:",s),E}))}Jo(e,t,s,o,a,u){return this.Wo(e,t,s,o,a)}zo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),s&&s.headers.forEach(((o,a)=>e[a]=o))}Go(e,t){const s=mN[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}class yN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const Bt="WebChannelConnection";class vN extends gN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,a){const u=ip();return new Promise(((d,f)=>{const y=new zw;y.setWithCredentials(!0),y.listenOnce($w.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Sc.NO_ERROR:const E=y.getResponseJson();le(Bt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case Sc.TIMEOUT:le(Bt,`RPC '${e}' ${u} timed out`),f(new ce(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:const T=y.getStatus();if(le(Bt,`RPC '${e}' ${u} failed with status:`,T,"response text:",y.getResponseText()),T>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const P=F?.error;if(P&&P.status&&P.message){const O=(function(Z){const Q=Z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Q)>=0?Q:ne.UNKNOWN})(P.status);f(new ce(O,P.message))}else f(new ce(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new ce(ne.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{c_:e,streamId:u,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{le(Bt,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);le(Bt,`RPC '${e}' ${u} sending request:`,o),y.send(t,"POST",v,s,15)}))}P_(e,t,s){const o=ip(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Ww(),d=Hw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,t,s),f.encodeInitMessageHeaders=!0;const v=a.join("");le(Bt,`Creating RPC '${e}' stream ${o}: ${v}`,f);const E=u.createWebChannel(v,f);this.T_(E);let T=!1,F=!1;const P=new yN({Ho:k=>{F?le(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(T||(le(Bt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),le(Bt,`RPC '${e}' stream ${o} sending:`,k),E.send(k))},Yo:()=>E.close()}),O=(k,Z,Q)=>{k.listen(Z,(G=>{try{Q(G)}catch(X){setTimeout((()=>{throw X}),0)}}))};return O(E,ul.EventType.OPEN,(()=>{F||(le(Bt,`RPC '${e}' stream ${o} transport opened.`),P.s_())})),O(E,ul.EventType.CLOSE,(()=>{F||(F=!0,le(Bt,`RPC '${e}' stream ${o} transport closed`),P.__(),this.I_(E))})),O(E,ul.EventType.ERROR,(k=>{F||(F=!0,Vs(Bt,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),P.__(new ce(ne.UNAVAILABLE,"The operation could not be completed")))})),O(E,ul.EventType.MESSAGE,(k=>{var Z;if(!F){const Q=k.data[0];it(!!Q,16349);const G=Q,X=G?.error||((Z=G[0])===null||Z===void 0?void 0:Z.error);if(X){le(Bt,`RPC '${e}' stream ${o} received error:`,X);const de=X.status;let ge=(function(A){const b=pt[A];if(b!==void 0)return RE(b)})(de),x=X.message;ge===void 0&&(ge=ne.INTERNAL,x="Unknown error status: "+de+" with message "+X.message),F=!0,P.__(new ce(ge,x)),E.close()}else le(Bt,`RPC '${e}' stream ${o} received:`,Q),P.a_(Q)}})),O(d,qw.STAT_EVENT,(k=>{k.stat===qf.PROXY?le(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===qf.NOPROXY&&le(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.o_()}),0),P}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function vf(){return typeof document<"u"?document:null}function Ih(n){return new Pb(n,!0)}class jE{constructor(e,t,s=1e3,o=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const A_="PersistentStream";class _N{constructor(e,t,s,o,a,u,d,f){this.Fi=e,this.w_=s,this.S_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new jE(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Kr(t.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===t&&this.W_(s,o)}),(s=>{e((()=>{const o=new ce(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return le(A_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(le(A_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wN extends _N{constructor(e,t,s,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,u),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=xb(this.serializer,e),s=(function(a){if(!("targetChange"in a))return Se.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?Uo(u.readTime):Se.min()})(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=v_(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=Jf(f)?{documents:bb(a,f)}:{query:Nb(a,f).Vt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=PE(a,u.resumeToken);const y=tp(a,u.expectedCount);y!==null&&(d.expectedCount=y)}else if(u.snapshotVersion.compareTo(Se.min())>0){d.readTime=np(a,u.snapshotVersion.toTimestamp());const y=tp(a,u.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,e);const s=Db(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=v_(this.serializer),t.removeTarget=e,this.k_(t)}}class EN{}class TN extends EN{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ce(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,rp(t,s),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(ne.UNKNOWN,a.toString())}))}Jo(e,t,s,o,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Jo(e,rp(t,s),o,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ne.UNKNOWN,u.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class IN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Kr(t),this._a=!1):le("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}const Xo="RemoteStore";class SN{constructor(e,t,s,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((u=>{s.enqueueAndForget((async()=>{$l(this)&&(le(Xo,"Restarting streams for network reachability change."),await(async function(f){const y=Ve(f);y.Ia.add(4),await zl(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Sh(y)})(this))}))})),this.Aa=new IN(s,o)}}async function Sh(n){if($l(n))for(const e of n.da)await e(!0)}async function zl(n){for(const e of n.da)await e(!1)}function BE(n,e){const t=Ve(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),em(t)?Zp(t):ca(t).x_()&&Yp(t,e))}function Xp(n,e){const t=Ve(n),s=ca(t);t.Ta.delete(e),s.x_()&&zE(t,e),t.Ta.size===0&&(s.x_()?s.B_():$l(t)&&t.Aa.set("Unknown"))}function Yp(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ca(n).H_(e)}function zE(n,e){n.Ra.$e(e),ca(n).Y_(e)}function Zp(n){n.Ra=new Sb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),ca(n).start(),n.Aa.aa()}function em(n){return $l(n)&&!ca(n).M_()&&n.Ta.size>0}function $l(n){return Ve(n).Ia.size===0}function $E(n){n.Ra=void 0}async function RN(n){n.Aa.set("Online")}async function AN(n){n.Ta.forEach(((e,t)=>{Yp(n,e)}))}async function CN(n,e){$E(n),em(n)?(n.Aa.la(e),Zp(n)):n.Aa.set("Unknown")}async function PN(n,e,t){if(n.Aa.set("Online"),e instanceof CE&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ta.delete(d),o.Ra.removeTarget(d))})(n,e)}catch(s){le(Xo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await C_(n,s)}else if(e instanceof Cc?n.Ra.Ye(e):e instanceof AE?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Se.min()))try{const s=await UE(n.localStore);t.compareTo(s)>=0&&await(function(a,u){const d=a.Ra.Pt(u);return d.targetChanges.forEach(((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ta.get(y);v&&a.Ta.set(y,v.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,y)=>{const v=a.Ta.get(f);if(!v)return;a.Ta.set(f,v.withResumeToken(Vt.EMPTY_BYTE_STRING,v.snapshotVersion)),zE(a,f);const E=new Ps(v.target,f,y,v.sequenceNumber);Yp(a,E)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(s){le(Xo,"Failed to raise snapshot:",s),await C_(n,s)}}async function C_(n,e,t){if(!aa(e))throw e;n.Ia.add(1),await zl(n),n.Aa.set("Offline"),t||(t=()=>UE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{le(Xo,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Sh(n)}))}async function P_(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),le(Xo,"RemoteStore received new credentials");const s=$l(t);t.Ia.add(3),await zl(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Sh(t)}async function kN(n,e){const t=Ve(n);e?(t.Ia.delete(2),await Sh(t)):e||(t.Ia.add(2),await zl(t),t.Aa.set("Unknown"))}function ca(n){return n.Va||(n.Va=(function(t,s,o){const a=Ve(t);return a.ia(),new wN(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:RN.bind(null,n),e_:AN.bind(null,n),n_:CN.bind(null,n),J_:PN.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),em(n)?Zp(n):n.Aa.set("Unknown")):(await n.Va.stop(),$E(n))}))),n.Va}class tm{constructor(e,t,s,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=a,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,a){const u=Date.now()+s,d=new tm(e,t,u,o,a);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qE(n,e){if(Kr("AsyncQueue",`${e}: ${n}`),aa(n))return new ce(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||we.comparator(t.key,s.key):(t,s)=>we.comparator(t.key,s.key),this.keyedMap=cl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=s.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new jo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class k_{constructor(){this.fa=new ht(we.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Re(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Yo{constructor(e,t,s,o,a,u,d,f,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new Yo(e,t,jo.emptySet(t),u,s,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class xN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class bN{constructor(){this.queries=x_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Ve(t),a=o.queries;o.queries=x_(),a.forEach(((u,d)=>{for(const f of d.wa)f.onError(s)}))})(this,new ce(ne.ABORTED,"Firestore shutting down"))}}function x_(){return new Vi((n=>mE(n)),vh)}async function NN(n,e){const t=Ve(n);let s=3;const o=e.query;let a=t.queries.get(o);a?!a.Sa()&&e.ba()&&(s=2):(a=new xN,s=e.ba()?0:1);try{switch(s){case 0:a.ya=await t.onListen(o,!0);break;case 1:a.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=qE(u,`Initialization of query '${No(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&nm(t)}async function ON(n,e){const t=Ve(n),s=e.query;let o=3;const a=t.queries.get(s);if(a){const u=a.wa.indexOf(e);u>=0&&(a.wa.splice(u,1),a.wa.length===0?o=e.ba()?0:1:!a.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function DN(n,e){const t=Ve(n);let s=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.wa)d.Ca(o)&&(s=!0);u.ya=o}}s&&nm(t)}function LN(n,e,t){const s=Ve(n),o=s.queries.get(e);if(o)for(const a of o.wa)a.onError(t);s.queries.delete(e)}function nm(n){n.Da.forEach((e=>{e.next()}))}var op,b_;(b_=op||(op={})).Fa="default",b_.Cache="cache";class VN{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==op.Cache}}class HE{constructor(e){this.key=e}}class WE{constructor(e){this.key=e}}class MN{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Fe(),this.mutatedKeys=Fe(),this.Xa=gE(e),this.eu=new jo(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new k_,o=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,E)=>{const T=o.get(v),F=_h(this.query,E)?E:null,P=!!T&&this.mutatedKeys.has(T.key),O=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let k=!1;T&&F?T.data.isEqual(F.data)?P!==O&&(s.track({type:3,doc:F}),k=!0):this.iu(T,F)||(s.track({type:2,doc:F}),k=!0,(f&&this.Xa(F,f)>0||y&&this.Xa(F,y)<0)&&(d=!0)):!T&&F?(s.track({type:0,doc:F}),k=!0):T&&!F&&(s.track({type:1,doc:T}),k=!0,(f||y)&&(d=!0)),k&&(F?(u=u.add(F),a=O?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),s.track({type:1,doc:v})}return{eu:u,ru:s,Ds:d,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort(((v,E)=>(function(F,P){const O=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{At:k})}};return O(F)-O(P)})(v.type,E.type)||this.Xa(v.doc,E.doc))),this.su(s),o=o!=null&&o;const d=t&&!o?this.ou():[],f=this.Za.size===0&&this.current&&!o?1:0,y=f!==this.Ya;return this.Ya=f,u.length!==0||y?{snapshot:new Yo(this.query,e.eu,a,u,e.mutatedKeys,f===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new k_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Fe(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const t=[];return e.forEach((s=>{this.Za.has(s)||t.push(new WE(s))})),this.Za.forEach((s=>{e.has(s)||t.push(new HE(s))})),t}uu(e){this.Ha=e.qs,this.Za=Fe();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Yo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const rm="SyncEngine";class FN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class UN{constructor(e){this.key=e,this.lu=!1}}class jN{constructor(e,t,s,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Vi((d=>mE(d)),vh),this.Tu=new Map,this.Iu=new Set,this.du=new ht(we.comparator),this.Eu=new Map,this.Au=new Kp,this.Ru={},this.Vu=new Map,this.mu=Jo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function BN(n,e,t=!0){const s=XE(n);let o;const a=s.Pu.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.cu()):o=await KE(s,e,t,!0),o}async function zN(n,e){const t=XE(n);await KE(t,e,!0,!1)}async function KE(n,e,t,s){const o=await hN(n.localStore,vr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return s&&(d=await $N(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&BE(n.remoteStore,o),d}async function $N(n,e,t,s,o){n.gu=(E,T,F)=>(async function(O,k,Z,Q){let G=k.view.nu(Z);G.Ds&&(G=await T_(O.localStore,k.query,!1).then((({documents:x})=>k.view.nu(x,G))));const X=Q&&Q.targetChanges.get(k.targetId),de=Q&&Q.targetMismatches.get(k.targetId)!=null,ge=k.view.applyChanges(G,O.isPrimaryClient,X,de);return O_(O,k.targetId,ge._u),ge.snapshot})(n,E,T,F);const a=await T_(n.localStore,e,!0),u=new MN(e,a.qs),d=u.nu(a.documents),f=Bl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),y=u.applyChanges(d,n.isPrimaryClient,f);O_(n,t,y._u);const v=new FN(e,t,u);return n.Pu.set(e,v),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),y.snapshot}async function qN(n,e,t){const s=Ve(n),o=s.Pu.get(e),a=s.Tu.get(o.targetId);if(a.length>1)return s.Tu.set(o.targetId,a.filter((u=>!vh(u,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Xp(s.remoteStore,o.targetId),ap(s,o.targetId)})).catch(ph)):(ap(s,o.targetId),await sp(s.localStore,o.targetId,!0))}async function HN(n,e){const t=Ve(n),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Xp(t.remoteStore,s.targetId))}async function QE(n,e){const t=Ve(n);try{const s=await uN(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=t.Eu.get(a);u&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.lu=!0:o.modifiedDocuments.size>0?it(u.lu,14607):o.removedDocuments.size>0&&(it(u.lu,42227),u.lu=!1))})),await JE(t,s,e)}catch(s){await ph(s)}}function N_(n,e,t){const s=Ve(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const f=Ve(u);f.onlineState=d;let y=!1;f.queries.forEach(((v,E)=>{for(const T of E.wa)T.va(d)&&(y=!0)})),y&&nm(f)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function WN(n,e,t){const s=Ve(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),a=o&&o.key;if(a){let u=new ht(we.comparator);u=u.insert(a,$t.newNoDocument(a,Se.min()));const d=Fe().add(a),f=new Th(Se.min(),new Map,new ht(xe),u,d);await QE(s,f),s.du=s.du.remove(a),s.Eu.delete(e),sm(s)}else await sp(s.localStore,e,!1).then((()=>ap(s,e,t))).catch(ph)}function ap(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Tu.get(e))n.Pu.delete(s),t&&n.hu.pu(s,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((s=>{n.Au.containsKey(s)||GE(n,s)}))}function GE(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Xp(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),sm(n))}function O_(n,e,t){for(const s of t)s instanceof HE?(n.Au.addReference(s.key,e),KN(n,s)):s instanceof WE?(le(rm,"Document no longer in limbo: "+s.key),n.Au.removeReference(s.key,e),n.Au.containsKey(s.key)||GE(n,s.key)):Re(19791,{yu:s})}function KN(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Iu.has(s)||(le(rm,"New document in limbo: "+t),n.Iu.add(s),sm(n))}function sm(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new we(et.fromString(e)),s=n.mu.next();n.Eu.set(s,new UN(t)),n.du=n.du.insert(t,s),BE(n.remoteStore,new Ps(vr(fE(t.path)),s,"TargetPurposeLimboResolution",mh.ue))}}async function JE(n,e,t){const s=Ve(n),o=[],a=[],u=[];s.Pu.isEmpty()||(s.Pu.forEach(((d,f)=>{u.push(s.gu(f,e,t).then((y=>{var v;if((y||t)&&s.isPrimaryClient){const E=y?!y.fromCache:(v=t?.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Gp.Es(f.targetId,y);a.push(E)}})))})),await Promise.all(u),s.hu.J_(o),await(async function(f,y){const v=Ve(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>J.forEach(y,(T=>J.forEach(T.Is,(F=>v.persistence.referenceDelegate.addReference(E,T.targetId,F))).next((()=>J.forEach(T.ds,(F=>v.persistence.referenceDelegate.removeReference(E,T.targetId,F)))))))))}catch(E){if(!aa(E))throw E;le(Jp,"Failed to update sequence numbers: "+E)}for(const E of y){const T=E.targetId;if(!E.fromCache){const F=v.Fs.get(T),P=F.snapshotVersion,O=F.withLastLimboFreeSnapshotVersion(P);v.Fs=v.Fs.insert(T,O)}}})(s.localStore,a))}async function QN(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){le(rm,"User change. New user:",e.toKey());const s=await FE(t.localStore,e);t.currentUser=e,(function(a,u){a.Vu.forEach((d=>{d.forEach((f=>{f.reject(new ce(ne.CANCELLED,u))}))})),a.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await JE(t,s.Bs)}}function GN(n,e){const t=Ve(n),s=t.Eu.get(e);if(s&&s.lu)return Fe().add(s.key);{let o=Fe();const a=t.Tu.get(e);if(!a)return o;for(const u of a){const d=t.Pu.get(u);o=o.unionWith(d.view.tu)}return o}}function XE(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=QE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WN.bind(null,e),e.hu.J_=DN.bind(null,e.eventManager),e.hu.pu=LN.bind(null,e.eventManager),e}class Gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return lN(this.persistence,new iN,e.initialUser,this.serializer)}Du(e){return new ME(Qp.Vi,this.serializer)}bu(e){return new fN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gc.provider={build:()=>new Gc};class JN extends Gc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){it(this.persistence.referenceDelegate instanceof Qc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new qb(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new ME((s=>Qc.Vi(s,t)),this.serializer)}}class lp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>N_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=QN.bind(null,this.syncEngine),await kN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bN})()}createDatastore(e){const t=Ih(e.databaseInfo.databaseId),s=(function(a){return new vN(a)})(e.databaseInfo);return(function(a,u,d,f){return new TN(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,a,u,d){return new SN(s,o,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>N_(this.syncEngine,t,0)),(function(){return R_.C()?new R_:new pN})())}createSyncEngine(e,t){return(function(o,a,u,d,f,y,v){const E=new jN(o,a,u,d,f,y);return v&&(E.fu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=Ve(o);le(Xo,"RemoteStore shutting down."),a.Ia.add(5),await zl(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lp.provider={build:()=>new lp};class XN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const zs="FirestoreClient";class YN{constructor(e,t,s,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=Jw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,(async u=>{le(zs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(le(zs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=qE(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function _f(n,e){n.asyncQueue.verifyOperationInProgress(),le(zs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await FE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{Vs("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{le("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Vs("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),n._offlineComponents=e}async function D_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ZN(n);le(zs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>P_(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>P_(e.remoteStore,o))),n._onlineComponents=e}async function ZN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(zs,"Using user provided OfflineComponentProvider");try{await _f(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Vs("Error using user provided cache. Falling back to memory cache: "+t),await _f(n,new Gc)}}else le(zs,"Using default OfflineComponentProvider"),await _f(n,new JN(void 0));return n._offlineComponents}async function eO(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(zs,"Using user provided OnlineComponentProvider"),await D_(n,n._uninitializedComponentsProvider._online)):(le(zs,"Using default OnlineComponentProvider"),await D_(n,new lp))),n._onlineComponents}async function tO(n){const e=await eO(n),t=e.eventManager;return t.onListen=BN.bind(null,e.syncEngine),t.onUnlisten=qN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HN.bind(null,e.syncEngine),t}function nO(n,e,t={}){const s=new Si;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,y){const v=new XN({next:T=>{v.Ou(),u.enqueueAndForget((()=>ON(a,E))),T.fromCache&&f.source==="server"?y.reject(new ce(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),E=new VN(d,v,{includeMetadataChanges:!0,ka:!0});return NN(a,E)})(await tO(n),n.asyncQueue,e,t,s))),s.promise}function YE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const L_=new Map;const ZE="firestore.googleapis.com",V_=!0;class M_{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZE,this.ssl=V_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:V_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zb)throw new ce(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class im{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Ix;switch(s.type){case"firstParty":return new Cx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=L_.get(t);s&&(le("ComponentProvider","Removing Datastore"),L_.delete(t),s.terminate())})(this),Promise.resolve()}}function rO(n,e,t,s={}){var o;n=Wf(n,im);const a=Oi(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(Sp(`https://${f}`),Rp("Firestore",!0)),u.host!==ZE&&u.host!==f&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},u),{host:f,ssl:a,emulatorOptions:s});if(!ki(y,d)&&(n._setSettings(y),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=zt.MOCK_USER;else{v=X0(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ce(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new zt(T)}n._authCredentials=new Sx(new Qw(v,E))}}class Mi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mi(this.firestore,e,this._query)}}class Yt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(jl(t,Yt._jsonSchema))return new Yt(e,s||null,new we(et.fromString(t.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:gt("string",Yt._jsonSchemaVersion),referencePath:gt("string")};class Bo extends Mi{constructor(e,t,s){super(e,t,fE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new we(e))}withConverter(e){return new Bo(this.firestore,e,this._path)}}function cD(n,e,...t){if(n=fn(n),n instanceof im){const s=et.fromString(e,...t);return Gv(s),new Bo(n,null,s)}{if(!(n instanceof Yt||n instanceof Bo))throw new ce(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(et.fromString(e,...t));return Gv(s),new Bo(n.firestore,null,s)}}const F_="AsyncQueue";class U_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new jE(this,"async_queue_retry"),this.oc=()=>{const s=vf();s&&le(F_,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=vf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=vf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Si;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!aa(e))throw e;le(F_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,Kr("INTERNAL UNHANDLED ERROR: ",j_(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=tm.createAndSchedule(this,e,t,s,(a=>this.lc(a)));return this.ec.push(o),o}ac(){this.tc&&Re(47125,{hc:j_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function j_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class eT extends im{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new U_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U_(e),this._firestoreClient=void 0,await e}}}function sO(n,e){const t=typeof n=="object"?n:lh(),s=typeof n=="string"?n:$c,o=ah(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const a=Q0("firestore");a&&rO(o,...a)}return o}function iO(n){if(n._terminated)throw new ce(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||oO(n),n._firestoreClient}function oO(n){var e,t,s;const o=n._freezeSettings(),a=(function(d,f,y,v){return new qx(d,f,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,YE(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new YN(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(d){const f=d?._online.build();return{_offline:d?._offline.build(f),_online:f}})(n._componentsProvider))}class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Vt.fromBase64String(e))}catch(t){throw new ce(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new On(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jl(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:gt("string",On._jsonSchemaVersion),bytes:gt("string")};class tT{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nT{constructor(e){this._methodName=e}}class _r{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(jl(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:gt("string",_r._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};class wr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jl(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new wr(e.vectorValues);throw new ce(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:gt("string",wr._jsonSchemaVersion),vectorValues:gt("object")};const aO=/^__.*__$/;function rT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ec:n})}}class om{constructor(e,t,s,o,a,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new om(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return up(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(rT(this.Ec)&&aO.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class lO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ih(e)}Dc(e,t,s,o=!1){return new om({Ec:e,methodName:t,bc:s,path:Ht.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uO(n){const e=n._freezeSettings(),t=Ih(n._databaseId);return new lO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function cO(n,e,t,s=!1){return am(t,n.Dc(s?4:3,e))}function am(n,e){if(sT(n=fn(n)))return dO("Unsupported field value:",e,n),hO(n,e);if(n instanceof nT)return(function(s,o){if(!rT(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const a=[];let u=0;for(const d of s){let f=am(d,o.yc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(s,o){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=tt.fromDate(s);return{timestampValue:np(o.serializer,a)}}if(s instanceof tt){const a=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:np(o.serializer,a)}}if(s instanceof _r)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:PE(o.serializer,s._byteString)};if(s instanceof Yt){const a=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(a))throw o.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:kE(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wr)return(function(u,d){return{mapValue:{fields:{[iE]:{stringValue:oE},[qc]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw d.wc("VectorValues must only contain numeric values.");return $p(d.serializer,y)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${fh(s)}`)})(n,e)}function hO(n,e){const t={};return Zw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(n,((s,o)=>{const a=am(o,e.Vc(s));a!=null&&(t[s]=a)})),{mapValue:{fields:t}}}function sT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof _r||n instanceof On||n instanceof Yt||n instanceof nT||n instanceof wr)}function dO(n,e,t){if(!sT(t)||!Xw(t)){const s=fh(t);throw s==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+s)}}const fO=new RegExp("[~\\*/\\[\\]]");function pO(n,e,t){if(e.search(fO)>=0)throw up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tT(...e.split("."))._internalPath}catch{throw up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function up(n,e,t,s,o){const a=s&&!s.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${s}`),u&&(f+=` in document ${o}`),f+=")"),new ce(ne.INVALID_ARGUMENT,d+n+f)}class iT{constructor(e,t,s,o,a){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mO extends iT{data(){return super.data()}}function lm(n,e){return typeof e=="string"?pO(n,e):e instanceof tT?e._internalPath:e._delegate._internalPath}function gO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class um{}class oT extends um{}function hD(n,e,...t){let s=[];e instanceof um&&s.push(e),s=s.concat(t),(function(a){const u=a.filter((f=>f instanceof hm)).length,d=a.filter((f=>f instanceof cm)).length;if(u>1||u>0&&d>0)throw new ce(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class cm extends oT{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new cm(e,t,s)}_apply(e){const t=this._parse(e);return aT(e._query,t),new Mi(e.firestore,e.converter,Xf(e._query,t))}_parse(e){const t=uO(e.firestore);return(function(a,u,d,f,y,v,E){let T;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ce(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){z_(E,v);const P=[];for(const O of E)P.push(B_(f,a,O));T={arrayValue:{values:P}}}else T=B_(f,a,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||z_(E,v),T=cO(d,u,E,v==="in"||v==="not-in");return mt.create(y,v,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class hm extends um{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hm(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let u=o;const d=a.getFlattenedFilters();for(const f of d)aT(u,f),u=Xf(u,f)})(e._query,t),new Mi(e.firestore,e.converter,Xf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dm extends oT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dm(e,t)}_apply(e){const t=(function(o,a,u){if(o.startAt!==null)throw new ce(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kl(a,u)})(e._query,this._field,this._direction);return new Mi(e.firestore,e.converter,(function(o,a){const u=o.explicitOrderBy.concat([a]);return new ua(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function dD(n,e="asc"){const t=e,s=lm("orderBy",n);return dm._create(s,t)}function B_(n,e,t){if(typeof(t=fn(t))=="string"){if(t==="")throw new ce(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pE(e)&&t.indexOf("/")!==-1)throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!we.isDocumentKey(s))throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return r_(n,new we(s))}if(t instanceof Yt)return r_(n,t._key);throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(t)}.`)}function z_(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aT(n,e){const t=(function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yO{convertValue(e,t="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return la(e,((o,a)=>{s[o]=this.convertValue(a,t)})),s}convertVectorValue(e){var t,s,o;const a=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[qc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((u=>ut(u.doubleValue)));return new wr(a)}convertGeoPoint(e){return new _r(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=yh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Al(e));default:return null}}convertTimestamp(e){const t=Fs(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);it(LE(s),9688,{name:e});const o=new Cl(s.get(1),s.get(3)),a=new we(s.popFirst(5));return o.isEqual(t)||Kr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class mc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zo extends iT{constructor(e,t,s,o,a,u){super(e,t,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(lm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=zo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",zo._jsonSchema={type:gt("string",zo._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Pc extends zo{data(e={}){return super.data(e)}}class $o{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new mc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Pc(this._firestore,this._userDataWriter,s.key,s,new mc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const f=new Pc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new mc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new Pc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new mc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return d.type!==0&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:vO(d.type),doc:f,oldIndex:y,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),s.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}$o._jsonSchemaVersion="firestore/querySnapshot/1.0",$o._jsonSchema={type:gt("string",$o._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class _O extends yO{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,t)}}function fD(n){n=Wf(n,Mi);const e=Wf(n.firestore,eT),t=iO(e),s=new _O(e);return gO(n._query),nO(t,n._query).then((o=>new $o(e,s,n,o)))}(function(e,t=!0){(function(o){oa=o})(Di),xi(new Ls("firestore",((s,{instanceIdentifier:o,options:a})=>{const u=s.getProvider("app").getImmediate(),d=new eT(new Rx(s.getProvider("auth-internal")),new Px(u,s.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(y.options.projectId,v)})(u,o),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),mr(qv,Hv,e),mr(qv,Hv,"esm2017")})();const lT="firebasestorage.googleapis.com",wO="storageBucket",EO=120*1e3,TO=600*1e3;class Sr extends Ir{constructor(e,t,s=0){super(wf(e),`Firebase Storage: ${t} (${wf(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tr||(Tr={}));function wf(n){return"storage/"+n}function IO(){const n="An unknown error occurred, please check the error payload for server response.";return new Sr(Tr.UNKNOWN,n)}function SO(){return new Sr(Tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RO(){return new Sr(Tr.CANCELED,"User canceled the upload/download.")}function AO(n){return new Sr(Tr.INVALID_URL,"Invalid URL '"+n+"'.")}function CO(n){return new Sr(Tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function $_(n){return new Sr(Tr.INVALID_ARGUMENT,n)}function uT(){return new Sr(Tr.APP_DELETED,"The Firebase app was deleted.")}function PO(n){return new Sr(Tr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Jn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Jn.makeFromUrl(e,t)}catch{return new Jn(e,"")}if(s.path==="")return s;throw CO(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function a(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function y(X){X.path_=decodeURIComponent(X.path)}const v="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",F=new RegExp(`^https?://${E}/${v}/b/${o}/o${T}`,"i"),P={bucket:1,path:3},O=t===lT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",Z=new RegExp(`^https?://${O}/${o}/${k}`,"i"),G=[{regex:d,indices:f,postModify:a},{regex:F,indices:P,postModify:y},{regex:Z,indices:{bucket:1,path:2},postModify:y}];for(let X=0;X<G.length;X++){const de=G[X],ge=de.regex.exec(e);if(ge){const x=ge[de.indices.bucket];let S=ge[de.indices.path];S||(S=""),s=new Jn(x,S),de.postModify(s);break}}if(s==null)throw AO(e);return s}}class kO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function xO(n,e,t){let s=1,o=null,a=null,u=!1,d=0;function f(){return d===2}let y=!1;function v(...k){y||(y=!0,e.apply(null,k))}function E(k){o=setTimeout(()=>{o=null,n(F,f())},k)}function T(){a&&clearTimeout(a)}function F(k,...Z){if(y){T();return}if(k){T(),v.call(null,k,...Z);return}if(f()||u){T(),v.call(null,k,...Z);return}s<64&&(s*=2);let G;d===1?(d=2,G=0):G=(s+Math.random())*1e3,E(G)}let P=!1;function O(k){P||(P=!0,T(),!y&&(o!==null?(k||(d=2),clearTimeout(o),E(0)):k||(d=1)))}return E(0),a=setTimeout(()=>{u=!0,O(!0)},t),O}function bO(n){n(!1)}function NO(n){return n!==void 0}function q_(n,e,t,s){if(s<e)throw $_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw $_(`Invalid value for '${n}'. Expected ${t} or less.`)}function OO(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Jc;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Jc||(Jc={}));function DO(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}class LO{constructor(e,t,s,o,a,u,d,f,y,v,E,T=!0,F=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=E,this.retry=T,this.isUsingEmulator=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,O)=>{this.resolve_=P,this.reject_=O,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new gc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,y=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,y)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===Jc.NO_ERROR,f=a.getStatus();if(!d||DO(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===Jc.ABORT;s(!1,new gc(!1,null,v));return}const y=this.successCodes_.indexOf(f)!==-1;s(!0,new gc(y,a))})},t=(s,o)=>{const a=this.resolve_,u=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());NO(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=IO();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(o.canceled){const f=this.appDelete_?uT():RO();u(f)}else{const f=SO();u(f)}};this.canceled_?t(!1,new gc(!1,null,!0)):this.backoffId_=xO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gc{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function VO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function MO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function UO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function jO(n,e,t,s,o,a,u=!0,d=!1){const f=OO(n.urlParams),y=n.url+f,v=Object.assign({},n.headers);return FO(v,e),VO(v,t),MO(v,a),UO(v,s),new LO(y,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u,d)}function BO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function zO(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class Xc{constructor(e,t){this._service=e,t instanceof Jn?this._location=t:this._location=Jn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Xc(e,t)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zO(this._location.path)}get storage(){return this._service}get parent(){const e=BO(this._location.path);if(e===null)return null;const t=new Jn(this._location.bucket,e);return new Xc(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw PO(e)}}function H_(n,e){const t=e?.[wO];return t==null?null:Jn.makeFromBucketSpec(t,n)}function $O(n,e,t,s={}){n.host=`${e}:${t}`;const o=Oi(e);o&&(Sp(`https://${n.host}/b`),Rp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=s;a&&(n._overrideAuthToken=typeof a=="string"?a:X0(a,n.app.options.projectId))}class qO{constructor(e,t,s,o,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=lT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=EO,this._maxUploadRetryTime=TO,this._requests=new Set,o!=null?this._bucket=Jn.makeFromBucketSpec(o,this._host):this._bucket=H_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=H_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){q_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){q_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xc(this,e)}_makeRequest(e,t,s,o,a=!0){if(this._deleted)return new kO(uT());{const u=jO(e,this._appId,s,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const W_="@firebase/storage",K_="0.13.14";const cT="storage";function HO(n=lh(),e){n=fn(n);const s=ah(n,cT).getImmediate({identifier:e}),o=Q0("storage");return o&&WO(s,...o),s}function WO(n,e,t,s={}){$O(n,e,t,s)}function KO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new qO(t,s,o,e,Di)}function QO(){xi(new Ls(cT,KO,"PUBLIC").setMultipleInstances(!0)),mr(W_,K_,""),mr(W_,K_,"esm2017")}QO();const hT={apiKey:"AIzaSyACsMx8R69IaLSm9DWpUupgSRk8wIvjRfs",authDomain:"momentum-premium.firebaseapp.com",projectId:"momentum-premium",storageBucket:"momentum-premium.firebasestorage.app",messagingSenderId:"431576391107",appId:"1:431576391107:web:a01bfbbae32f48077bb176",measurementId:"G-XXXXXXX"};console.log(" Firebase config carregado:",hT);console.log(" Variveis do ambiente Vite:");console.log("API_KEY:","AIzaSyACsMx8R69IaLSm9DWpUupgSRk8wIvjRfs");console.log("API_URL:",Mp);console.log("ENVIRONMENT:","production");let xl;YC().length?(xl=lh(),console.log(" Firebase App reutilizado (j inicializado)")):(xl=ew(hT),console.log(" Firebase inicializado com sucesso"));const cn=vx(xl),pD=sO(xl);HO(xl);window.momentumAuth=cn;const ql=ct.create({baseURL:Mp,timeout:6e4});function GO(n){return/^https?:\/\//i.test(n)}function JO(n){if(typeof window>"u")return!1;try{return new URL(n,window.location.origin).origin===window.location.origin}catch{return!1}}function XO(n){const e=String(n.baseURL??ql.defaults.baseURL??Mp??"");return!GO(e)||JO(e)}async function YO(){return cn.currentUser?cn.currentUser:new Promise(n=>{const e=Pw(cn,t=>{e(),n(t)})})}ql.interceptors.request.use(async n=>{const e=await YO(),t={...n.headers||{}};if(XO(n)&&(delete t.Authorization,delete t.authorization),e){const s=await e.getIdToken();t["x-id-token"]=s}return t["x-tenant-id"]=jw(),n.headers=t,n});ql.interceptors.response.use(n=>n,n=>{const e=n?.response?.status,t=n?.response?.data?.error||n?.message||"Falha de rede. Tente novamente.";return e===401&&console.error("[API] 401 Unauthorized  verifique x-id-token e x-tenant-id.",{url:n?.config?.url}),e===403&&n?.response?.data?.feature&&console.warn("[API] 403 Upgrade required",n?.response?.data),Promise.reject({status:e,message:t,raw:n?.response?.data})});async function ZO(){try{const{data:n}=await ql.get("/alerts");return!n||n.status!=="ok"?[]:n.items||[]}catch{return[]}}async function e2(n){try{await ql.post(`/alerts/${n}/read`)}catch{}}function t2(){const n=_p(),e=I1({queryKey:["alerts"],queryFn:ZO,staleTime:6e4,refetchOnWindowFocus:!1}),t=S1({mutationFn:o=>e2(o),onSuccess:()=>{n.invalidateQueries({queryKey:["alerts"]})}}),s=e.data?.filter(o=>o.status==="unread").length??0;return{...e,unreadCount:s,markAsRead:t.mutateAsync}}const dT=j.createContext(null),n2=({children:n})=>{const[e,t]=j.useState([]),s=j.useCallback(o=>{const a=Date.now()+Math.random();t(u=>[...u,{id:a,...o}]),setTimeout(()=>{t(u=>u.filter(d=>d.id!==a))},4e3)},[]);return D.jsxs(dT.Provider,{value:{notify:s},children:[n,D.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",role:"status","aria-live":"polite",children:e.map(o=>{let a="rounded-xl px-4 py-3 shadow-md border text-sm bg-white";return o.type==="success"?a+=" border-emerald-300 bg-emerald-50 text-emerald-900":o.type==="error"?a+=" border-rose-300 bg-rose-50 text-rose-900":a+=" border-slate-200 bg-white text-slate-900",D.jsx("div",{className:a,children:D.jsx("span",{children:o.message})},o.id)})})]})};function fT(){const n=j.useContext(dT);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}function r2(){const{data:n,isLoading:e,error:t,unreadCount:s,markAsRead:o}=t2(),a=n??[],{notify:u}=fT(),[d,f]=j.useState(!1),y=j.useRef(null);j.useEffect(()=>{if(!d)return;const T=F=>{y.current&&(y.current.contains(F.target)||f(!1))};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[d]),j.useEffect(()=>{t&&u({type:"error",message:"No foi possvel carregar seus alertas agora. Tente novamente mais tarde."})},[t,u]);const v=()=>{f(T=>!T)},E=async T=>{try{await o(T)}catch{u({type:"error",message:"Erro ao marcar alerta como lido. Tente novamente."})}};return D.jsxs("div",{className:"relative",children:[D.jsxs("button",{type:"button",onClick:v,className:`relative inline-flex items-center justify-center w-9 h-9 rounded-full\r
                   border border-slate-200 bg-white/80 hover:bg-slate-50\r
                   dark:border-slate-700 dark:bg-slate-900/80 dark:hover:bg-slate-800\r
                   text-slate-700 dark:text-slate-100 shadow-sm hover:shadow-md\r
                   transition-all duration-200`,"aria-label":"Abrir alertas",children:[D.jsx(O1,{className:"w-4 h-4"}),s>0&&D.jsx("span",{className:`absolute -top-0.5 -right-0.5 inline-flex items-center justify-center\r
                       min-w-[16px] h-4 rounded-full bg-amber-500 text-[10px] font-semibold\r
                       text-white px-1 shadow-md`,children:s>9?"9+":s})]}),d&&D.jsxs("div",{ref:y,className:`absolute right-0 mt-2 w-80 max-h-96 overflow-auto rounded-2xl border\r
                     border-slate-200 bg-white/95 backdrop-blur-xl shadow-xl p-3\r
                     dark:border-slate-700 dark:bg-slate-900/95 z-50`,role:"dialog","aria-label":"Lista de alertas",children:[D.jsxs("div",{className:"flex items-center justify-between mb-2",children:[D.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Alertas"}),e&&D.jsx("span",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Atualizando..."})]}),a.length===0&&!e&&D.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nenhum alerta por enquanto. Quando houver algo importante sobre seu fluxo de caixa ou sade financeira, aparece aqui."}),D.jsx("ul",{className:"space-y-2",children:a.map(T=>D.jsx("li",{className:["rounded-xl border px-3 py-2 text-xs","transition-all duration-200",T.status==="unread"?"border-amber-300 bg-amber-50/80 dark:border-amber-500/60 dark:bg-amber-900/20":"border-slate-200 bg-white/80 dark:border-slate-700 dark:bg-slate-900/80"].join(" "),children:D.jsxs("div",{className:"flex items-start justify-between gap-2",children:[D.jsxs("div",{children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-100",children:T.title}),T.severity==="high"&&D.jsx("span",{className:`inline-flex items-center rounded-full bg-red-100 text-red-700\r
                                         dark:bg-red-900/40 dark:text-red-300 px-1.5 py-0.5 text-[10px] font-semibold`,children:"Crtico"}),T.severity==="medium"&&D.jsx("span",{className:`inline-flex items-center rounded-full bg-amber-100 text-amber-700\r
                                         dark:bg-amber-900/40 dark:text-amber-300 px-1.5 py-0.5 text-[10px] font-semibold`,children:"Ateno"}),T.severity==="low"&&D.jsx("span",{className:`inline-flex items-center rounded-full bg-emerald-100 text-emerald-700\r
                                         dark:bg-emerald-900/40 dark:text-emerald-300 px-1.5 py-0.5 text-[10px] font-semibold`,children:"Info"})]}),D.jsx("p",{className:"mt-1 text-[11px] text-slate-600 dark:text-slate-300",children:T.message}),T.createdAt&&D.jsx("p",{className:"mt-1 text-[10px] text-slate-400 dark:text-slate-500",children:new Date(T.createdAt).toLocaleString("pt-BR")})]}),T.status==="unread"&&D.jsx("button",{type:"button",onClick:()=>E(T.id),className:`text-[10px] font-medium text-slate-500 hover:text-slate-800\r
                                 dark:text-slate-400 dark:hover:text-slate-100`,children:"Marcar como lido"})]})},T.id))})]})]})}const s2=({onMenuClick:n})=>{const{theme:e,toggle:t}=A1(),s=j.useRef(null);return D.jsxs("header",{className:["fixed top-0 left-0 md:left-60 right-0 h-14 flex items-center justify-between","px-4 md:px-6 z-50","backdrop-blur-xl border-b transition-all duration-300","bg-white/80 border-slate-200 shadow-sm","dark:bg-slate-950/90 dark:border-slate-800 dark:shadow-none"].join(" "),role:"banner",children:[D.jsxs("button",{onClick:n,"aria-label":"Abrir menu lateral","aria-controls":"app-sidebar",className:`md:hidden mr-3 inline-flex items-center justify-center px-3 py-2 rounded-md
                   border border-slate-200/70 dark:border-slate-700
                   bg-white/80 dark:bg-slate-900/70
                   text-[color:var(--text-1)] shadow-sm hover:shadow-md transition-all duration-300`,title:"Menu",children:[D.jsx("span",{"aria-hidden":"true",children:""}),D.jsx("span",{className:"sr-only",children:"Menu"})]}),D.jsxs("div",{className:`flex items-center gap-2 flex-1 max-w-md px-3 py-1.5 rounded-full
                   border border-slate-200 dark:border-slate-700
                   bg-white/80 dark:bg-slate-900/70
                   shadow-inner backdrop-blur-xl transition-all duration-300`,role:"search","aria-label":"Buscar",children:[D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-[color:var(--text-2)]",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24","aria-hidden":"true",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 1010.5 18a7.5 7.5 0 006.15-3.35z"})}),D.jsx("input",{ref:s,type:"text",placeholder:"Buscar transaes...","aria-label":"Buscar transaes",className:"bg-transparent outline-none text-sm text-[color:var(--text-1)] w-full placeholder:[color:var(--text-2)]"})]}),D.jsxs("div",{className:"flex items-center gap-3 ml-3",children:[D.jsx(r2,{}),D.jsx("button",{onClick:t,className:`px-3 py-1.5 rounded-full border border-slate-200 dark:border-slate-700
                     bg-white/80 dark:bg-slate-900/80
                     text-[color:var(--text-1)] text-xs font-medium
                     shadow-sm hover:shadow-md transition-all duration-300`,"aria-label":e==="dark"?"Ativar tema claro":"Ativar tema escuro",title:e==="dark"?"Tema claro":"Tema escuro",children:e==="dark"?" Light":" Dark"}),D.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-r from-[var(--brand-1)] to-[var(--brand-2)]
                     flex items-center justify-center text-white font-semibold shadow-lg
                     hover:scale-105 transition-transform duration-300`,role:"img","aria-label":"Perfil",title:"Perfil",children:"M"})]})]})};function i2(n,e){j.useEffect(()=>{if(!e||!n.current)return;const t=n.current,s=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])","[tabindex]:not([tabindex='-1'])"].join(","),o=()=>Array.from(t.querySelectorAll(s)).filter(f=>!f.hasAttribute("disabled")&&!f.getAttribute("aria-hidden")),a=()=>{const f=o();f.length&&f[0].focus()},u=f=>{if(f.key!=="Tab")return;const y=o();if(!y.length)return;const v=y[0],E=y[y.length-1],T=document.activeElement;f.shiftKey?(T===v||!t.contains(T))&&(E.focus(),f.preventDefault()):(T===E||!t.contains(T))&&(v.focus(),f.preventDefault())},d=f=>{t.contains(f.relatedTarget)||a()};return requestAnimationFrame(a),document.addEventListener("keydown",u),t.addEventListener("focusout",d),()=>{document.removeEventListener("keydown",u),t.removeEventListener("focusout",d)}},[n,e])}function o2(n){const e=typeof n=="string"?n:n instanceof URL?n.toString():n instanceof Request?n.url:String(n);try{const t=typeof window<"u"?window.location.origin:"http://localhost",s=new URL(e,t);return(typeof window<"u"?s.origin===window.location.origin:!0)&&s.pathname.startsWith("/api")}catch{return e.startsWith("/api")}}async function Rh(n,e={}){const t=await cn.currentUser?.getIdToken(),s=new Headers(e.headers||{});o2(n)&&(s.delete("Authorization"),s.delete("authorization")),t&&s.set("x-id-token",t),s.has("x-tenant-id")||s.set("x-tenant-id",jw());let o=e.body;return o&&typeof o=="object"&&!(o instanceof FormData)&&!(o instanceof Blob)&&!(o instanceof ArrayBuffer)&&(s.has("Content-Type")||s.set("Content-Type","application/json"),o=JSON.stringify(o)),fetch(n,{...e,headers:s,body:o,credentials:e.credentials??"include"})}async function a2({text:n,voice:e,profile:t}){const s=await Rh("/api/voice/tts",{method:"POST",body:{text:n,voice:e,profile:t}});if(!s.ok)throw new Error(`/api/voice/tts -> ${s.status}`);return s.blob()}async function l2(){const n=await Rh("/api/voice/stt/start",{method:"POST"});if(!n.ok)throw new Error(`/api/voice/stt/start -> ${n.status}`);return n.json()}async function u2(n){const e=await Rh(`/api/voice/stt/stop?sessionId=${encodeURIComponent(n)}`,{method:"POST"});if(!e.ok)throw new Error(`/api/voice/stt/stop -> ${e.status}`);return e.json()}function mD(n,e){}function c2(){const n=j.useRef(null),[e,t]=j.useState(!1),[s,o]=j.useState(null);async function a(d){try{t(!0),o(null);const f=await a2(d),y=URL.createObjectURL(f);n.current||(n.current=new Audio),n.current.src=y,await n.current.play(),d.profile}catch(f){o(f),String(f?.message||f)}finally{t(!1)}}function u(){n.current&&(n.current.pause(),n.current.currentTime=0)}return{speak:a,stop:u,loading:e,error:s}}function h2(){const[n,e]=j.useState(!1),[t,s]=j.useState(""),[o,a]=j.useState(null),u=j.useRef(null),d=j.useRef(null);async function f(){try{a(null);const v=await navigator.mediaDevices.getUserMedia({audio:!0});d.current=new MediaRecorder(v);const{sessionId:E}=await l2();u.current=E,d.current.start(),e(!0)}catch(v){a(v),String(v?.message||v)}}async function y(){try{d.current?.stop(),d.current?.stream.getTracks().forEach(T=>T.stop());const v=u.current,{text:E}=await u2(v);return s(E),e(!1),E}catch(v){return a(v),e(!1),""}}return j.useEffect(()=>()=>d.current?.stream.getTracks().forEach(v=>v.stop()),[]),{start:f,stop:y,recording:n,transcript:t,error:o}}function d2({playing:n,label:e="Tocando"}){return D.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full border px-2 py-1 text-xs ${n?"border-emerald-300 bg-emerald-50 text-emerald-700":"border-slate-200 bg-slate-50 text-slate-600"}`,children:[D.jsx("span",{className:"h-2 w-2 rounded-full animate-pulse bg-current","aria-hidden":!0}),n?e:"Pronto"]})}function f2({recording:n,onStart:e,onStop:t}){return n?D.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 rounded-xl bg-rose-600 text-white px-3 py-2 text-sm hover:bg-rose-700",children:[D.jsx(Q1,{className:"h-4 w-4"})," Parar"]}):D.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 rounded-xl bg-emerald-600 text-white px-3 py-2 text-sm hover:bg-emerald-700",children:[D.jsx(W1,{className:"h-4 w-4"})," Gravar"]})}const pT={voiceTTS:!0,voiceSTT:!0,supportDock:!0,advisorDock:!0},mT=j.createContext({flags:pT});function p2({children:n,flags:e}){const t=j.useMemo(()=>({...pT,...e??{}}),[e]);return D.jsx(mT.Provider,{value:{flags:t},children:n})}function m2(){return j.useContext(mT).flags}function g2(n,e){return n==="neural_premium"?e==="advisor"?"pt-BR-Neural-Premium-Advisor":"pt-BR-Neural-Premium-Tutorial":n==="neural"?e==="advisor"?"pt-BR-Neural-Advisor":"pt-BR-Neural-Tutorial":e==="advisor"?"pt-BR-Standard-A":"pt-BR-Standard-B"}function y2(n,e,t){const s=e[t]?.voiceId;return s&&s.trim().length>0?s.trim():g2(n,t)}function gT(){const[n,e]=j.useState(null);return j.useEffect(()=>{if(!cn)return;const t=Cw(cn,async s=>{if(!s){e(null);return}try{const o=await s.getIdToken();e(o)}catch{e(null)}});return()=>{t()}},[]),n}async function v2(n,e,t){const s=await Rh("/api/support/chat",{method:"POST",body:{question:n,locale:e,sessionId:t}});if(!s.ok){let o=null;try{o=await s.json()}catch{}const a=new Error(o?.message??"No foi possvel falar com o suporte automatizado agora. Tente novamente em alguns instantes.");throw o?.code&&(a.code=o.code),a}return await s.json()}const Q_={id:"system-welcome",role:"system",content:`Sou o assistente de suporte do Momentum. Posso te ajudar com:
 como usar o painel
 entender seus relatrios
 saber onde ajustar planos e crditos
 tirar dvidas sobre CFO, Pulse, Mercado e Voz.
No respondo dvidas legais, tributrias ou mdicas.`,createdAt:new Date};function _2(){const n=gT(),[e,t]=j.useState([Q_]),[s,o]=j.useState(!1),[a,u]=j.useState(null),[d,f]=j.useState(!1),[y,v]=j.useState(void 0),E=j.useMemo(()=>navigator?.language??"pt-BR",[]),T=j.useCallback(()=>{t([{...Q_,createdAt:new Date}]),u(null),f(!1),v(void 0)},[]),F=j.useCallback(async P=>{const O=P.trim();if(!O||s)return;if(!n){u(new Error("Voc precisa estar autenticado para falar com o suporte Momentum."));return}const k=new Date,Z={id:`user-${k.getTime()}`,role:"user",content:O,createdAt:k};t(Q=>[...Q,Z]),o(!0),u(null),f(!1);try{const Q=await v2(O,E,y);Q.sessionId&&Q.sessionId!==y&&v(Q.sessionId);const G={id:`assistant-${Date.now()}`,role:"assistant",content:Q.answer,createdAt:new Date};t(X=>[...X,G])}catch(Q){(Q&&Q.code)==="NO_CREDITS"&&f(!0);const X=Q instanceof Error?Q.message:"No consegui responder agora. Tente novamente em alguns instantes.";u(new Error(X)),t(de=>[...de,{id:`assistant-error-${Date.now()}`,role:"assistant",content:X,createdAt:new Date}])}finally{o(!1)}},[s,E,n,y]);return{messages:e,isSending:s,error:a,noCredits:d,sendMessage:F,reset:T}}function w2({initialOpen:n=!1}){const[e,t]=j.useState(n),s=gT(),{features:o,voiceProfiles:a}=m2(),d=!!s||!1,f=o??{voiceTier:"none",voiceTTS:!1,voiceSTT:!1},y=a??[],v=y2(f.voiceTier,y,"support"),E=j.useRef(null),{messages:T,isSending:F,error:P,noCredits:O,sendMessage:k,reset:Z}=_2(),[Q,G]=j.useState(""),{speak:X,loading:de}=c2(),{start:ge,stop:x,recording:S,transcript:A}=h2();i2(E,e),j.useEffect(()=>{A.trim()&&G(A)},[A]),j.useEffect(()=>{function Ae(){t(!0)}return window.addEventListener("open-support-dock",Ae),()=>{window.removeEventListener("open-support-dock",Ae)}},[]);function b(){t(Ae=>!Ae)}async function L(){const Ae=Q.trim();!Ae||F||!d||O||(await k(Ae),G(""))}async function U(){if(!f.voiceTTS||!d)return;const Ae=[...T].reverse().find(Ue=>Ue.role==="assistant");Ae&&await X({text:Ae.content,voice:v,profile:"tutorial"})}const C=F||!d||O,Be=!d||O;return D.jsxs("div",{className:"fixed bottom-4 right-4 z-40 flex flex-col items-end gap-2",children:[e&&D.jsxs("div",{ref:E,className:"flex w-full max-w-sm flex-col overflow-hidden rounded-2xl border border-slate-200/80 bg-white/95 shadow-2xl transition-all max-h-[70vh] backdrop-blur-xl dark:border-white/10 dark:bg-slate-950/90",role:"dialog","aria-modal":"false","aria-label":"Suporte Momentum",children:[D.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200/80 px-4 py-2 dark:border-slate-800/70",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-emerald-600 text-xs font-semibold text-white",children:"M"}),D.jsxs("div",{className:"flex flex-col",children:[D.jsx("span",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Suporte Momentum"}),D.jsx("span",{className:"text-[11px] text-slate-500 dark:text-slate-300",children:"Tire dvidas sobre como usar o Momentum"})]}),D.jsx(d2,{active:de&&d,label:f.voiceTTS&&d?"Voz ativada":"Voz desativada"})]}),D.jsxs("div",{className:"flex items-center gap-1",children:[f.voiceTTS&&d&&D.jsx("button",{onClick:U,className:"rounded-lg p-1.5 hover:bg-slate-50 dark:hover:bg-slate-900/70",title:"Ler ltima resposta",children:D.jsx(J1,{className:"h-4 w-4 text-slate-600 dark:text-slate-200"})}),D.jsx("button",{onClick:()=>{t(!1)},"aria-label":"Fechar suporte",className:"rounded-lg p-1.5 hover:bg-slate-50 dark:hover:bg-slate-900/70",children:D.jsx(Gy,{className:"h-4 w-4 text-slate-600 dark:text-slate-200"})})]})]}),D.jsxs("div",{className:"flex flex-1 flex-col gap-2 overflow-y-auto px-3 py-2 text-sm",children:[d?T.map(Ae=>{if(Ae.role==="system")return D.jsxs("div",{className:"flex items-start gap-2 rounded-xl border border-slate-100 bg-slate-50 px-3 py-2 text-[11px] text-slate-600 dark:border-white/10 dark:bg-slate-900/70 dark:text-slate-100",children:[D.jsx(V1,{className:"mt-[2px] h-3.5 w-3.5 text-slate-400 dark:text-slate-300"}),D.jsx("span",{className:"whitespace-pre-line",children:Ae.content})]},Ae.id);const Ue=Ae.role==="assistant";return D.jsx("div",{className:`max-w-[85%] rounded-2xl border px-3 py-2 text-xs whitespace-pre-line ${Ue?"self-start border-slate-200 bg-slate-50 text-slate-900 dark:border-slate-700 dark:bg-slate-900/80 dark:text-slate-100":"self-end border-emerald-100 bg-emerald-50 text-emerald-900 dark:border-emerald-500/40 dark:bg-emerald-600/30 dark:text-emerald-50"}`,children:Ae.content},Ae.id)}):D.jsx("div",{className:"flex h-full items-center justify-center px-4 text-center text-xs text-slate-500 dark:text-slate-300",children:"Para falar com o suporte Momentum, faa login na sua conta."}),F&&d&&!O&&D.jsx("div",{className:"self-start rounded-2xl bg-slate-50 px-3 py-1 text-[11px] text-slate-500 dark:bg-slate-900/70 dark:text-slate-200",children:"Digitando"})]}),D.jsxs("div",{className:"flex flex-col gap-1 px-3 pb-2",children:[P&&d&&!O&&D.jsxs("div",{className:"flex items-start gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-[11px] text-amber-800 dark:border-amber-400/40 dark:bg-amber-950/40 dark:text-amber-50",children:[D.jsx(Qy,{className:"mt-[2px] h-3.5 w-3.5"}),D.jsx("span",{children:P.message})]}),O&&d&&D.jsxs("div",{className:"flex items-start gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-[11px] text-amber-800 dark:border-amber-400/40 dark:bg-amber-950/40 dark:text-amber-50",children:[D.jsx(Qy,{className:"mt-[2px] h-3.5 w-3.5"}),D.jsx("span",{children:"Voc atingiu o limite de crditos de IA do seu plano para o suporte automatizado. Atualize seu plano ou aguarde a renovao dos crditos para continuar usando este recurso."})]})]}),D.jsxs("div",{className:"flex items-center gap-2 border-t border-slate-200/80 p-3 dark:border-slate-800/70",children:[D.jsx("input",{value:Q,onChange:Ae=>{G(Ae.target.value)},placeholder:d?O?"Sem crditos para enviar mensagens":"Descreva sua dvida":"Faa login para enviar uma dvida",className:"flex-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-900 focus:outline-none focus:ring-2 focus:ring-emerald-200 disabled:bg-slate-50 disabled:text-slate-400 dark:border-slate-700 dark:bg-slate-950/90 dark:text-slate-50 dark:disabled:bg-slate-900/70 dark:disabled:text-slate-500",disabled:Be,onKeyDown:Ae=>{Ae.key==="Enter"&&!Ae.shiftKey&&(Ae.preventDefault(),L())}}),f.voiceSTT&&d&&!O&&D.jsx(f2,{recording:S,onStart:()=>{ge()},onStop:()=>{x()}}),D.jsx("button",{onClick:L,disabled:C,className:"rounded-xl bg-slate-900 px-3 py-2 text-xs text-white hover:bg-black/90 disabled:opacity-60 dark:bg-emerald-600 dark:hover:bg-emerald-500",children:F?"Enviando...":"Enviar"})]}),D.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200/80 px-3 py-2 text-[10px] text-slate-400 dark:border-slate-800/70 dark:text-slate-500",children:[D.jsx("button",{type:"button",className:"text-[11px] text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-100",onClick:()=>{Z()},children:"Nova conversa"}),D.jsx("span",{className:"text-[10px]",children:"Suporte automatizado do Momentum"})]})]}),D.jsx("button",{type:"button",onClick:b,className:"flex h-12 w-12 items-center justify-center rounded-full bg-emerald-600 text-white shadow-xl transition-transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-emerald-300","aria-label":e?"Fechar suporte Momentum":"Abrir suporte Momentum",children:e?D.jsx(Gy,{className:"h-5 w-5"}):D.jsx(q1,{className:"h-5 w-5"})})]})}const E2=()=>{const[n,e]=j.useState(!1);return D.jsxs("div",{className:"min-h-screen flex bg-[var(--bg)] transition-all duration-500",children:[D.jsx(R1,{open:n,onClose:()=>e(!1)}),D.jsxs("div",{className:`
          flex flex-col flex-1 transition-all duration-500
          ${n?"ml-60 md:ml-60":"ml-0 md:ml-60"}
        `,children:[D.jsx(s2,{onMenuClick:()=>e(!n)}),D.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 overflow-auto min-h-screen bg-[var(--bg)]",children:D.jsx(TS,{})}),D.jsx(w2,{})]})]})},yT=j.createContext(void 0);function T2({children:n}){const[e,t]=j.useState(null),[s,o]=j.useState(!0);j.useEffect(()=>{const f=Pw(cn,y=>{t(y),o(!1)});return()=>f()},[]);async function a(){return cn.currentUser?await uw(cn.currentUser,!0):null}async function u(){await cn.signOut()}const d={user:e,loading:s,getToken:a,logout:u};return D.jsx(yT.Provider,{value:d,children:n})}function vT(){const n=j.useContext(yT);if(!n){const e=cn.currentUser;return{user:e,loading:!1,getToken:async()=>e?await uw(e,!0):null,logout:async()=>{await cn.signOut()}}}return n}const I2=()=>{const{user:n}=vT(),{notify:e}=fT(),t=fp(),s=$s(),[o,a]=j.useState(""),[u,d]=j.useState(""),[f,y]=j.useState(!1),v=s.state?.from||"/";if(n)return D.jsx(pp,{to:v,replace:!0});async function E(F){if(F.preventDefault(),!o||!u){e({type:"error",title:"Dados incompletos",message:"Preencha e-mail e senha para continuar."});return}try{y(!0),await ok(cn,o.trim(),u),e({type:"success",title:"Bem-vindo(a)!",message:"Login realizado com sucesso."}),t(v,{replace:!0})}catch(P){console.error("Erro de login:",P);let O="No foi possvel entrar. Verifique os dados.";P?.code==="auth/invalid-credential"?O="E-mail ou senha invlidos.":P?.code==="auth/user-disabled"&&(O="Usurio desativado. Fale com o suporte."),e({type:"error",title:"Falha no login",message:O})}finally{y(!1)}}function T(){e({type:"info",title:"Esqueceu a senha?",message:"Fale com o suporte para redefinir seu acesso."})}return D.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center px-4",children:D.jsxs("div",{className:"w-full max-w-5xl grid grid-cols-1 md:grid-cols-2 gap-8 bg-slate-900/70 border border-slate-800 rounded-3xl shadow-2xl overflow-hidden",children:[D.jsxs("div",{className:"hidden md:flex flex-col justify-between p-8 lg:p-10 bg-gradient-to-b from-emerald-500/10 via-slate-900 to-slate-950 border-r border-slate-800/60",children:[D.jsxs("div",{children:[D.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/30 text-emerald-300 text-xs font-medium mb-6",children:[D.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"}),"Momentum Premium  CFO as a Service"]}),D.jsxs("h1",{className:"text-3xl lg:text-4xl font-semibold text-slate-50 mb-4 leading-tight",children:["Entre no seu ",D.jsx("span",{className:"text-emerald-400",children:"Painel Financeiro"})]}),D.jsx("p",{className:"text-sm text-slate-300/80 leading-relaxed max-w-md",children:"Acompanhe a sade financeira, simule cenrios e deixe o CFO de IA trabalhar por voc  em um s lugar."})]}),D.jsxs("div",{className:"mt-10 text-xs text-slate-400 space-y-1",children:[D.jsx("p",{children:" Dados protegidos por autenticao segura do Firebase"}),D.jsx("p",{children:" Acesso exclusivo para clientes e times autorizados"})]})]}),D.jsxs("div",{className:"flex flex-col justify-center p-6 sm:p-8 lg:p-10",children:[D.jsxs("div",{className:"mb-8 md:mb-10",children:[D.jsxs("div",{className:"flex items-center gap-2 mb-3 md:hidden",children:[D.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-xl bg-emerald-500/10 border border-emerald-500/40",children:D.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400"})}),D.jsx("span",{className:"text-xs font-medium uppercase tracking-[0.16em] text-emerald-300",children:"Momentum Premium"})]}),D.jsx("h2",{className:"text-2xl font-semibold text-slate-50",children:"Fazer login"}),D.jsx("p",{className:"text-sm text-slate-400 mt-1.5",children:"Use o e-mail e senha configurados para acessar o Momentum."})]}),D.jsxs("form",{onSubmit:E,className:"space-y-5",children:[D.jsxs("div",{className:"space-y-1.5",children:[D.jsx("label",{htmlFor:"email",className:"block text-xs font-medium text-slate-300",children:"E-mail"}),D.jsxs("div",{className:"relative",children:[D.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:D.jsx(z1,{className:"w-4 h-4 text-slate-500"})}),D.jsx("input",{id:"email",type:"email",autoComplete:"email",value:o,onChange:F=>a(F.target.value),className:"w-full rounded-2xl bg-slate-950/60 border border-slate-700 px-10 py-2.5 text-sm text-slate-50 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/80 focus:border-emerald-500/80 transition-shadow",placeholder:"voce@empresa.com"})]})]}),D.jsxs("div",{className:"space-y-1.5",children:[D.jsx("label",{htmlFor:"password",className:"block text-xs font-medium text-slate-300",children:"Senha"}),D.jsxs("div",{className:"relative",children:[D.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:D.jsx(j1,{className:"w-4 h-4 text-slate-500"})}),D.jsx("input",{id:"password",type:"password",autoComplete:"current-password",value:u,onChange:F=>d(F.target.value),className:"w-full rounded-2xl bg-slate-950/60 border border-slate-700 px-10 py-2.5 text-sm text-slate-50 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/80 focus:border-emerald-500/80 transition-shadow",placeholder:""})]})]}),D.jsxs("div",{className:"flex items-center justify-between text-xs",children:[D.jsx("span",{className:"text-slate-500",children:"Ambiente restrito a usurios autorizados."}),D.jsx("button",{type:"button",onClick:T,className:"text-emerald-400 hover:text-emerald-300 underline-offset-2 hover:underline",children:"Esqueceu a senha?"})]}),D.jsxs("button",{type:"submit",disabled:f,className:"w-full inline-flex items-center justify-center gap-2 rounded-2xl bg-emerald-500 hover:bg-emerald-400 disabled:bg-emerald-500/60 disabled:cursor-not-allowed text-slate-950 text-sm font-medium px-4 py-2.5 mt-1 transition-colors shadow-lg shadow-emerald-500/20",children:[f&&D.jsx(F1,{className:"w-4 h-4 animate-spin"}),f?"Entrando...":"Entrar no Momentum"]})]}),D.jsx("p",{className:"mt-6 text-[11px] text-slate-500 leading-relaxed",children:"Ao acessar, voc concorda com os termos de uso e poltica de privacidade definidos para a sua conta Momentum."})]})]})})},S2=j.lazy(()=>Zt(()=>import("./Dashboard-C-866bYZ.js"),__vite__mapDeps([0,1,2]))),R2=j.lazy(()=>Zt(()=>import("./Insights-BE5BRrr1.js"),__vite__mapDeps([3,1]))),A2=j.lazy(()=>Zt(()=>import("./Clients-C5w0_Scp.js"),[])),C2=j.lazy(()=>Zt(()=>import("./Settings-DSgGW83h.js"),[])),P2=j.lazy(()=>Zt(()=>import("./Transactions-CPEAT5KX.js"),[])),k2=j.lazy(()=>Zt(()=>import("./DataCleaning-BgGRuH1S.js"),__vite__mapDeps([4,2]))),x2=j.lazy(()=>Zt(()=>import("./AnalyticsDashboard-DCCotu2d.js"),__vite__mapDeps([5,6]))),b2=j.lazy(()=>Zt(()=>import("./Help-raZcbC41.js"),[])),N2=j.lazy(()=>Zt(()=>import("./RealEstateDashboard-N_dvqjnA.js"),[])),O2=j.lazy(()=>Zt(()=>import("./AIConsole-DonP1LAE.js"),__vite__mapDeps([7,6])).then(n=>({default:n.AIConsole}))),D2=j.lazy(()=>Zt(()=>import("./AdminLayout-o-XCvkRf.js"),[])),L2=j.lazy(()=>Zt(()=>import("./AdminPlans-CVjSdZ3E.js"),__vite__mapDeps([8,9]))),V2=j.lazy(()=>Zt(()=>import("./AdminVoice-uqYh45VJ.js"),__vite__mapDeps([10,9]))),M2=j.lazy(()=>Zt(()=>import("./AdminSupport-MT4m3W4C.js"),__vite__mapDeps([11,9]))),F2=j.lazy(()=>Zt(()=>import("./AdminEmergency-CxKpaIii.js"),__vite__mapDeps([12,9])));function U2({children:n}){const{user:e,loading:t}=vT(),s=$s();return t?D.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-100",children:D.jsxs("div",{className:"flex flex-col items-center gap-3",children:[D.jsx("div",{className:"h-10 w-10 rounded-full border-2 border-emerald-400 border-t-transparent animate-spin"}),D.jsx("p",{className:"text-xs text-slate-400",children:"Carregando seu ambiente financeiro..."})]})}):e?n:D.jsx(pp,{to:"/auth",replace:!0,state:{from:s.pathname||"/"}})}function j2(){const n=j.useMemo(()=>new c1({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),[]);return D.jsx(h1,{client:n,children:D.jsx(n2,{children:D.jsx(p2,{children:D.jsxs(T2,{children:[!1,D.jsx(j.Suspense,{fallback:D.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-100",children:D.jsxs("div",{className:"flex flex-col items-center gap-3",children:[D.jsx("div",{className:"h-10 w-10 rounded-full border-2 border-emerald-400 border-t-transparent animate-spin"}),D.jsx("p",{className:"text-xs text-slate-400",children:"Carregando Momentum..."})]})}),children:D.jsxs(SS,{children:[D.jsx(Tt,{path:"/auth",element:D.jsx(I2,{})}),D.jsxs(Tt,{path:"/",element:D.jsx(U2,{children:D.jsx(E2,{})}),children:[D.jsx(Tt,{index:!0,element:D.jsx(S2,{})}),D.jsx(Tt,{path:"insights",element:D.jsx(R2,{})}),D.jsx(Tt,{path:"clients",element:D.jsx(A2,{})}),D.jsx(Tt,{path:"settings",element:D.jsx(C2,{})}),D.jsx(Tt,{path:"transactions",element:D.jsx(P2,{})}),D.jsx(Tt,{path:"data-cleaning",element:D.jsx(k2,{})}),D.jsx(Tt,{path:"analytics",element:D.jsx(x2,{})}),D.jsx(Tt,{path:"ai",element:D.jsx(O2,{})}),D.jsx(Tt,{path:"help",element:D.jsx(b2,{})}),D.jsx(Tt,{path:"real-estate",element:D.jsx(N2,{})}),D.jsxs(Tt,{path:"admin",element:D.jsx(D2,{}),children:[D.jsx(Tt,{path:"plans",element:D.jsx(L2,{})}),D.jsx(Tt,{path:"voice",element:D.jsx(V2,{})}),D.jsx(Tt,{path:"support",element:D.jsx(M2,{})}),D.jsx(Tt,{path:"emergency",element:D.jsx(F2,{})})]}),D.jsx(Tt,{path:"*",element:D.jsx(pp,{to:"/",replace:!0})})]})]})})]})})})})}NI.createRoot(document.getElementById("root")).render(D.jsx(G_.StrictMode,{children:D.jsx(wx,{children:D.jsx(NS,{children:D.jsx(j2,{})})})}));export{Mp as A,Qy as C,F1 as L,VS as N,TS as O,Gy as X,ql as a,fT as b,Zn as c,vT as d,gT as e,I1 as f,fp as g,m2 as h,c2 as i,D as j,y2 as k,h2 as l,lD as m,cD as n,pD as o,dD as p,hD as q,j as r,fD as s,mD as t,i2 as u,vx as v,Rh as w};
