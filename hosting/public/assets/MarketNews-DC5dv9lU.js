import{c as h,r as l,U as m,x,j as e,T as i,G as d,h as v,p as u}from"./index-BTNo5FuH.js";import{S as w}from"./SectionHeader-DnszYlyI.js";import{S as c}from"./StatsCard-DiJlIrpb.js";import{C as p}from"./chart-line-5U7TVW1J.js";import{T as k}from"./trending-down-BBkVauuA.js";const y=[["path",{d:"M5 12h14",key:"1ays0h"}]],S=h("minus",y);const I=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],M=h("newspaper",I),P=()=>{const[t,g]=l.useState(null),[a,b]=l.useState(null),[o,f]=l.useState(!0);l.useEffect(()=>{const s=m(x(u,"market_indicators","latest"),r=>{r.exists()&&g(r.data())}),n=m(x(u,"market_news","latest"),r=>{r.exists()&&b(r.data()),f(!1)});return()=>{s(),n()}},[]);const j=s=>s==="Otimista"?"text-emerald-500":s==="Pessimista"?"text-rose-500":"text-slate-500",N=s=>s==="Otimista"?e.jsx(i,{className:"w-5 h-5 text-emerald-500"}):s==="Pessimista"?e.jsx(k,{className:"w-5 h-5 text-rose-500"}):e.jsx(S,{className:"w-5 h-5 text-slate-500"});return e.jsxs("div",{className:"space-y-8 pb-20 fade-in pt-6",children:[e.jsx(w,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{size:24,className:"text-momentum-accent"}),e.jsx("span",{children:"Market Intelligence"})]}),subtitle:"Indicadores econ√¥micos e curadoria de not√≠cias via IA."}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(c,{label:"Taxa Selic",value:t?`${t.selic}%`:"--",icon:p,variant:"default"}),e.jsx(c,{label:"IPCA (12m)",value:t?`${t.ipca}%`:"--",icon:i,variant:"default"}),e.jsx(c,{label:"D√≥lar (USD)",value:t?t.usd.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"--",icon:i,variant:t&&t.usd>5.5?"danger":"default"}),e.jsx(c,{label:"IGP-M",value:t?.igpm?`${t.igpm}%`:"--",icon:p,variant:"default"})]}),e.jsxs(d,{className:"p-8 border-l-4 border-l-momentum-accent",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ü§ñ"}),e.jsx("h3",{className:"text-lg font-bold text-momentum-text",children:"Resumo do Mercado (IA)"})]}),e.jsxs("div",{className:v("flex items-center gap-2 px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 font-bold text-sm",j(a?.sentiment)),children:[N(a?.sentiment),a?.sentiment||"Aguardando An√°lise..."]})]}),o?e.jsxs("div",{className:"space-y-2 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-800 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-800 rounded w-full"}),e.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-800 rounded w-2/3"})]}):e.jsx("p",{className:"text-momentum-muted leading-relaxed text-base",children:a?.summary||"Nenhum resumo dispon√≠vel para hoje."})]}),e.jsxs("h3",{className:"text-lg font-bold text-momentum-text flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-6 bg-momentum-accent rounded-full"}),"Manchetes do Dia"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o?Array(4).fill(0).map((s,n)=>e.jsx(d,{className:"h-24 animate-pulse bg-slate-100/50"},n)):a?.news?.map((s,n)=>e.jsx(d,{className:"p-5 hover:border-momentum-accent/50 transition-colors group",children:e.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"block",children:[e.jsxs("span",{className:"text-[10px] uppercase font-bold text-momentum-muted tracking-widest mb-1 block",children:[s.source," ‚Ä¢ ",new Date(s.pubDate).toLocaleDateString()]}),e.jsx("h4",{className:"font-bold text-momentum-text group-hover:text-momentum-accent transition-colors line-clamp-2 mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-momentum-accent font-bold uppercase tracking-wider",children:["Ler mat√©ria",e.jsx(i,{size:12})]})]})},n)),!o&&(!a?.news||a.news.length===0)&&e.jsx("div",{className:"col-span-full py-12 text-center text-momentum-muted italic border-2 border-dashed border-momentum-border rounded-xl",children:"Nenhuma not√≠cia encontrada."})]})]})};export{P as MarketNews};
