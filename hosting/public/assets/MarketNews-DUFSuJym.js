import{a as l,j as e}from"./charts--kFkiaCp.js";import{G as o,f as N,g as d}from"./index-CETmOTzF.js";import{r as x,n as u}from"./firebase-dP-Dck55.js";import{S as v}from"./SectionHeader-DkKv0CWh.js";import{S as i}from"./StatsCard-B55lZtJ5.js";import{ai as w,z as p,T as c,y as k,aj as S}from"./icons-Bc7DOyy3.js";import"./vendor-DnLjH3oN.js";import"./query-BGhlxTj0.js";const R=()=>{const[t,g]=l.useState(null),[a,b]=l.useState(null),[m,h]=l.useState(!0);l.useEffect(()=>{const s=x(u(d,"market_indicators","latest"),n=>{n.exists()&&g(n.data())}),r=x(u(d,"market_news","latest"),n=>{n.exists()&&b(n.data()),h(!1)});return()=>{s(),r()}},[]);const f=s=>s==="Otimista"?"text-emerald-500":s==="Pessimista"?"text-rose-500":"text-slate-500",j=s=>s==="Otimista"?e.jsx(c,{className:"w-5 h-5 text-emerald-500"}):s==="Pessimista"?e.jsx(k,{className:"w-5 h-5 text-rose-500"}):e.jsx(S,{className:"w-5 h-5 text-slate-500"});return e.jsxs("div",{className:"space-y-8 pb-20 fade-in pt-6",children:[e.jsx(v,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{size:24,className:"text-momentum-accent"}),e.jsx("span",{children:"Market Intelligence"})]}),subtitle:"Indicadores econ√¥micos e curadoria de not√≠cias via IA."}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(i,{label:"Taxa Selic",value:t?`${t.selic}%`:"--",icon:p,variant:"default"}),e.jsx(i,{label:"IPCA (12m)",value:t?`${t.ipca}%`:"--",icon:c,variant:"default"}),e.jsx(i,{label:"D√≥lar (USD)",value:t?t.usd.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"--",icon:c,variant:t&&t.usd>5.5?"danger":"default"}),e.jsx(i,{label:"IGP-M",value:t?.igpm?`${t.igpm}%`:"--",icon:p,variant:"default"})]}),e.jsxs(o,{className:"p-8 border-l-4 border-l-momentum-accent",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ü§ñ"}),e.jsx("h3",{className:"text-lg font-bold text-momentum-text",children:"Resumo do Mercado (IA)"})]}),e.jsxs("div",{className:N("flex items-center gap-2 px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 font-bold text-sm",f(a?.sentiment)),children:[j(a?.sentiment),a?.sentiment||"Aguardando An√°lise..."]})]}),m?e.jsxs("div",{className:"space-y-2 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-800 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-800 rounded w-full"}),e.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-800 rounded w-2/3"})]}):e.jsx("p",{className:"text-momentum-muted leading-relaxed text-base",children:a?.summary||"Nenhum resumo dispon√≠vel para hoje."})]}),e.jsxs("h3",{className:"text-lg font-bold text-momentum-text flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-6 bg-momentum-accent rounded-full"}),"Manchetes do Dia"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[m?Array(4).fill(0).map((s,r)=>e.jsx(o,{className:"h-24 animate-pulse bg-slate-100/50",children:e.jsx("div",{})},r)):a?.news?.map((s,r)=>e.jsx(o,{className:"p-5 hover:border-momentum-accent/50 transition-colors group",children:e.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"block",children:[e.jsxs("span",{className:"text-[10px] uppercase font-bold text-momentum-muted tracking-widest mb-1 block",children:[s.source," ‚Ä¢ ",new Date(s.pubDate).toLocaleDateString()]}),e.jsx("h4",{className:"font-bold text-momentum-text group-hover:text-momentum-accent transition-colors line-clamp-2 mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-momentum-accent font-bold uppercase tracking-wider",children:["Ler mat√©ria",e.jsx(c,{size:12})]})]})},r)),!m&&(!a?.news||a.news.length===0)&&e.jsx("div",{className:"col-span-full py-12 text-center text-momentum-muted italic border-2 border-dashed border-momentum-border rounded-xl",children:"Nenhuma not√≠cia encontrada."})]})]})};export{R as MarketNews,R as default};
