const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-BnFPEeny.js","assets/errorMessages-BmhZPxJ2.js","assets/AdvisorChat-CoYpVpyh.js","assets/SectionHeader-CxDw8ob-.js","assets/AsyncPanel-CfTTK2XY.js","assets/trash-2-D6Tt09lF.js","assets/send-84gNG9li.js","assets/user-UuY-Wz8D.js","assets/UpgradeRequiredModal-1Y9K54mx.js","assets/CfoApi-DZAHIs0d.js","assets/StatsCard-DbxaSKPW.js","assets/wallet-DY2YkntA.js","assets/circle-dollar-sign-CIxQEp-0.js","assets/credit-card-CREI7rqw.js","assets/Insights-PQzn2SLm.js","assets/Clients-D4UJQTHd.js","assets/users-B2TTAjsC.js","assets/search-BLhJIDcn.js","assets/Settings-Ckr5vNEb.js","assets/useTenant-C86tz-4x.js","assets/clock-CIoAVrF6.js","assets/refresh-cw-CoFi7Hcv.js","assets/history-IvS7eqi-.js","assets/Transactions-B0CdNb1h.js","assets/funnel-DNZFaKuN.js","assets/download-Cw4XKnlo.js","assets/circle-check-big-BbBa0S-e.js","assets/DataCleaning-ClV7xcId.js","assets/triangle-alert-CPztsQwG.js","assets/AnalyticsDashboard-BRVOaDpO.js","assets/AIAdvisorPanel-B69CP4jw.js","assets/chart-nOlIXl9_.js","assets/trending-up-C2v-PdN6.js","assets/RealEstateDashboard-DtR66tUp.js","assets/upload-COd5akA-.js","assets/dollar-sign-D9BQZyZw.js","assets/AIConsole-BH6ZcSUW.js","assets/AdminDashboard-BlryLLGO.js","assets/adminApi-De8xwfSk.js","assets/activity-BLBUAG4U.js","assets/AdminPlans-Cr-Nfhjz.js","assets/AdminVoice-LyOEnT21.js","assets/AdminSupport-r418GIDs.js","assets/AdminEmergency-CsQdrnLL.js","assets/DeepDiveFinanceiroPage-qz6OaJmG.js","assets/circle-check-DgCtgLki.js","assets/AlertsCenter-CQYdmO76.js","assets/_DesignSystem-BockTTrB.js","assets/Imports-BGIxW6Rq.js","assets/CfoSimulationPage-BFn2y0Me.js"])))=>i.map(i=>d[i]);
function Tx(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Ix(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vf={exports:{}},yl={},_f={exports:{}},Le={};var Gy;function xx(){if(Gy)return Le;Gy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function I(F){return F===null||typeof F!="object"?null:(F=w&&F[w]||F["@@iterator"],typeof F=="function"?F:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function b(F,G,oe){this.props=F,this.context=G,this.refs=N,this.updater=oe||j}b.prototype.isReactComponent={},b.prototype.setState=function(F,G){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,G,"setState")},b.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function X(){}X.prototype=b.prototype;function Q(F,G,oe){this.props=F,this.context=G,this.refs=N,this.updater=oe||j}var J=Q.prototype=new X;J.constructor=Q,k(J,b.prototype),J.isPureReactComponent=!0;var Y=Array.isArray,ue=Object.prototype.hasOwnProperty,de={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function S(F,G,oe){var we,Ce={},Me=null,Se=null;if(G!=null)for(we in G.ref!==void 0&&(Se=G.ref),G.key!==void 0&&(Me=""+G.key),G)ue.call(G,we)&&!P.hasOwnProperty(we)&&(Ce[we]=G[we]);var ze=arguments.length-2;if(ze===1)Ce.children=oe;else if(1<ze){for(var Ge=Array(ze),ot=0;ot<ze;ot++)Ge[ot]=arguments[ot+2];Ce.children=Ge}if(F&&F.defaultProps)for(we in ze=F.defaultProps,ze)Ce[we]===void 0&&(Ce[we]=ze[we]);return{$$typeof:n,type:F,key:Me,ref:Se,props:Ce,_owner:de.current}}function R(F,G){return{$$typeof:n,type:F.type,key:G,ref:F.ref,props:F.props,_owner:F._owner}}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function L(F){var G={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(oe){return G[oe]})}var U=/\/+/g;function A(F,G){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):G.toString(36)}function Fe(F,G,oe,we,Ce){var Me=typeof F;(Me==="undefined"||Me==="boolean")&&(F=null);var Se=!1;if(F===null)Se=!0;else switch(Me){case"string":case"number":Se=!0;break;case"object":switch(F.$$typeof){case n:case e:Se=!0}}if(Se)return Se=F,Ce=Ce(Se),F=we===""?"."+A(Se,0):we,Y(Ce)?(oe="",F!=null&&(oe=F.replace(U,"$&/")+"/"),Fe(Ce,G,oe,"",function(ot){return ot})):Ce!=null&&(O(Ce)&&(Ce=R(Ce,oe+(!Ce.key||Se&&Se.key===Ce.key?"":(""+Ce.key).replace(U,"$&/")+"/")+F)),G.push(Ce)),1;if(Se=0,we=we===""?".":we+":",Y(F))for(var ze=0;ze<F.length;ze++){Me=F[ze];var Ge=we+A(Me,ze);Se+=Fe(Me,G,oe,Ge,Ce)}else if(Ge=I(F),typeof Ge=="function")for(F=Ge.call(F),ze=0;!(Me=F.next()).done;)Me=Me.value,Ge=we+A(Me,ze++),Se+=Fe(Me,G,oe,Ge,Ce);else if(Me==="object")throw G=String(F),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Se}function xe(F,G,oe){if(F==null)return F;var we=[],Ce=0;return Fe(F,we,"","",function(Me){return G.call(oe,Me,Ce++)}),we}function Pe(F){if(F._status===-1){var G=F._result;G=G(),G.then(function(oe){(F._status===0||F._status===-1)&&(F._status=1,F._result=oe)},function(oe){(F._status===0||F._status===-1)&&(F._status=2,F._result=oe)}),F._status===-1&&(F._status=0,F._result=G)}if(F._status===1)return F._result.default;throw F._result}var Oe={current:null},K={transition:null},_e={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:K,ReactCurrentOwner:de};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:xe,forEach:function(F,G,oe){xe(F,function(){G.apply(this,arguments)},oe)},count:function(F){var G=0;return xe(F,function(){G++}),G},toArray:function(F){return xe(F,function(G){return G})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Le.Component=b,Le.Fragment=t,Le.Profiler=o,Le.PureComponent=Q,Le.StrictMode=r,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,Le.act=ae,Le.cloneElement=function(F,G,oe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var we=k({},F.props),Ce=F.key,Me=F.ref,Se=F._owner;if(G!=null){if(G.ref!==void 0&&(Me=G.ref,Se=de.current),G.key!==void 0&&(Ce=""+G.key),F.type&&F.type.defaultProps)var ze=F.type.defaultProps;for(Ge in G)ue.call(G,Ge)&&!P.hasOwnProperty(Ge)&&(we[Ge]=G[Ge]===void 0&&ze!==void 0?ze[Ge]:G[Ge])}var Ge=arguments.length-2;if(Ge===1)we.children=oe;else if(1<Ge){ze=Array(Ge);for(var ot=0;ot<Ge;ot++)ze[ot]=arguments[ot+2];we.children=ze}return{$$typeof:n,type:F.type,key:Ce,ref:Me,props:we,_owner:Se}},Le.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Le.createElement=S,Le.createFactory=function(F){var G=S.bind(null,F);return G.type=F,G},Le.createRef=function(){return{current:null}},Le.forwardRef=function(F){return{$$typeof:d,render:F}},Le.isValidElement=O,Le.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:Pe}},Le.memo=function(F,G){return{$$typeof:m,type:F,compare:G===void 0?null:G}},Le.startTransition=function(F){var G=K.transition;K.transition={};try{F()}finally{K.transition=G}},Le.unstable_act=ae,Le.useCallback=function(F,G){return Oe.current.useCallback(F,G)},Le.useContext=function(F){return Oe.current.useContext(F)},Le.useDebugValue=function(){},Le.useDeferredValue=function(F){return Oe.current.useDeferredValue(F)},Le.useEffect=function(F,G){return Oe.current.useEffect(F,G)},Le.useId=function(){return Oe.current.useId()},Le.useImperativeHandle=function(F,G,oe){return Oe.current.useImperativeHandle(F,G,oe)},Le.useInsertionEffect=function(F,G){return Oe.current.useInsertionEffect(F,G)},Le.useLayoutEffect=function(F,G){return Oe.current.useLayoutEffect(F,G)},Le.useMemo=function(F,G){return Oe.current.useMemo(F,G)},Le.useReducer=function(F,G,oe){return Oe.current.useReducer(F,G,oe)},Le.useRef=function(F){return Oe.current.useRef(F)},Le.useState=function(F){return Oe.current.useState(F)},Le.useSyncExternalStore=function(F,G,oe){return Oe.current.useSyncExternalStore(F,G,oe)},Le.useTransition=function(){return Oe.current.useTransition()},Le.version="18.3.1",Le}var Qy;function Dp(){return Qy||(Qy=1,_f.exports=xx()),_f.exports}var Jy;function Sx(){if(Jy)return yl;Jy=1;var n=Dp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var v,w={},I=null,j=null;m!==void 0&&(I=""+m),f.key!==void 0&&(I=""+f.key),f.ref!==void 0&&(j=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:d,key:I,ref:j,props:w,_owner:o.current}}return yl.Fragment=t,yl.jsx=u,yl.jsxs=u,yl}var Xy;function bx(){return Xy||(Xy=1,vf.exports=Sx()),vf.exports}var T=bx(),V=Dp();const O0=Ix(V),Rx=Tx({__proto__:null,default:O0},[V]);var Ic={},wf={exports:{}},mn={},Ef={exports:{}},Tf={};var Yy;function Cx(){return Yy||(Yy=1,(function(n){function e(K,_e){var ae=K.length;K.push(_e);e:for(;0<ae;){var F=ae-1>>>1,G=K[F];if(0<o(G,_e))K[F]=_e,K[ae]=G,ae=F;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var _e=K[0],ae=K.pop();if(ae!==_e){K[0]=ae;e:for(var F=0,G=K.length,oe=G>>>1;F<oe;){var we=2*(F+1)-1,Ce=K[we],Me=we+1,Se=K[Me];if(0>o(Ce,ae))Me<G&&0>o(Se,Ce)?(K[F]=Se,K[Me]=ae,F=Me):(K[F]=Ce,K[we]=ae,F=we);else if(Me<G&&0>o(Se,ae))K[F]=Se,K[Me]=ae,F=Me;else break e}}return _e}function o(K,_e){var ae=K.sortIndex-_e.sortIndex;return ae!==0?ae:K.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,w=null,I=3,j=!1,k=!1,N=!1,b=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(K){for(var _e=t(m);_e!==null;){if(_e.callback===null)r(m);else if(_e.startTime<=K)r(m),_e.sortIndex=_e.expirationTime,e(f,_e);else break;_e=t(m)}}function Y(K){if(N=!1,J(K),!k)if(t(f)!==null)k=!0,Pe(ue);else{var _e=t(m);_e!==null&&Oe(Y,_e.startTime-K)}}function ue(K,_e){k=!1,N&&(N=!1,X(S),S=-1),j=!0;var ae=I;try{for(J(_e),w=t(f);w!==null&&(!(w.expirationTime>_e)||K&&!L());){var F=w.callback;if(typeof F=="function"){w.callback=null,I=w.priorityLevel;var G=F(w.expirationTime<=_e);_e=n.unstable_now(),typeof G=="function"?w.callback=G:w===t(f)&&r(f),J(_e)}else r(f);w=t(f)}if(w!==null)var oe=!0;else{var we=t(m);we!==null&&Oe(Y,we.startTime-_e),oe=!1}return oe}finally{w=null,I=ae,j=!1}}var de=!1,P=null,S=-1,R=5,O=-1;function L(){return!(n.unstable_now()-O<R)}function U(){if(P!==null){var K=n.unstable_now();O=K;var _e=!0;try{_e=P(!0,K)}finally{_e?A():(de=!1,P=null)}}else de=!1}var A;if(typeof Q=="function")A=function(){Q(U)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,xe=Fe.port2;Fe.port1.onmessage=U,A=function(){xe.postMessage(null)}}else A=function(){b(U,0)};function Pe(K){P=K,de||(de=!0,A())}function Oe(K,_e){S=b(function(){K(n.unstable_now())},_e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){k||j||(k=!0,Pe(ue))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(K){switch(I){case 1:case 2:case 3:var _e=3;break;default:_e=I}var ae=I;I=_e;try{return K()}finally{I=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,_e){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ae=I;I=K;try{return _e()}finally{I=ae}},n.unstable_scheduleCallback=function(K,_e,ae){var F=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?F+ae:F):ae=F,K){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ae+G,K={id:v++,callback:_e,priorityLevel:K,startTime:ae,expirationTime:G,sortIndex:-1},ae>F?(K.sortIndex=ae,e(m,K),t(f)===null&&K===t(m)&&(N?(X(S),S=-1):N=!0,Oe(Y,ae-F))):(K.sortIndex=G,e(f,K),k||j||(k=!0,Pe(ue))),K},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(K){var _e=I;return function(){var ae=I;I=_e;try{return K.apply(this,arguments)}finally{I=ae}}}})(Tf)),Tf}var Zy;function Ax(){return Zy||(Zy=1,Ef.exports=Cx()),Ef.exports}var ev;function kx(){if(ev)return mn;ev=1;var n=Dp(),e=Ax();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function I(s){return f.call(w,s)?!0:f.call(v,s)?!1:m.test(s)?w[s]=!0:(v[s]=!0,!1)}function j(s,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,i,l,h){if(i===null||typeof i>"u"||j(s,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(s,i,l,h,p,y,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=y,this.removeEmptyString=E}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];b[i]=new N(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var X=/[\-:]([a-z])/g;function Q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(X,Q);b[i]=new N(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(X,Q);b[i]=new N(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(X,Q);b[i]=new N(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function J(s,i,l,h){var p=b.hasOwnProperty(i)?b[i]:null;(p!==null?p.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,l,p,h)&&(l=null),h||p===null?I(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,h=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?s.setAttributeNS(h,i,l):s.setAttribute(i,l))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),de=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),K=Symbol.iterator;function _e(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,F;function G(s){if(F===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);F=i&&i[1]||""}return`
`+F+s}var oe=!1;function we(s,i){if(!s||oe)return"";oe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var h=q}Reflect.construct(s,[],i)}else{try{i.call()}catch(q){h=q}s.call(i.prototype)}else{try{throw Error()}catch(q){h=q}s()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var p=q.stack.split(`
`),y=h.stack.split(`
`),E=p.length-1,C=y.length-1;1<=E&&0<=C&&p[E]!==y[C];)C--;for(;1<=E&&0<=C;E--,C--)if(p[E]!==y[C]){if(E!==1||C!==1)do if(E--,C--,0>C||p[E]!==y[C]){var D=`
`+p[E].replace(" at new "," at ");return s.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",s.displayName)),D}while(1<=E&&0<=C);break}}}finally{oe=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?G(s):""}function Ce(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=we(s.type,!1),s;case 11:return s=we(s.type.render,!1),s;case 1:return s=we(s.type,!0),s;default:return""}}function Me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case de:return"Portal";case R:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case Fe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case U:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case xe:return i=s.displayName||null,i!==null?i:Me(s.type)||"Memo";case Pe:i=s._payload,s=s._init;try{return Me(s(i))}catch{}}return null}function Se(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ze(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ge(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ot(s){var i=Ge(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),h=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function _n(s){s._valueTracker||(s._valueTracker=ot(s))}function Un(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return s&&(h=Ge(s)?s.checked?"true":"false":s.value),s=h,s!==l?(i.setValue(s),!0):!1}function ss(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ri(s,i){var l=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Xi(s,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=ze(i.value!=null?i.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ia(s,i){i=i.checked,i!=null&&J(s,"checked",i,!1)}function xa(s,i){Ia(s,i);var l=ze(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Yi(s,i.type,l):i.hasOwnProperty("defaultValue")&&Yi(s,i.type,ze(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function lu(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function Yi(s,i,l){(i!=="number"||ss(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Nr=Array.isArray;function Or(s,i,l,h){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&h&&(s[l].defaultSelected=!0)}else{for(l=""+ze(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Sa(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Zi(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(Nr(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:ze(l)}}function eo(s,i){var l=ze(i.value),h=ze(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function ba(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function It(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xt(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?It(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Dr,Ra=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,h,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Dr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function is(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ii=["Webkit","ms","Moz","O"];Object.keys(si).forEach(function(s){ii.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),si[i]=si[s]})});function Ca(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||si.hasOwnProperty(s)&&si[s]?(""+i).trim():i+"px"}function Aa(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=Ca(l,i[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,p):s[l]=p}}var ka=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(s,i){if(i){if(ka[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Na(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oi=null;function to(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var no=null,Rn=null,ar=null;function ro(s){if(s=nl(s)){if(typeof no!="function")throw Error(t(280));var i=s.stateNode;i&&(i=ju(i),no(s.stateNode,s.type,i))}}function lr(s){Rn?ar?ar.push(s):ar=[s]:Rn=s}function Oa(){if(Rn){var s=Rn,i=ar;if(ar=Rn=null,ro(s),i)for(s=0;s<i.length;s++)ro(i[s])}}function ai(s,i){return s(i)}function Da(){}var Lr=!1;function La(s,i,l){if(Lr)return s(i,l);Lr=!0;try{return ai(s,i,l)}finally{Lr=!1,(Rn!==null||ar!==null)&&(Da(),Oa())}}function dt(s,i){var l=s.stateNode;if(l===null)return null;var h=ju(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var so=!1;if(d)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){so=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{so=!1}function li(s,i,l,h,p,y,E,C,D){var q=Array.prototype.slice.call(arguments,3);try{i.apply(l,q)}catch(te){this.onError(te)}}var ui=!1,io=null,Bn=!1,Va=null,Hh={onError:function(s){ui=!0,io=s}};function oo(s,i,l,h,p,y,E,C,D){ui=!1,io=null,li.apply(Hh,arguments)}function uu(s,i,l,h,p,y,E,C,D){if(oo.apply(this,arguments),ui){if(ui){var q=io;ui=!1,io=null}else throw Error(t(198));Bn||(Bn=!0,Va=q)}}function $n(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function ci(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function qn(s){if($n(s)!==s)throw Error(t(188))}function cu(s){var i=s.alternate;if(!i){if(i=$n(s),i===null)throw Error(t(188));return i!==s?null:s}for(var l=s,h=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return qn(p),s;if(y===h)return qn(p),i;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var E=!1,C=p.child;C;){if(C===l){E=!0,l=p,h=y;break}if(C===h){E=!0,h=p,l=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===l){E=!0,l=y,h=p;break}if(C===h){E=!0,h=y,l=p;break}C=C.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:i}function Ma(s){return s=cu(s),s!==null?ao(s):null}function ao(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=ao(s);if(i!==null)return i;s=s.sibling}return null}var lo=e.unstable_scheduleCallback,ja=e.unstable_cancelCallback,hu=e.unstable_shouldYield,Wh=e.unstable_requestPaint,Xe=e.unstable_now,du=e.unstable_getCurrentPriorityLevel,hi=e.unstable_ImmediatePriority,os=e.unstable_UserBlockingPriority,Cn=e.unstable_NormalPriority,Fa=e.unstable_LowPriority,fu=e.unstable_IdlePriority,di=null,wn=null;function pu(s){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(di,s,void 0,(s.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:gu,Ua=Math.log,mu=Math.LN2;function gu(s){return s>>>=0,s===0?32:31-(Ua(s)/mu|0)|0}var uo=64,co=4194304;function as(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function fi(s,i){var l=s.pendingLanes;if(l===0)return 0;var h=0,p=s.suspendedLanes,y=s.pingedLanes,E=l&268435455;if(E!==0){var C=E&~p;C!==0?h=as(C):(y&=E,y!==0&&(h=as(y)))}else E=l&~p,E!==0?h=as(E):y!==0&&(h=as(y));if(h===0)return 0;if(i!==0&&i!==h&&(i&p)===0&&(p=h&-h,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=h;0<i;)l=31-Zt(i),p=1<<l,h|=s[l],i&=~p;return h}function Kh(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(s,i){for(var l=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes;0<y;){var E=31-Zt(y),C=1<<E,D=p[E];D===-1?((C&l)===0||(C&h)!==0)&&(p[E]=Kh(C,i)):D<=i&&(s.expiredLanes|=C),y&=~C}}function En(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function pi(){var s=uo;return uo<<=1,(uo&4194240)===0&&(uo=64),s}function ls(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function us(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Zt(i),s[i]=l}function Je(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-Zt(l),y=1<<p;i[p]=0,h[p]=-1,s[p]=-1,l&=~y}}function cs(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var h=31-Zt(l),p=1<<h;p&i|s[h]&i&&(s[h]|=i),l&=~p}}var Ue=0;function hs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var yu,ho,vu,_u,wu,za=!1,ur=[],Mt=null,Hn=null,Wn=null,ds=new Map,An=new Map,cr=[],Gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eu(s,i){switch(s){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":ds.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(i.pointerId)}}function ln(s,i,l,h,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},i!==null&&(i=nl(i),i!==null&&ho(i)),s):(s.eventSystemFlags|=h,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function Qh(s,i,l,h,p){switch(i){case"focusin":return Mt=ln(Mt,s,i,l,h,p),!0;case"dragenter":return Hn=ln(Hn,s,i,l,h,p),!0;case"mouseover":return Wn=ln(Wn,s,i,l,h,p),!0;case"pointerover":var y=p.pointerId;return ds.set(y,ln(ds.get(y)||null,s,i,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,An.set(y,ln(An.get(y)||null,s,i,l,h,p)),!0}return!1}function Tu(s){var i=_i(s.target);if(i!==null){var l=$n(i);if(l!==null){if(i=l.tag,i===13){if(i=ci(l),i!==null){s.blockedOn=i,wu(s.priority,function(){vu(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Mr(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=fo(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);oi=h,l.target.dispatchEvent(h),oi=null}else return i=nl(l),i!==null&&ho(i),s.blockedOn=l,!1;i.shift()}return!0}function mi(s,i,l){Mr(s)&&l.delete(i)}function Iu(){za=!1,Mt!==null&&Mr(Mt)&&(Mt=null),Hn!==null&&Mr(Hn)&&(Hn=null),Wn!==null&&Mr(Wn)&&(Wn=null),ds.forEach(mi),An.forEach(mi)}function Kn(s,i){s.blockedOn===i&&(s.blockedOn=null,za||(za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Iu)))}function Gn(s){function i(p){return Kn(p,s)}if(0<ur.length){Kn(ur[0],s);for(var l=1;l<ur.length;l++){var h=ur[l];h.blockedOn===s&&(h.blockedOn=null)}}for(Mt!==null&&Kn(Mt,s),Hn!==null&&Kn(Hn,s),Wn!==null&&Kn(Wn,s),ds.forEach(i),An.forEach(i),l=0;l<cr.length;l++)h=cr[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<cr.length&&(l=cr[0],l.blockedOn===null);)Tu(l),l.blockedOn===null&&cr.shift()}var jr=Y.ReactCurrentBatchConfig,fs=!0;function rt(s,i,l,h){var p=Ue,y=jr.transition;jr.transition=null;try{Ue=1,Ba(s,i,l,h)}finally{Ue=p,jr.transition=y}}function Jh(s,i,l,h){var p=Ue,y=jr.transition;jr.transition=null;try{Ue=4,Ba(s,i,l,h)}finally{Ue=p,jr.transition=y}}function Ba(s,i,l,h){if(fs){var p=fo(s,i,l,h);if(p===null)ad(s,i,h,gi,l),Eu(s,h);else if(Qh(p,s,i,l,h))h.stopPropagation();else if(Eu(s,h),i&4&&-1<Gh.indexOf(s)){for(;p!==null;){var y=nl(p);if(y!==null&&yu(y),y=fo(s,i,l,h),y===null&&ad(s,i,h,gi,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else ad(s,i,h,null,l)}}var gi=null;function fo(s,i,l,h){if(gi=null,s=to(h),s=_i(s),s!==null)if(i=$n(s),i===null)s=null;else if(l=i.tag,l===13){if(s=ci(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return gi=s,null}function $a(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(du()){case hi:return 1;case os:return 4;case Cn:case Fa:return 16;case fu:return 536870912;default:return 16}default:return 16}}var Tn=null,po=null,un=null;function qa(){if(un)return un;var s,i=po,l=i.length,h,p="value"in Tn?Tn.value:Tn.textContent,y=p.length;for(s=0;s<l&&i[s]===p[s];s++);var E=l-s;for(h=1;h<=E&&i[l-h]===p[y-h];h++);return un=p.slice(s,1<h?1-h:void 0)}function mo(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function hr(){return!0}function Ha(){return!1}function jt(s){function i(l,h,p,y,E){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(l=s[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hr:Ha,this.isPropagationStopped=Ha,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),i}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=jt(Qn),dr=ae({},Qn,{view:0,detail:0}),Xh=jt(dr),yo,Fr,ps,yi=ae({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ps&&(ps&&s.type==="mousemove"?(yo=s.screenX-ps.screenX,Fr=s.screenY-ps.screenY):Fr=yo=0,ps=s),yo)},movementY:function(s){return"movementY"in s?s.movementY:Fr}}),vo=jt(yi),Wa=ae({},yi,{dataTransfer:0}),xu=jt(Wa),_o=ae({},dr,{relatedTarget:0}),wo=jt(_o),Su=ae({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ur=jt(Su),bu=ae({},Qn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ru=jt(bu),Cu=ae({},Qn,{data:0}),Ka=jt(Cu),Eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},en={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Au[s])?!!i[s]:!1}function fr(){return ku}var c=ae({},dr,{key:function(s){if(s.key){var i=Eo[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=mo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?en[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(s){return s.type==="keypress"?mo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?mo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g=jt(c),_=ae({},yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=jt(_),z=ae({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),W=jt(z),ie=ae({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=jt(ie),St=ae({},yi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=jt(St),Nt=[9,13,27,32],vt=d&&"CompositionEvent"in window,kn=null;d&&"documentMode"in document&&(kn=document.documentMode);var In=d&&"TextEvent"in window&&!kn,vi=d&&(!vt||kn&&8<kn&&11>=kn),To=" ",Bm=!1;function $m(s,i){switch(s){case"keyup":return Nt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Io=!1;function _I(s,i){switch(s){case"compositionend":return qm(i);case"keypress":return i.which!==32?null:(Bm=!0,To);case"textInput":return s=i.data,s===To&&Bm?null:s;default:return null}}function wI(s,i){if(Io)return s==="compositionend"||!vt&&$m(s,i)?(s=qa(),un=po=Tn=null,Io=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vi&&i.locale!=="ko"?null:i.data;default:return null}}var EI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hm(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!EI[s.type]:i==="textarea"}function Wm(s,i,l,h){lr(h),i=Lu(i,"onChange"),0<i.length&&(l=new go("onChange","change",null,l,h),s.push({event:l,listeners:i}))}var Ga=null,Qa=null;function TI(s){cg(s,0)}function Pu(s){var i=Co(s);if(Un(i))return s}function II(s,i){if(s==="change")return i}var Km=!1;if(d){var Yh;if(d){var Zh="oninput"in document;if(!Zh){var Gm=document.createElement("div");Gm.setAttribute("oninput","return;"),Zh=typeof Gm.oninput=="function"}Yh=Zh}else Yh=!1;Km=Yh&&(!document.documentMode||9<document.documentMode)}function Qm(){Ga&&(Ga.detachEvent("onpropertychange",Jm),Qa=Ga=null)}function Jm(s){if(s.propertyName==="value"&&Pu(Qa)){var i=[];Wm(i,Qa,s,to(s)),La(TI,i)}}function xI(s,i,l){s==="focusin"?(Qm(),Ga=i,Qa=l,Ga.attachEvent("onpropertychange",Jm)):s==="focusout"&&Qm()}function SI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Pu(Qa)}function bI(s,i){if(s==="click")return Pu(i)}function RI(s,i){if(s==="input"||s==="change")return Pu(i)}function CI(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Jn=typeof Object.is=="function"?Object.is:CI;function Ja(s,i){if(Jn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(i,p)||!Jn(s[p],i[p]))return!1}return!0}function Xm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ym(s,i){var l=Xm(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=i&&h>=i)return{node:l,offset:i-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xm(l)}}function Zm(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Zm(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function eg(){for(var s=window,i=ss();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=ss(s.document)}return i}function ed(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function AI(s){var i=eg(),l=s.focusedElem,h=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Zm(l.ownerDocument.documentElement,l)){if(h!==null&&ed(l)){if(i=h.start,s=h.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!s.extend&&y>h&&(p=h,h=y,y=p),p=Ym(l,y);var E=Ym(l,h);p&&E&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),y>h?(s.addRange(i),s.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var kI=d&&"documentMode"in document&&11>=document.documentMode,xo=null,td=null,Xa=null,nd=!1;function tg(s,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;nd||xo==null||xo!==ss(h)||(h=xo,"selectionStart"in h&&ed(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Xa&&Ja(Xa,h)||(Xa=h,h=Lu(td,"onSelect"),0<h.length&&(i=new go("onSelect","select",null,i,l),s.push({event:i,listeners:h}),i.target=xo)))}function Nu(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var So={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},rd={},ng={};d&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Ou(s){if(rd[s])return rd[s];if(!So[s])return s;var i=So[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in ng)return rd[s]=i[l];return s}var rg=Ou("animationend"),sg=Ou("animationiteration"),ig=Ou("animationstart"),og=Ou("transitionend"),ag=new Map,lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(s,i){ag.set(s,i),a(i,[s])}for(var sd=0;sd<lg.length;sd++){var id=lg[sd],PI=id.toLowerCase(),NI=id[0].toUpperCase()+id.slice(1);ms(PI,"on"+NI)}ms(rg,"onAnimationEnd"),ms(sg,"onAnimationIteration"),ms(ig,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(og,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ya));function ug(s,i,l){var h=s.type||"unknown-event";s.currentTarget=l,uu(h,i,void 0,s),s.currentTarget=null}function cg(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],p=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var E=h.length-1;0<=E;E--){var C=h[E],D=C.instance,q=C.currentTarget;if(C=C.listener,D!==y&&p.isPropagationStopped())break e;ug(p,C,q),y=D}else for(E=0;E<h.length;E++){if(C=h[E],D=C.instance,q=C.currentTarget,C=C.listener,D!==y&&p.isPropagationStopped())break e;ug(p,C,q),y=D}}}if(Bn)throw s=Va,Bn=!1,Va=null,s}function et(s,i){var l=i[fd];l===void 0&&(l=i[fd]=new Set);var h=s+"__bubble";l.has(h)||(hg(i,s,2,!1),l.add(h))}function od(s,i,l){var h=0;i&&(h|=4),hg(l,s,h,i)}var Du="_reactListening"+Math.random().toString(36).slice(2);function Za(s){if(!s[Du]){s[Du]=!0,r.forEach(function(l){l!=="selectionchange"&&(OI.has(l)||od(l,!1,s),od(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Du]||(i[Du]=!0,od("selectionchange",!1,i))}}function hg(s,i,l,h){switch($a(i)){case 1:var p=rt;break;case 4:p=Jh;break;default:p=Ba}l=p.bind(null,i,l,s),p=void 0,!so||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function ad(s,i,l,h,p){var y=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var C=h.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var D=E.tag;if((D===3||D===4)&&(D=E.stateNode.containerInfo,D===p||D.nodeType===8&&D.parentNode===p))return;E=E.return}for(;C!==null;){if(E=_i(C),E===null)return;if(D=E.tag,D===5||D===6){h=y=E;continue e}C=C.parentNode}}h=h.return}La(function(){var q=y,te=to(l),ne=[];e:{var ee=ag.get(s);if(ee!==void 0){var le=go,pe=s;switch(s){case"keypress":if(mo(l)===0)break e;case"keydown":case"keyup":le=g;break;case"focusin":pe="focus",le=wo;break;case"focusout":pe="blur",le=wo;break;case"beforeblur":case"afterblur":le=wo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=W;break;case rg:case sg:case ig:le=Ur;break;case og:le=Qe;break;case"scroll":le=Xh;break;case"wheel":le=Be;break;case"copy":case"cut":case"paste":le=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=x}var ye=(i&4)!==0,ft=!ye&&s==="scroll",B=ye?ee!==null?ee+"Capture":null:ee;ye=[];for(var M=q,$;M!==null;){$=M;var se=$.stateNode;if($.tag===5&&se!==null&&($=se,B!==null&&(se=dt(M,B),se!=null&&ye.push(el(M,se,$)))),ft)break;M=M.return}0<ye.length&&(ee=new le(ee,pe,null,l,te),ne.push({event:ee,listeners:ye}))}}if((i&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",ee&&l!==oi&&(pe=l.relatedTarget||l.fromElement)&&(_i(pe)||pe[zr]))break e;if((le||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,le?(pe=l.relatedTarget||l.toElement,le=q,pe=pe?_i(pe):null,pe!==null&&(ft=$n(pe),pe!==ft||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(le=null,pe=q),le!==pe)){if(ye=vo,se="onMouseLeave",B="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(ye=x,se="onPointerLeave",B="onPointerEnter",M="pointer"),ft=le==null?ee:Co(le),$=pe==null?ee:Co(pe),ee=new ye(se,M+"leave",le,l,te),ee.target=ft,ee.relatedTarget=$,se=null,_i(te)===q&&(ye=new ye(B,M+"enter",pe,l,te),ye.target=$,ye.relatedTarget=ft,se=ye),ft=se,le&&pe)t:{for(ye=le,B=pe,M=0,$=ye;$;$=bo($))M++;for($=0,se=B;se;se=bo(se))$++;for(;0<M-$;)ye=bo(ye),M--;for(;0<$-M;)B=bo(B),$--;for(;M--;){if(ye===B||B!==null&&ye===B.alternate)break t;ye=bo(ye),B=bo(B)}ye=null}else ye=null;le!==null&&dg(ne,ee,le,ye,!1),pe!==null&&ft!==null&&dg(ne,ft,pe,ye,!0)}}e:{if(ee=q?Co(q):window,le=ee.nodeName&&ee.nodeName.toLowerCase(),le==="select"||le==="input"&&ee.type==="file")var ve=II;else if(Hm(ee))if(Km)ve=RI;else{ve=SI;var Te=xI}else(le=ee.nodeName)&&le.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ve=bI);if(ve&&(ve=ve(s,q))){Wm(ne,ve,l,te);break e}Te&&Te(s,ee,q),s==="focusout"&&(Te=ee._wrapperState)&&Te.controlled&&ee.type==="number"&&Yi(ee,"number",ee.value)}switch(Te=q?Co(q):window,s){case"focusin":(Hm(Te)||Te.contentEditable==="true")&&(xo=Te,td=q,Xa=null);break;case"focusout":Xa=td=xo=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,tg(ne,l,te);break;case"selectionchange":if(kI)break;case"keydown":case"keyup":tg(ne,l,te)}var Ie;if(vt)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Io?$m(s,l)&&(Re="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(vi&&l.locale!=="ko"&&(Io||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Io&&(Ie=qa()):(Tn=te,po="value"in Tn?Tn.value:Tn.textContent,Io=!0)),Te=Lu(q,Re),0<Te.length&&(Re=new Ka(Re,s,null,l,te),ne.push({event:Re,listeners:Te}),Ie?Re.data=Ie:(Ie=qm(l),Ie!==null&&(Re.data=Ie)))),(Ie=In?_I(s,l):wI(s,l))&&(q=Lu(q,"onBeforeInput"),0<q.length&&(te=new Ka("onBeforeInput","beforeinput",null,l,te),ne.push({event:te,listeners:q}),te.data=Ie))}cg(ne,i)})}function el(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Lu(s,i){for(var l=i+"Capture",h=[];s!==null;){var p=s,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=dt(s,l),y!=null&&h.unshift(el(s,y,p)),y=dt(s,i),y!=null&&h.push(el(s,y,p))),s=s.return}return h}function bo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function dg(s,i,l,h,p){for(var y=i._reactName,E=[];l!==null&&l!==h;){var C=l,D=C.alternate,q=C.stateNode;if(D!==null&&D===h)break;C.tag===5&&q!==null&&(C=q,p?(D=dt(l,y),D!=null&&E.unshift(el(l,D,C))):p||(D=dt(l,y),D!=null&&E.push(el(l,D,C)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var DI=/\r\n?/g,LI=/\u0000|\uFFFD/g;function fg(s){return(typeof s=="string"?s:""+s).replace(DI,`
`).replace(LI,"")}function Vu(s,i,l){if(i=fg(i),fg(s)!==i&&l)throw Error(t(425))}function Mu(){}var ld=null,ud=null;function cd(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hd=typeof setTimeout=="function"?setTimeout:void 0,VI=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,MI=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(s){return pg.resolve(null).then(s).catch(jI)}:hd;function jI(s){setTimeout(function(){throw s})}function dd(s,i){var l=i,h=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){s.removeChild(p),Gn(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Gn(i)}function gs(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function mg(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),pr="__reactFiber$"+Ro,tl="__reactProps$"+Ro,zr="__reactContainer$"+Ro,fd="__reactEvents$"+Ro,FI="__reactListeners$"+Ro,UI="__reactHandles$"+Ro;function _i(s){var i=s[pr];if(i)return i;for(var l=s.parentNode;l;){if(i=l[zr]||l[pr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=mg(s);s!==null;){if(l=s[pr])return l;s=mg(s)}return i}s=l,l=s.parentNode}return null}function nl(s){return s=s[pr]||s[zr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Co(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function ju(s){return s[tl]||null}var pd=[],Ao=-1;function ys(s){return{current:s}}function tt(s){0>Ao||(s.current=pd[Ao],pd[Ao]=null,Ao--)}function Ye(s,i){Ao++,pd[Ao]=s.current,s.current=i}var vs={},$t=ys(vs),cn=ys(!1),wi=vs;function ko(s,i){var l=s.type.contextTypes;if(!l)return vs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=i[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function hn(s){return s=s.childContextTypes,s!=null}function Fu(){tt(cn),tt($t)}function gg(s,i,l){if($t.current!==vs)throw Error(t(168));Ye($t,i),Ye(cn,l)}function yg(s,i,l){var h=s.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in i))throw Error(t(108,Se(s)||"Unknown",p));return ae({},l,h)}function Uu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||vs,wi=$t.current,Ye($t,s),Ye(cn,cn.current),!0}function vg(s,i,l){var h=s.stateNode;if(!h)throw Error(t(169));l?(s=yg(s,i,wi),h.__reactInternalMemoizedMergedChildContext=s,tt(cn),tt($t),Ye($t,s)):tt(cn),Ye(cn,l)}var Br=null,zu=!1,md=!1;function _g(s){Br===null?Br=[s]:Br.push(s)}function zI(s){zu=!0,_g(s)}function _s(){if(!md&&Br!==null){md=!0;var s=0,i=Ue;try{var l=Br;for(Ue=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}Br=null,zu=!1}catch(p){throw Br!==null&&(Br=Br.slice(s+1)),lo(hi,_s),p}finally{Ue=i,md=!1}}return null}var Po=[],No=0,Bu=null,$u=0,Pn=[],Nn=0,Ei=null,$r=1,qr="";function Ti(s,i){Po[No++]=$u,Po[No++]=Bu,Bu=s,$u=i}function wg(s,i,l){Pn[Nn++]=$r,Pn[Nn++]=qr,Pn[Nn++]=Ei,Ei=s;var h=$r;s=qr;var p=32-Zt(h)-1;h&=~(1<<p),l+=1;var y=32-Zt(i)+p;if(30<y){var E=p-p%5;y=(h&(1<<E)-1).toString(32),h>>=E,p-=E,$r=1<<32-Zt(i)+p|l<<p|h,qr=y+s}else $r=1<<y|l<<p|h,qr=s}function gd(s){s.return!==null&&(Ti(s,1),wg(s,1,0))}function yd(s){for(;s===Bu;)Bu=Po[--No],Po[No]=null,$u=Po[--No],Po[No]=null;for(;s===Ei;)Ei=Pn[--Nn],Pn[Nn]=null,qr=Pn[--Nn],Pn[Nn]=null,$r=Pn[--Nn],Pn[Nn]=null}var xn=null,Sn=null,st=!1,Xn=null;function Eg(s,i){var l=Vn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Tg(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,xn=s,Sn=gs(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,xn=s,Sn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Ei!==null?{id:$r,overflow:qr}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Vn(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,xn=s,Sn=null,!0):!1;default:return!1}}function vd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function _d(s){if(st){var i=Sn;if(i){var l=i;if(!Tg(s,i)){if(vd(s))throw Error(t(418));i=gs(l.nextSibling);var h=xn;i&&Tg(s,i)?Eg(h,l):(s.flags=s.flags&-4097|2,st=!1,xn=s)}}else{if(vd(s))throw Error(t(418));s.flags=s.flags&-4097|2,st=!1,xn=s}}}function Ig(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xn=s}function qu(s){if(s!==xn)return!1;if(!st)return Ig(s),st=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!cd(s.type,s.memoizedProps)),i&&(i=Sn)){if(vd(s))throw xg(),Error(t(418));for(;i;)Eg(s,i),i=gs(i.nextSibling)}if(Ig(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){Sn=gs(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}Sn=null}}else Sn=xn?gs(s.stateNode.nextSibling):null;return!0}function xg(){for(var s=Sn;s;)s=gs(s.nextSibling)}function Oo(){Sn=xn=null,st=!1}function wd(s){Xn===null?Xn=[s]:Xn.push(s)}var BI=Y.ReactCurrentBatchConfig;function rl(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,s));var p=h,y=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(E){var C=p.refs;E===null?delete C[y]:C[y]=E},i._stringRef=y,i)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function Hu(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Sg(s){var i=s._init;return i(s._payload)}function bg(s){function i(B,M){if(s){var $=B.deletions;$===null?(B.deletions=[M],B.flags|=16):$.push(M)}}function l(B,M){if(!s)return null;for(;M!==null;)i(B,M),M=M.sibling;return null}function h(B,M){for(B=new Map;M!==null;)M.key!==null?B.set(M.key,M):B.set(M.index,M),M=M.sibling;return B}function p(B,M){return B=Rs(B,M),B.index=0,B.sibling=null,B}function y(B,M,$){return B.index=$,s?($=B.alternate,$!==null?($=$.index,$<M?(B.flags|=2,M):$):(B.flags|=2,M)):(B.flags|=1048576,M)}function E(B){return s&&B.alternate===null&&(B.flags|=2),B}function C(B,M,$,se){return M===null||M.tag!==6?(M=df($,B.mode,se),M.return=B,M):(M=p(M,$),M.return=B,M)}function D(B,M,$,se){var ve=$.type;return ve===P?te(B,M,$.props.children,se,$.key):M!==null&&(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Pe&&Sg(ve)===M.type)?(se=p(M,$.props),se.ref=rl(B,M,$),se.return=B,se):(se=mc($.type,$.key,$.props,null,B.mode,se),se.ref=rl(B,M,$),se.return=B,se)}function q(B,M,$,se){return M===null||M.tag!==4||M.stateNode.containerInfo!==$.containerInfo||M.stateNode.implementation!==$.implementation?(M=ff($,B.mode,se),M.return=B,M):(M=p(M,$.children||[]),M.return=B,M)}function te(B,M,$,se,ve){return M===null||M.tag!==7?(M=ki($,B.mode,se,ve),M.return=B,M):(M=p(M,$),M.return=B,M)}function ne(B,M,$){if(typeof M=="string"&&M!==""||typeof M=="number")return M=df(""+M,B.mode,$),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ue:return $=mc(M.type,M.key,M.props,null,B.mode,$),$.ref=rl(B,null,M),$.return=B,$;case de:return M=ff(M,B.mode,$),M.return=B,M;case Pe:var se=M._init;return ne(B,se(M._payload),$)}if(Nr(M)||_e(M))return M=ki(M,B.mode,$,null),M.return=B,M;Hu(B,M)}return null}function ee(B,M,$,se){var ve=M!==null?M.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ve!==null?null:C(B,M,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case ue:return $.key===ve?D(B,M,$,se):null;case de:return $.key===ve?q(B,M,$,se):null;case Pe:return ve=$._init,ee(B,M,ve($._payload),se)}if(Nr($)||_e($))return ve!==null?null:te(B,M,$,se,null);Hu(B,$)}return null}function le(B,M,$,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number")return B=B.get($)||null,C(M,B,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case ue:return B=B.get(se.key===null?$:se.key)||null,D(M,B,se,ve);case de:return B=B.get(se.key===null?$:se.key)||null,q(M,B,se,ve);case Pe:var Te=se._init;return le(B,M,$,Te(se._payload),ve)}if(Nr(se)||_e(se))return B=B.get($)||null,te(M,B,se,ve,null);Hu(M,se)}return null}function pe(B,M,$,se){for(var ve=null,Te=null,Ie=M,Re=M=0,Lt=null;Ie!==null&&Re<$.length;Re++){Ie.index>Re?(Lt=Ie,Ie=null):Lt=Ie.sibling;var Ke=ee(B,Ie,$[Re],se);if(Ke===null){Ie===null&&(Ie=Lt);break}s&&Ie&&Ke.alternate===null&&i(B,Ie),M=y(Ke,M,Re),Te===null?ve=Ke:Te.sibling=Ke,Te=Ke,Ie=Lt}if(Re===$.length)return l(B,Ie),st&&Ti(B,Re),ve;if(Ie===null){for(;Re<$.length;Re++)Ie=ne(B,$[Re],se),Ie!==null&&(M=y(Ie,M,Re),Te===null?ve=Ie:Te.sibling=Ie,Te=Ie);return st&&Ti(B,Re),ve}for(Ie=h(B,Ie);Re<$.length;Re++)Lt=le(Ie,B,Re,$[Re],se),Lt!==null&&(s&&Lt.alternate!==null&&Ie.delete(Lt.key===null?Re:Lt.key),M=y(Lt,M,Re),Te===null?ve=Lt:Te.sibling=Lt,Te=Lt);return s&&Ie.forEach(function(Cs){return i(B,Cs)}),st&&Ti(B,Re),ve}function ye(B,M,$,se){var ve=_e($);if(typeof ve!="function")throw Error(t(150));if($=ve.call($),$==null)throw Error(t(151));for(var Te=ve=null,Ie=M,Re=M=0,Lt=null,Ke=$.next();Ie!==null&&!Ke.done;Re++,Ke=$.next()){Ie.index>Re?(Lt=Ie,Ie=null):Lt=Ie.sibling;var Cs=ee(B,Ie,Ke.value,se);if(Cs===null){Ie===null&&(Ie=Lt);break}s&&Ie&&Cs.alternate===null&&i(B,Ie),M=y(Cs,M,Re),Te===null?ve=Cs:Te.sibling=Cs,Te=Cs,Ie=Lt}if(Ke.done)return l(B,Ie),st&&Ti(B,Re),ve;if(Ie===null){for(;!Ke.done;Re++,Ke=$.next())Ke=ne(B,Ke.value,se),Ke!==null&&(M=y(Ke,M,Re),Te===null?ve=Ke:Te.sibling=Ke,Te=Ke);return st&&Ti(B,Re),ve}for(Ie=h(B,Ie);!Ke.done;Re++,Ke=$.next())Ke=le(Ie,B,Re,Ke.value,se),Ke!==null&&(s&&Ke.alternate!==null&&Ie.delete(Ke.key===null?Re:Ke.key),M=y(Ke,M,Re),Te===null?ve=Ke:Te.sibling=Ke,Te=Ke);return s&&Ie.forEach(function(Ex){return i(B,Ex)}),st&&Ti(B,Re),ve}function ft(B,M,$,se){if(typeof $=="object"&&$!==null&&$.type===P&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case ue:e:{for(var ve=$.key,Te=M;Te!==null;){if(Te.key===ve){if(ve=$.type,ve===P){if(Te.tag===7){l(B,Te.sibling),M=p(Te,$.props.children),M.return=B,B=M;break e}}else if(Te.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Pe&&Sg(ve)===Te.type){l(B,Te.sibling),M=p(Te,$.props),M.ref=rl(B,Te,$),M.return=B,B=M;break e}l(B,Te);break}else i(B,Te);Te=Te.sibling}$.type===P?(M=ki($.props.children,B.mode,se,$.key),M.return=B,B=M):(se=mc($.type,$.key,$.props,null,B.mode,se),se.ref=rl(B,M,$),se.return=B,B=se)}return E(B);case de:e:{for(Te=$.key;M!==null;){if(M.key===Te)if(M.tag===4&&M.stateNode.containerInfo===$.containerInfo&&M.stateNode.implementation===$.implementation){l(B,M.sibling),M=p(M,$.children||[]),M.return=B,B=M;break e}else{l(B,M);break}else i(B,M);M=M.sibling}M=ff($,B.mode,se),M.return=B,B=M}return E(B);case Pe:return Te=$._init,ft(B,M,Te($._payload),se)}if(Nr($))return pe(B,M,$,se);if(_e($))return ye(B,M,$,se);Hu(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,M!==null&&M.tag===6?(l(B,M.sibling),M=p(M,$),M.return=B,B=M):(l(B,M),M=df($,B.mode,se),M.return=B,B=M),E(B)):l(B,M)}return ft}var Do=bg(!0),Rg=bg(!1),Wu=ys(null),Ku=null,Lo=null,Ed=null;function Td(){Ed=Lo=Ku=null}function Id(s){var i=Wu.current;tt(Wu),s._currentValue=i}function xd(s,i,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),s===l)break;s=s.return}}function Vo(s,i){Ku=s,Ed=Lo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(dn=!0),s.firstContext=null)}function On(s){var i=s._currentValue;if(Ed!==s)if(s={context:s,memoizedValue:i,next:null},Lo===null){if(Ku===null)throw Error(t(308));Lo=s,Ku.dependencies={lanes:0,firstContext:s}}else Lo=Lo.next=s;return i}var Ii=null;function Sd(s){Ii===null?Ii=[s]:Ii.push(s)}function Cg(s,i,l,h){var p=i.interleaved;return p===null?(l.next=l,Sd(i)):(l.next=p.next,p.next=l),i.interleaved=l,Hr(s,h)}function Hr(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var ws=!1;function bd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ag(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Wr(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Es(s,i,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,Hr(s,l)}return p=h.interleaved,p===null?(i.next=i,Sd(h)):(i.next=p.next,p.next=i),h.interleaved=i,Hr(s,l)}function Gu(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,cs(s,l)}}function kg(s,i){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function Qu(s,i,l,h){var p=s.updateQueue;ws=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var D=C,q=D.next;D.next=null,E===null?y=q:E.next=q,E=D;var te=s.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==E&&(C===null?te.firstBaseUpdate=q:C.next=q,te.lastBaseUpdate=D))}if(y!==null){var ne=p.baseState;E=0,te=q=D=null,C=y;do{var ee=C.lane,le=C.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:le,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var pe=s,ye=C;switch(ee=i,le=l,ye.tag){case 1:if(pe=ye.payload,typeof pe=="function"){ne=pe.call(le,ne,ee);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ye.payload,ee=typeof pe=="function"?pe.call(le,ne,ee):pe,ee==null)break e;ne=ae({},ne,ee);break e;case 2:ws=!0}}C.callback!==null&&C.lane!==0&&(s.flags|=64,ee=p.effects,ee===null?p.effects=[C]:ee.push(C))}else le={eventTime:le,lane:ee,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(q=te=le,D=ne):te=te.next=le,E|=ee;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(te===null&&(D=ne),p.baseState=D,p.firstBaseUpdate=q,p.lastBaseUpdate=te,i=p.shared.interleaved,i!==null){p=i;do E|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);bi|=E,s.lanes=E,s.memoizedState=ne}}function Pg(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var h=s[i],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var sl={},mr=ys(sl),il=ys(sl),ol=ys(sl);function xi(s){if(s===sl)throw Error(t(174));return s}function Rd(s,i){switch(Ye(ol,i),Ye(il,s),Ye(mr,sl),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:xt(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=xt(i,s)}tt(mr),Ye(mr,i)}function Mo(){tt(mr),tt(il),tt(ol)}function Ng(s){xi(ol.current);var i=xi(mr.current),l=xt(i,s.type);i!==l&&(Ye(il,s),Ye(mr,l))}function Cd(s){il.current===s&&(tt(mr),tt(il))}var at=ys(0);function Ju(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ad=[];function kd(){for(var s=0;s<Ad.length;s++)Ad[s]._workInProgressVersionPrimary=null;Ad.length=0}var Xu=Y.ReactCurrentDispatcher,Pd=Y.ReactCurrentBatchConfig,Si=0,lt=null,bt=null,Ot=null,Yu=!1,al=!1,ll=0,$I=0;function qt(){throw Error(t(321))}function Nd(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Jn(s[l],i[l]))return!1;return!0}function Od(s,i,l,h,p,y){if(Si=y,lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Xu.current=s===null||s.memoizedState===null?KI:GI,s=l(h,p),al){y=0;do{if(al=!1,ll=0,25<=y)throw Error(t(301));y+=1,Ot=bt=null,i.updateQueue=null,Xu.current=QI,s=l(h,p)}while(al)}if(Xu.current=tc,i=bt!==null&&bt.next!==null,Si=0,Ot=bt=lt=null,Yu=!1,i)throw Error(t(300));return s}function Dd(){var s=ll!==0;return ll=0,s}function gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?lt.memoizedState=Ot=s:Ot=Ot.next=s,Ot}function Dn(){if(bt===null){var s=lt.alternate;s=s!==null?s.memoizedState:null}else s=bt.next;var i=Ot===null?lt.memoizedState:Ot.next;if(i!==null)Ot=i,bt=s;else{if(s===null)throw Error(t(310));bt=s,s={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ot===null?lt.memoizedState=Ot=s:Ot=Ot.next=s}return Ot}function ul(s,i){return typeof i=="function"?i(s):i}function Ld(s){var i=Dn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=bt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var C=E=null,D=null,q=y;do{var te=q.lane;if((Si&te)===te)D!==null&&(D=D.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:s(h,q.action);else{var ne={lane:te,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};D===null?(C=D=ne,E=h):D=D.next=ne,lt.lanes|=te,bi|=te}q=q.next}while(q!==null&&q!==y);D===null?E=h:D.next=C,Jn(h,i.memoizedState)||(dn=!0),i.memoizedState=h,i.baseState=E,i.baseQueue=D,l.lastRenderedState=h}if(s=l.interleaved,s!==null){p=s;do y=p.lane,lt.lanes|=y,bi|=y,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Vd(s){var i=Dn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=s(y,E.action),E=E.next;while(E!==p);Jn(y,i.memoizedState)||(dn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,h]}function Og(){}function Dg(s,i){var l=lt,h=Dn(),p=i(),y=!Jn(h.memoizedState,p);if(y&&(h.memoizedState=p,dn=!0),h=h.queue,Md(Mg.bind(null,l,h,s),[s]),h.getSnapshot!==i||y||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,cl(9,Vg.bind(null,l,h,p,i),void 0,null),Dt===null)throw Error(t(349));(Si&30)!==0||Lg(l,i,p)}return p}function Lg(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=lt.updateQueue,i===null?(i={lastEffect:null,stores:null},lt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Vg(s,i,l,h){i.value=l,i.getSnapshot=h,jg(i)&&Fg(s)}function Mg(s,i,l){return l(function(){jg(i)&&Fg(s)})}function jg(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Jn(s,l)}catch{return!0}}function Fg(s){var i=Hr(s,1);i!==null&&tr(i,s,1,-1)}function Ug(s){var i=gr();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:s},i.queue=s,s=s.dispatch=WI.bind(null,lt,s),[i.memoizedState,s]}function cl(s,i,l,h){return s={tag:s,create:i,destroy:l,deps:h,next:null},i=lt.updateQueue,i===null?(i={lastEffect:null,stores:null},lt.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,i.lastEffect=s)),s}function zg(){return Dn().memoizedState}function Zu(s,i,l,h){var p=gr();lt.flags|=s,p.memoizedState=cl(1|i,l,void 0,h===void 0?null:h)}function ec(s,i,l,h){var p=Dn();h=h===void 0?null:h;var y=void 0;if(bt!==null){var E=bt.memoizedState;if(y=E.destroy,h!==null&&Nd(h,E.deps)){p.memoizedState=cl(i,l,y,h);return}}lt.flags|=s,p.memoizedState=cl(1|i,l,y,h)}function Bg(s,i){return Zu(8390656,8,s,i)}function Md(s,i){return ec(2048,8,s,i)}function $g(s,i){return ec(4,2,s,i)}function qg(s,i){return ec(4,4,s,i)}function Hg(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Wg(s,i,l){return l=l!=null?l.concat([s]):null,ec(4,4,Hg.bind(null,i,s),l)}function jd(){}function Kg(s,i){var l=Dn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Nd(i,h[1])?h[0]:(l.memoizedState=[s,i],s)}function Gg(s,i){var l=Dn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Nd(i,h[1])?h[0]:(s=s(),l.memoizedState=[s,i],s)}function Qg(s,i,l){return(Si&21)===0?(s.baseState&&(s.baseState=!1,dn=!0),s.memoizedState=l):(Jn(l,i)||(l=pi(),lt.lanes|=l,bi|=l,s.baseState=!0),i)}function qI(s,i){var l=Ue;Ue=l!==0&&4>l?l:4,s(!0);var h=Pd.transition;Pd.transition={};try{s(!1),i()}finally{Ue=l,Pd.transition=h}}function Jg(){return Dn().memoizedState}function HI(s,i,l){var h=Ss(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Xg(s))Yg(i,l);else if(l=Cg(s,i,l,h),l!==null){var p=nn();tr(l,s,h,p),Zg(l,i,h)}}function WI(s,i,l){var h=Ss(s),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xg(s))Yg(i,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,C=y(E,l);if(p.hasEagerState=!0,p.eagerState=C,Jn(C,E)){var D=i.interleaved;D===null?(p.next=p,Sd(i)):(p.next=D.next,D.next=p),i.interleaved=p;return}}catch{}l=Cg(s,i,p,h),l!==null&&(p=nn(),tr(l,s,h,p),Zg(l,i,h))}}function Xg(s){var i=s.alternate;return s===lt||i!==null&&i===lt}function Yg(s,i){al=Yu=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Zg(s,i,l){if((l&4194240)!==0){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,cs(s,l)}}var tc={readContext:On,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},KI={readContext:On,useCallback:function(s,i){return gr().memoizedState=[s,i===void 0?null:i],s},useContext:On,useEffect:Bg,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,Zu(4194308,4,Hg.bind(null,i,s),l)},useLayoutEffect:function(s,i){return Zu(4194308,4,s,i)},useInsertionEffect:function(s,i){return Zu(4,2,s,i)},useMemo:function(s,i){var l=gr();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var h=gr();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},h.queue=s,s=s.dispatch=HI.bind(null,lt,s),[h.memoizedState,s]},useRef:function(s){var i=gr();return s={current:s},i.memoizedState=s},useState:Ug,useDebugValue:jd,useDeferredValue:function(s){return gr().memoizedState=s},useTransition:function(){var s=Ug(!1),i=s[0];return s=qI.bind(null,s[1]),gr().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var h=lt,p=gr();if(st){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),Dt===null)throw Error(t(349));(Si&30)!==0||Lg(h,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,Bg(Mg.bind(null,h,y,s),[s]),h.flags|=2048,cl(9,Vg.bind(null,h,y,l,i),void 0,null),l},useId:function(){var s=gr(),i=Dt.identifierPrefix;if(st){var l=qr,h=$r;l=(h&~(1<<32-Zt(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=ll++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=$I++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},GI={readContext:On,useCallback:Kg,useContext:On,useEffect:Md,useImperativeHandle:Wg,useInsertionEffect:$g,useLayoutEffect:qg,useMemo:Gg,useReducer:Ld,useRef:zg,useState:function(){return Ld(ul)},useDebugValue:jd,useDeferredValue:function(s){var i=Dn();return Qg(i,bt.memoizedState,s)},useTransition:function(){var s=Ld(ul)[0],i=Dn().memoizedState;return[s,i]},useMutableSource:Og,useSyncExternalStore:Dg,useId:Jg,unstable_isNewReconciler:!1},QI={readContext:On,useCallback:Kg,useContext:On,useEffect:Md,useImperativeHandle:Wg,useInsertionEffect:$g,useLayoutEffect:qg,useMemo:Gg,useReducer:Vd,useRef:zg,useState:function(){return Vd(ul)},useDebugValue:jd,useDeferredValue:function(s){var i=Dn();return bt===null?i.memoizedState=s:Qg(i,bt.memoizedState,s)},useTransition:function(){var s=Vd(ul)[0],i=Dn().memoizedState;return[s,i]},useMutableSource:Og,useSyncExternalStore:Dg,useId:Jg,unstable_isNewReconciler:!1};function Yn(s,i){if(s&&s.defaultProps){i=ae({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function Fd(s,i,l,h){i=s.memoizedState,l=l(h,i),l=l==null?i:ae({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var nc={isMounted:function(s){return(s=s._reactInternals)?$n(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var h=nn(),p=Ss(s),y=Wr(h,p);y.payload=i,l!=null&&(y.callback=l),i=Es(s,y,p),i!==null&&(tr(i,s,p,h),Gu(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var h=nn(),p=Ss(s),y=Wr(h,p);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=Es(s,y,p),i!==null&&(tr(i,s,p,h),Gu(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=nn(),h=Ss(s),p=Wr(l,h);p.tag=2,i!=null&&(p.callback=i),i=Es(s,p,h),i!==null&&(tr(i,s,h,l),Gu(i,s,h))}};function ey(s,i,l,h,p,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,E):i.prototype&&i.prototype.isPureReactComponent?!Ja(l,h)||!Ja(p,y):!0}function ty(s,i,l){var h=!1,p=vs,y=i.contextType;return typeof y=="object"&&y!==null?y=On(y):(p=hn(i)?wi:$t.current,h=i.contextTypes,y=(h=h!=null)?ko(s,p):vs),i=new i(l,y),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=nc,s.stateNode=i,i._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=y),i}function ny(s,i,l,h){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==s&&nc.enqueueReplaceState(i,i.state,null)}function Ud(s,i,l,h){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},bd(s);var y=i.contextType;typeof y=="object"&&y!==null?p.context=On(y):(y=hn(i)?wi:$t.current,p.context=ko(s,y)),p.state=s.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Fd(s,i,y,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&nc.enqueueReplaceState(p,p.state,null),Qu(s,l,p,h),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function jo(s,i){try{var l="",h=i;do l+=Ce(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:i,stack:p,digest:null}}function zd(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function Bd(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var JI=typeof WeakMap=="function"?WeakMap:Map;function ry(s,i,l){l=Wr(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){uc||(uc=!0,rf=h),Bd(s,i)},l}function sy(s,i,l){l=Wr(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=i.value;l.payload=function(){return h(p)},l.callback=function(){Bd(s,i)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Bd(s,i),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),l}function iy(s,i,l){var h=s.pingCache;if(h===null){h=s.pingCache=new JI;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(l)||(p.add(l),s=cx.bind(null,s,i,l),i.then(s,s))}function oy(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function ay(s,i,l,h,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Wr(-1,1),i.tag=2,Es(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var XI=Y.ReactCurrentOwner,dn=!1;function tn(s,i,l,h){i.child=s===null?Rg(i,null,l,h):Do(i,s.child,l,h)}function ly(s,i,l,h,p){l=l.render;var y=i.ref;return Vo(i,p),h=Od(s,i,l,h,y,p),l=Dd(),s!==null&&!dn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,Kr(s,i,p)):(st&&l&&gd(i),i.flags|=1,tn(s,i,h,p),i.child)}function uy(s,i,l,h,p){if(s===null){var y=l.type;return typeof y=="function"&&!hf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,cy(s,i,y,h,p)):(s=mc(l.type,null,h,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,(s.lanes&p)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ja,l(E,h)&&s.ref===i.ref)return Kr(s,i,p)}return i.flags|=1,s=Rs(y,h),s.ref=i.ref,s.return=i,i.child=s}function cy(s,i,l,h,p){if(s!==null){var y=s.memoizedProps;if(Ja(y,h)&&s.ref===i.ref)if(dn=!1,i.pendingProps=h=y,(s.lanes&p)!==0)(s.flags&131072)!==0&&(dn=!0);else return i.lanes=s.lanes,Kr(s,i,p)}return $d(s,i,l,h,p)}function hy(s,i,l){var h=i.pendingProps,p=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Uo,bn),bn|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Ye(Uo,bn),bn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ye(Uo,bn),bn|=h}else y!==null?(h=y.baseLanes|l,i.memoizedState=null):h=l,Ye(Uo,bn),bn|=h;return tn(s,i,p,l),i.child}function dy(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function $d(s,i,l,h,p){var y=hn(l)?wi:$t.current;return y=ko(i,y),Vo(i,p),l=Od(s,i,l,h,y,p),h=Dd(),s!==null&&!dn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,Kr(s,i,p)):(st&&h&&gd(i),i.flags|=1,tn(s,i,l,p),i.child)}function fy(s,i,l,h,p){if(hn(l)){var y=!0;Uu(i)}else y=!1;if(Vo(i,p),i.stateNode===null)sc(s,i),ty(i,l,h),Ud(i,l,h,p),h=!0;else if(s===null){var E=i.stateNode,C=i.memoizedProps;E.props=C;var D=E.context,q=l.contextType;typeof q=="object"&&q!==null?q=On(q):(q=hn(l)?wi:$t.current,q=ko(i,q));var te=l.getDerivedStateFromProps,ne=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==h||D!==q)&&ny(i,E,h,q),ws=!1;var ee=i.memoizedState;E.state=ee,Qu(i,h,E,p),D=i.memoizedState,C!==h||ee!==D||cn.current||ws?(typeof te=="function"&&(Fd(i,l,te,h),D=i.memoizedState),(C=ws||ey(i,l,C,h,ee,D,q))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=D),E.props=h,E.state=D,E.context=q,h=C):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{E=i.stateNode,Ag(s,i),C=i.memoizedProps,q=i.type===i.elementType?C:Yn(i.type,C),E.props=q,ne=i.pendingProps,ee=E.context,D=l.contextType,typeof D=="object"&&D!==null?D=On(D):(D=hn(l)?wi:$t.current,D=ko(i,D));var le=l.getDerivedStateFromProps;(te=typeof le=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==ne||ee!==D)&&ny(i,E,h,D),ws=!1,ee=i.memoizedState,E.state=ee,Qu(i,h,E,p);var pe=i.memoizedState;C!==ne||ee!==pe||cn.current||ws?(typeof le=="function"&&(Fd(i,l,le,h),pe=i.memoizedState),(q=ws||ey(i,l,q,h,ee,pe,D)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,pe,D),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,pe,D)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=pe),E.props=h,E.state=pe,E.context=D,h=q):(typeof E.componentDidUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(i.flags|=1024),h=!1)}return qd(s,i,l,h,y,p)}function qd(s,i,l,h,p,y){dy(s,i);var E=(i.flags&128)!==0;if(!h&&!E)return p&&vg(i,l,!1),Kr(s,i,y);h=i.stateNode,XI.current=i;var C=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,s!==null&&E?(i.child=Do(i,s.child,null,y),i.child=Do(i,null,C,y)):tn(s,i,C,y),i.memoizedState=h.state,p&&vg(i,l,!0),i.child}function py(s){var i=s.stateNode;i.pendingContext?gg(s,i.pendingContext,i.pendingContext!==i.context):i.context&&gg(s,i.context,!1),Rd(s,i.containerInfo)}function my(s,i,l,h,p){return Oo(),wd(p),i.flags|=256,tn(s,i,l,h),i.child}var Hd={dehydrated:null,treeContext:null,retryLane:0};function Wd(s){return{baseLanes:s,cachePool:null,transitions:null}}function gy(s,i,l){var h=i.pendingProps,p=at.current,y=!1,E=(i.flags&128)!==0,C;if((C=E)||(C=s!==null&&s.memoizedState===null?!1:(p&2)!==0),C?(y=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Ye(at,p&1),s===null)return _d(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=h.children,s=h.fallback,y?(h=i.mode,y=i.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=gc(E,h,0,null),s=ki(s,h,l,null),y.return=i,s.return=i,y.sibling=s,i.child=y,i.child.memoizedState=Wd(l),i.memoizedState=Hd,s):Kd(i,E));if(p=s.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return YI(s,i,E,h,C,p,l);if(y){y=h.fallback,E=i.mode,p=s.child,C=p.sibling;var D={mode:"hidden",children:h.children};return(E&1)===0&&i.child!==p?(h=i.child,h.childLanes=0,h.pendingProps=D,i.deletions=null):(h=Rs(p,D),h.subtreeFlags=p.subtreeFlags&14680064),C!==null?y=Rs(C,y):(y=ki(y,E,l,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,E=s.child.memoizedState,E=E===null?Wd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=s.childLanes&~l,i.memoizedState=Hd,h}return y=s.child,s=y.sibling,h=Rs(y,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=h,i.memoizedState=null,h}function Kd(s,i){return i=gc({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function rc(s,i,l,h){return h!==null&&wd(h),Do(i,s.child,null,l),s=Kd(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function YI(s,i,l,h,p,y,E){if(l)return i.flags&256?(i.flags&=-257,h=zd(Error(t(422))),rc(s,i,E,h)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(y=h.fallback,p=i.mode,h=gc({mode:"visible",children:h.children},p,0,null),y=ki(y,p,E,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,(i.mode&1)!==0&&Do(i,s.child,null,E),i.child.memoizedState=Wd(E),i.memoizedState=Hd,y);if((i.mode&1)===0)return rc(s,i,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var C=h.dgst;return h=C,y=Error(t(419)),h=zd(y,h,void 0),rc(s,i,E,h)}if(C=(E&s.childLanes)!==0,dn||C){if(h=Dt,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Hr(s,p),tr(h,s,p,-1))}return cf(),h=zd(Error(t(421))),rc(s,i,E,h)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=hx.bind(null,s),p._reactRetry=i,null):(s=y.treeContext,Sn=gs(p.nextSibling),xn=i,st=!0,Xn=null,s!==null&&(Pn[Nn++]=$r,Pn[Nn++]=qr,Pn[Nn++]=Ei,$r=s.id,qr=s.overflow,Ei=i),i=Kd(i,h.children),i.flags|=4096,i)}function yy(s,i,l){s.lanes|=i;var h=s.alternate;h!==null&&(h.lanes|=i),xd(s.return,i,l)}function Gd(s,i,l,h,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function vy(s,i,l){var h=i.pendingProps,p=h.revealOrder,y=h.tail;if(tn(s,i,h.children,l),h=at.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yy(s,l,i);else if(s.tag===19)yy(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Ye(at,h),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&Ju(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Gd(i,!1,p,l,y);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&Ju(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Gd(i,!0,l,null,y);break;case"together":Gd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function sc(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Kr(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),bi|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,l=Rs(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Rs(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function ZI(s,i,l){switch(i.tag){case 3:py(i),Oo();break;case 5:Ng(i);break;case 1:hn(i.type)&&Uu(i);break;case 4:Rd(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,p=i.memoizedProps.value;Ye(Wu,h._currentValue),h._currentValue=p;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Ye(at,at.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?gy(s,i,l):(Ye(at,at.current&1),s=Kr(s,i,l),s!==null?s.sibling:null);Ye(at,at.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(s.flags&128)!==0){if(h)return vy(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ye(at,at.current),h)break;return null;case 22:case 23:return i.lanes=0,hy(s,i,l)}return Kr(s,i,l)}var _y,Qd,wy,Ey;_y=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Qd=function(){},wy=function(s,i,l,h){var p=s.memoizedProps;if(p!==h){s=i.stateNode,xi(mr.current);var y=null;switch(l){case"input":p=ri(s,p),h=ri(s,h),y=[];break;case"select":p=ae({},p,{value:void 0}),h=ae({},h,{value:void 0}),y=[];break;case"textarea":p=Sa(s,p),h=Sa(s,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Mu)}Pa(l,h);var E;l=null;for(q in p)if(!h.hasOwnProperty(q)&&p.hasOwnProperty(q)&&p[q]!=null)if(q==="style"){var C=p[q];for(E in C)C.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?y||(y=[]):(y=y||[]).push(q,null));for(q in h){var D=h[q];if(C=p?.[q],h.hasOwnProperty(q)&&D!==C&&(D!=null||C!=null))if(q==="style")if(C){for(E in C)!C.hasOwnProperty(E)||D&&D.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in D)D.hasOwnProperty(E)&&C[E]!==D[E]&&(l||(l={}),l[E]=D[E])}else l||(y||(y=[]),y.push(q,l)),l=D;else q==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,C=C?C.__html:void 0,D!=null&&C!==D&&(y=y||[]).push(q,D)):q==="children"?typeof D!="string"&&typeof D!="number"||(y=y||[]).push(q,""+D):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(D!=null&&q==="onScroll"&&et("scroll",s),y||C===D||(y=[])):(y=y||[]).push(q,D))}l&&(y=y||[]).push("style",l);var q=y;(i.updateQueue=q)&&(i.flags|=4)}},Ey=function(s,i,l,h){l!==h&&(i.flags|=4)};function hl(s,i){if(!st)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Ht(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=l,i}function ex(s,i,l){var h=i.pendingProps;switch(yd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(i),null;case 1:return hn(i.type)&&Fu(),Ht(i),null;case 3:return h=i.stateNode,Mo(),tt(cn),tt($t),kd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(qu(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Xn!==null&&(af(Xn),Xn=null))),Qd(s,i),Ht(i),null;case 5:Cd(i);var p=xi(ol.current);if(l=i.type,s!==null&&i.stateNode!=null)wy(s,i,l,h,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Ht(i),null}if(s=xi(mr.current),qu(i)){h=i.stateNode,l=i.type;var y=i.memoizedProps;switch(h[pr]=i,h[tl]=y,s=(i.mode&1)!==0,l){case"dialog":et("cancel",h),et("close",h);break;case"iframe":case"object":case"embed":et("load",h);break;case"video":case"audio":for(p=0;p<Ya.length;p++)et(Ya[p],h);break;case"source":et("error",h);break;case"img":case"image":case"link":et("error",h),et("load",h);break;case"details":et("toggle",h);break;case"input":Xi(h,y),et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},et("invalid",h);break;case"textarea":Zi(h,y),et("invalid",h)}Pa(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var C=y[E];E==="children"?typeof C=="string"?h.textContent!==C&&(y.suppressHydrationWarning!==!0&&Vu(h.textContent,C,s),p=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&Vu(h.textContent,C,s),p=["children",""+C]):o.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&et("scroll",h)}switch(l){case"input":_n(h),lu(h,y,!0);break;case"textarea":_n(h),ba(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Mu)}h=p,i.updateQueue=h,h!==null&&(i.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=It(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=E.createElement(l,{is:h.is}):(s=E.createElement(l),l==="select"&&(E=s,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):s=E.createElementNS(s,l),s[pr]=i,s[tl]=h,_y(s,i,!1,!1),i.stateNode=s;e:{switch(E=Na(l,h),l){case"dialog":et("cancel",s),et("close",s),p=h;break;case"iframe":case"object":case"embed":et("load",s),p=h;break;case"video":case"audio":for(p=0;p<Ya.length;p++)et(Ya[p],s);p=h;break;case"source":et("error",s),p=h;break;case"img":case"image":case"link":et("error",s),et("load",s),p=h;break;case"details":et("toggle",s),p=h;break;case"input":Xi(s,h),p=ri(s,h),et("invalid",s);break;case"option":p=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},p=ae({},h,{value:void 0}),et("invalid",s);break;case"textarea":Zi(s,h),p=Sa(s,h),et("invalid",s);break;default:p=h}Pa(l,p),C=p;for(y in C)if(C.hasOwnProperty(y)){var D=C[y];y==="style"?Aa(s,D):y==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Ra(s,D)):y==="children"?typeof D=="string"?(l!=="textarea"||D!=="")&&is(s,D):typeof D=="number"&&is(s,""+D):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?D!=null&&y==="onScroll"&&et("scroll",s):D!=null&&J(s,y,D,E))}switch(l){case"input":_n(s),lu(s,h,!1);break;case"textarea":_n(s),ba(s);break;case"option":h.value!=null&&s.setAttribute("value",""+ze(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?Or(s,!!h.multiple,y,!1):h.defaultValue!=null&&Or(s,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Mu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ht(i),null;case 6:if(s&&i.stateNode!=null)Ey(s,i,s.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(l=xi(ol.current),xi(mr.current),qu(i)){if(h=i.stateNode,l=i.memoizedProps,h[pr]=i,(y=h.nodeValue!==l)&&(s=xn,s!==null))switch(s.tag){case 3:Vu(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Vu(h.nodeValue,l,(s.mode&1)!==0)}y&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[pr]=i,i.stateNode=h}return Ht(i),null;case 13:if(tt(at),h=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(st&&Sn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)xg(),Oo(),i.flags|=98560,y=!1;else if(y=qu(i),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[pr]=i}else Oo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ht(i),y=!1}else Xn!==null&&(af(Xn),Xn=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(at.current&1)!==0?Rt===0&&(Rt=3):cf())),i.updateQueue!==null&&(i.flags|=4),Ht(i),null);case 4:return Mo(),Qd(s,i),s===null&&Za(i.stateNode.containerInfo),Ht(i),null;case 10:return Id(i.type._context),Ht(i),null;case 17:return hn(i.type)&&Fu(),Ht(i),null;case 19:if(tt(at),y=i.memoizedState,y===null)return Ht(i),null;if(h=(i.flags&128)!==0,E=y.rendering,E===null)if(h)hl(y,!1);else{if(Rt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(E=Ju(s),E!==null){for(i.flags|=128,hl(y,!1),h=E.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)y=l,s=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,s=E.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Ye(at,at.current&1|2),i.child}s=s.sibling}y.tail!==null&&Xe()>zo&&(i.flags|=128,h=!0,hl(y,!1),i.lanes=4194304)}else{if(!h)if(s=Ju(E),s!==null){if(i.flags|=128,h=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),hl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!st)return Ht(i),null}else 2*Xe()-y.renderingStartTime>zo&&l!==1073741824&&(i.flags|=128,h=!0,hl(y,!1),i.lanes=4194304);y.isBackwards?(E.sibling=i.child,i.child=E):(l=y.last,l!==null?l.sibling=E:i.child=E,y.last=E)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Xe(),i.sibling=null,l=at.current,Ye(at,h?l&1|2:l&1),i):(Ht(i),null);case 22:case 23:return uf(),h=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(bn&1073741824)!==0&&(Ht(i),i.subtreeFlags&6&&(i.flags|=8192)):Ht(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function tx(s,i){switch(yd(i),i.tag){case 1:return hn(i.type)&&Fu(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Mo(),tt(cn),tt($t),kd(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Cd(i),null;case 13:if(tt(at),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Oo()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return tt(at),null;case 4:return Mo(),null;case 10:return Id(i.type._context),null;case 22:case 23:return uf(),null;case 24:return null;default:return null}}var ic=!1,Wt=!1,nx=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Fo(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ht(s,i,h)}else l.current=null}function Jd(s,i,l){try{l()}catch(h){ht(s,i,h)}}var Ty=!1;function rx(s,i){if(ld=fs,s=eg(),ed(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,C=-1,D=-1,q=0,te=0,ne=s,ee=null;t:for(;;){for(var le;ne!==l||p!==0&&ne.nodeType!==3||(C=E+p),ne!==y||h!==0&&ne.nodeType!==3||(D=E+h),ne.nodeType===3&&(E+=ne.nodeValue.length),(le=ne.firstChild)!==null;)ee=ne,ne=le;for(;;){if(ne===s)break t;if(ee===l&&++q===p&&(C=E),ee===y&&++te===h&&(D=E),(le=ne.nextSibling)!==null)break;ne=ee,ee=ne.parentNode}ne=le}l=C===-1||D===-1?null:{start:C,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(ud={focusedElem:s,selectionRange:l},fs=!1,fe=i;fe!==null;)if(i=fe,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,fe=s;else for(;fe!==null;){i=fe;try{var pe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ye=pe.memoizedProps,ft=pe.memoizedState,B=i.stateNode,M=B.getSnapshotBeforeUpdate(i.elementType===i.type?ye:Yn(i.type,ye),ft);B.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var $=i.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ht(i,i.return,se)}if(s=i.sibling,s!==null){s.return=i.return,fe=s;break}fe=i.return}return pe=Ty,Ty=!1,pe}function dl(s,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&s)===s){var y=p.destroy;p.destroy=void 0,y!==void 0&&Jd(i,l,y)}p=p.next}while(p!==h)}}function oc(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function Xd(s){var i=s.ref;if(i!==null){var l=s.stateNode;s.tag,s=l,typeof i=="function"?i(s):i.current=s}}function Iy(s){var i=s.alternate;i!==null&&(s.alternate=null,Iy(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[pr],delete i[tl],delete i[fd],delete i[FI],delete i[UI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function xy(s){return s.tag===5||s.tag===3||s.tag===4}function Sy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||xy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yd(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Mu));else if(h!==4&&(s=s.child,s!==null))for(Yd(s,i,l),s=s.sibling;s!==null;)Yd(s,i,l),s=s.sibling}function Zd(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Zd(s,i,l),s=s.sibling;s!==null;)Zd(s,i,l),s=s.sibling}var Ft=null,Zn=!1;function Ts(s,i,l){for(l=l.child;l!==null;)by(s,i,l),l=l.sibling}function by(s,i,l){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(di,l)}catch{}switch(l.tag){case 5:Wt||Fo(l,i);case 6:var h=Ft,p=Zn;Ft=null,Ts(s,i,l),Ft=h,Zn=p,Ft!==null&&(Zn?(s=Ft,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Ft.removeChild(l.stateNode));break;case 18:Ft!==null&&(Zn?(s=Ft,l=l.stateNode,s.nodeType===8?dd(s.parentNode,l):s.nodeType===1&&dd(s,l),Gn(s)):dd(Ft,l.stateNode));break;case 4:h=Ft,p=Zn,Ft=l.stateNode.containerInfo,Zn=!0,Ts(s,i,l),Ft=h,Zn=p;break;case 0:case 11:case 14:case 15:if(!Wt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Jd(l,i,E),p=p.next}while(p!==h)}Ts(s,i,l);break;case 1:if(!Wt&&(Fo(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(C){ht(l,i,C)}Ts(s,i,l);break;case 21:Ts(s,i,l);break;case 22:l.mode&1?(Wt=(h=Wt)||l.memoizedState!==null,Ts(s,i,l),Wt=h):Ts(s,i,l);break;default:Ts(s,i,l)}}function Ry(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new nx),i.forEach(function(h){var p=dx.bind(null,s,h);l.has(h)||(l.add(h),h.then(p,p))})}}function er(s,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=s,E=i,C=E;e:for(;C!==null;){switch(C.tag){case 5:Ft=C.stateNode,Zn=!1;break e;case 3:Ft=C.stateNode.containerInfo,Zn=!0;break e;case 4:Ft=C.stateNode.containerInfo,Zn=!0;break e}C=C.return}if(Ft===null)throw Error(t(160));by(y,E,p),Ft=null,Zn=!1;var D=p.alternate;D!==null&&(D.return=null),p.return=null}catch(q){ht(p,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Cy(i,s),i=i.sibling}function Cy(s,i){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(er(i,s),yr(s),h&4){try{dl(3,s,s.return),oc(3,s)}catch(ye){ht(s,s.return,ye)}try{dl(5,s,s.return)}catch(ye){ht(s,s.return,ye)}}break;case 1:er(i,s),yr(s),h&512&&l!==null&&Fo(l,l.return);break;case 5:if(er(i,s),yr(s),h&512&&l!==null&&Fo(l,l.return),s.flags&32){var p=s.stateNode;try{is(p,"")}catch(ye){ht(s,s.return,ye)}}if(h&4&&(p=s.stateNode,p!=null)){var y=s.memoizedProps,E=l!==null?l.memoizedProps:y,C=s.type,D=s.updateQueue;if(s.updateQueue=null,D!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&Ia(p,y),Na(C,E);var q=Na(C,y);for(E=0;E<D.length;E+=2){var te=D[E],ne=D[E+1];te==="style"?Aa(p,ne):te==="dangerouslySetInnerHTML"?Ra(p,ne):te==="children"?is(p,ne):J(p,te,ne,q)}switch(C){case"input":xa(p,y);break;case"textarea":eo(p,y);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var le=y.value;le!=null?Or(p,!!y.multiple,le,!1):ee!==!!y.multiple&&(y.defaultValue!=null?Or(p,!!y.multiple,y.defaultValue,!0):Or(p,!!y.multiple,y.multiple?[]:"",!1))}p[tl]=y}catch(ye){ht(s,s.return,ye)}}break;case 6:if(er(i,s),yr(s),h&4){if(s.stateNode===null)throw Error(t(162));p=s.stateNode,y=s.memoizedProps;try{p.nodeValue=y}catch(ye){ht(s,s.return,ye)}}break;case 3:if(er(i,s),yr(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Gn(i.containerInfo)}catch(ye){ht(s,s.return,ye)}break;case 4:er(i,s),yr(s);break;case 13:er(i,s),yr(s),p=s.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(nf=Xe())),h&4&&Ry(s);break;case 22:if(te=l!==null&&l.memoizedState!==null,s.mode&1?(Wt=(q=Wt)||te,er(i,s),Wt=q):er(i,s),yr(s),h&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!te&&(s.mode&1)!==0)for(fe=s,te=s.child;te!==null;){for(ne=fe=te;fe!==null;){switch(ee=fe,le=ee.child,ee.tag){case 0:case 11:case 14:case 15:dl(4,ee,ee.return);break;case 1:Fo(ee,ee.return);var pe=ee.stateNode;if(typeof pe.componentWillUnmount=="function"){h=ee,l=ee.return;try{i=h,pe.props=i.memoizedProps,pe.state=i.memoizedState,pe.componentWillUnmount()}catch(ye){ht(h,l,ye)}}break;case 5:Fo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Py(ne);continue}}le!==null?(le.return=ee,fe=le):Py(ne)}te=te.sibling}e:for(te=null,ne=s;;){if(ne.tag===5){if(te===null){te=ne;try{p=ne.stateNode,q?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=ne.stateNode,D=ne.memoizedProps.style,E=D!=null&&D.hasOwnProperty("display")?D.display:null,C.style.display=Ca("display",E))}catch(ye){ht(s,s.return,ye)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=q?"":ne.memoizedProps}catch(ye){ht(s,s.return,ye)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===s)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===s)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===s)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:er(i,s),yr(s),h&4&&Ry(s);break;case 21:break;default:er(i,s),yr(s)}}function yr(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(xy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(is(p,""),h.flags&=-33);var y=Sy(s);Zd(s,y,p);break;case 3:case 4:var E=h.stateNode.containerInfo,C=Sy(s);Yd(s,C,E);break;default:throw Error(t(161))}}catch(D){ht(s,s.return,D)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function sx(s,i,l){fe=s,Ay(s)}function Ay(s,i,l){for(var h=(s.mode&1)!==0;fe!==null;){var p=fe,y=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||ic;if(!E){var C=p.alternate,D=C!==null&&C.memoizedState!==null||Wt;C=ic;var q=Wt;if(ic=E,(Wt=D)&&!q)for(fe=p;fe!==null;)E=fe,D=E.child,E.tag===22&&E.memoizedState!==null?Ny(p):D!==null?(D.return=E,fe=D):Ny(p);for(;y!==null;)fe=y,Ay(y),y=y.sibling;fe=p,ic=C,Wt=q}ky(s)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,fe=y):ky(s)}}function ky(s){for(;fe!==null;){var i=fe;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Wt||oc(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Wt)if(l===null)h.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:Yn(i.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Pg(i,y,h);break;case 3:var E=i.updateQueue;if(E!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Pg(i,E,l)}break;case 5:var C=i.stateNode;if(l===null&&i.flags&4){l=C;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&l.focus();break;case"img":D.src&&(l.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var te=q.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&Gn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||i.flags&512&&Xd(i)}catch(ee){ht(i,i.return,ee)}}if(i===s){fe=null;break}if(l=i.sibling,l!==null){l.return=i.return,fe=l;break}fe=i.return}}function Py(s){for(;fe!==null;){var i=fe;if(i===s){fe=null;break}var l=i.sibling;if(l!==null){l.return=i.return,fe=l;break}fe=i.return}}function Ny(s){for(;fe!==null;){var i=fe;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{oc(4,i)}catch(D){ht(i,l,D)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var p=i.return;try{h.componentDidMount()}catch(D){ht(i,p,D)}}var y=i.return;try{Xd(i)}catch(D){ht(i,y,D)}break;case 5:var E=i.return;try{Xd(i)}catch(D){ht(i,E,D)}}}catch(D){ht(i,i.return,D)}if(i===s){fe=null;break}var C=i.sibling;if(C!==null){C.return=i.return,fe=C;break}fe=i.return}}var ix=Math.ceil,ac=Y.ReactCurrentDispatcher,ef=Y.ReactCurrentOwner,Ln=Y.ReactCurrentBatchConfig,He=0,Dt=null,_t=null,Ut=0,bn=0,Uo=ys(0),Rt=0,fl=null,bi=0,lc=0,tf=0,pl=null,fn=null,nf=0,zo=1/0,Gr=null,uc=!1,rf=null,Is=null,cc=!1,xs=null,hc=0,ml=0,sf=null,dc=-1,fc=0;function nn(){return(He&6)!==0?Xe():dc!==-1?dc:dc=Xe()}function Ss(s){return(s.mode&1)===0?1:(He&2)!==0&&Ut!==0?Ut&-Ut:BI.transition!==null?(fc===0&&(fc=pi()),fc):(s=Ue,s!==0||(s=window.event,s=s===void 0?16:$a(s.type)),s)}function tr(s,i,l,h){if(50<ml)throw ml=0,sf=null,Error(t(185));us(s,l,h),((He&2)===0||s!==Dt)&&(s===Dt&&((He&2)===0&&(lc|=l),Rt===4&&bs(s,Ut)),pn(s,h),l===1&&He===0&&(i.mode&1)===0&&(zo=Xe()+500,zu&&_s()))}function pn(s,i){var l=s.callbackNode;Vr(s,i);var h=fi(s,s===Dt?Ut:0);if(h===0)l!==null&&ja(l),s.callbackNode=null,s.callbackPriority=0;else if(i=h&-h,s.callbackPriority!==i){if(l!=null&&ja(l),i===1)s.tag===0?zI(Dy.bind(null,s)):_g(Dy.bind(null,s)),MI(function(){(He&6)===0&&_s()}),l=null;else{switch(hs(h)){case 1:l=hi;break;case 4:l=os;break;case 16:l=Cn;break;case 536870912:l=fu;break;default:l=Cn}l=By(l,Oy.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function Oy(s,i){if(dc=-1,fc=0,(He&6)!==0)throw Error(t(327));var l=s.callbackNode;if(Bo()&&s.callbackNode!==l)return null;var h=fi(s,s===Dt?Ut:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||i)i=pc(s,h);else{i=h;var p=He;He|=2;var y=Vy();(Dt!==s||Ut!==i)&&(Gr=null,zo=Xe()+500,Ci(s,i));do try{lx();break}catch(C){Ly(s,C)}while(!0);Td(),ac.current=y,He=p,_t!==null?i=0:(Dt=null,Ut=0,i=Rt)}if(i!==0){if(i===2&&(p=En(s),p!==0&&(h=p,i=of(s,p))),i===1)throw l=fl,Ci(s,0),bs(s,h),pn(s,Xe()),l;if(i===6)bs(s,h);else{if(p=s.current.alternate,(h&30)===0&&!ox(p)&&(i=pc(s,h),i===2&&(y=En(s),y!==0&&(h=y,i=of(s,y))),i===1))throw l=fl,Ci(s,0),bs(s,h),pn(s,Xe()),l;switch(s.finishedWork=p,s.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:Ai(s,fn,Gr);break;case 3:if(bs(s,h),(h&130023424)===h&&(i=nf+500-Xe(),10<i)){if(fi(s,0)!==0)break;if(p=s.suspendedLanes,(p&h)!==h){nn(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=hd(Ai.bind(null,s,fn,Gr),i);break}Ai(s,fn,Gr);break;case 4:if(bs(s,h),(h&4194240)===h)break;for(i=s.eventTimes,p=-1;0<h;){var E=31-Zt(h);y=1<<E,E=i[E],E>p&&(p=E),h&=~y}if(h=p,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*ix(h/1960))-h,10<h){s.timeoutHandle=hd(Ai.bind(null,s,fn,Gr),h);break}Ai(s,fn,Gr);break;case 5:Ai(s,fn,Gr);break;default:throw Error(t(329))}}}return pn(s,Xe()),s.callbackNode===l?Oy.bind(null,s):null}function of(s,i){var l=pl;return s.current.memoizedState.isDehydrated&&(Ci(s,i).flags|=256),s=pc(s,i),s!==2&&(i=fn,fn=l,i!==null&&af(i)),s}function af(s){fn===null?fn=s:fn.push.apply(fn,s)}function ox(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Jn(y(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function bs(s,i){for(i&=~tf,i&=~lc,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-Zt(i),h=1<<l;s[l]=-1,i&=~h}}function Dy(s){if((He&6)!==0)throw Error(t(327));Bo();var i=fi(s,0);if((i&1)===0)return pn(s,Xe()),null;var l=pc(s,i);if(s.tag!==0&&l===2){var h=En(s);h!==0&&(i=h,l=of(s,h))}if(l===1)throw l=fl,Ci(s,0),bs(s,i),pn(s,Xe()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Ai(s,fn,Gr),pn(s,Xe()),null}function lf(s,i){var l=He;He|=1;try{return s(i)}finally{He=l,He===0&&(zo=Xe()+500,zu&&_s())}}function Ri(s){xs!==null&&xs.tag===0&&(He&6)===0&&Bo();var i=He;He|=1;var l=Ln.transition,h=Ue;try{if(Ln.transition=null,Ue=1,s)return s()}finally{Ue=h,Ln.transition=l,He=i,(He&6)===0&&_s()}}function uf(){bn=Uo.current,tt(Uo)}function Ci(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,VI(l)),_t!==null)for(l=_t.return;l!==null;){var h=l;switch(yd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Fu();break;case 3:Mo(),tt(cn),tt($t),kd();break;case 5:Cd(h);break;case 4:Mo();break;case 13:tt(at);break;case 19:tt(at);break;case 10:Id(h.type._context);break;case 22:case 23:uf()}l=l.return}if(Dt=s,_t=s=Rs(s.current,null),Ut=bn=i,Rt=0,fl=null,tf=lc=bi=0,fn=pl=null,Ii!==null){for(i=0;i<Ii.length;i++)if(l=Ii[i],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,h.next=E}l.pending=h}Ii=null}return s}function Ly(s,i){do{var l=_t;try{if(Td(),Xu.current=tc,Yu){for(var h=lt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Yu=!1}if(Si=0,Ot=bt=lt=null,al=!1,ll=0,ef.current=null,l===null||l.return===null){Rt=1,fl=i,_t=null;break}e:{var y=s,E=l.return,C=l,D=i;if(i=Ut,C.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var q=D,te=C,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var le=oy(E);if(le!==null){le.flags&=-257,ay(le,E,C,y,i),le.mode&1&&iy(y,q,i),i=le,D=q;var pe=i.updateQueue;if(pe===null){var ye=new Set;ye.add(D),i.updateQueue=ye}else pe.add(D);break e}else{if((i&1)===0){iy(y,q,i),cf();break e}D=Error(t(426))}}else if(st&&C.mode&1){var ft=oy(E);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),ay(ft,E,C,y,i),wd(jo(D,C));break e}}y=D=jo(D,C),Rt!==4&&(Rt=2),pl===null?pl=[y]:pl.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var B=ry(y,D,i);kg(y,B);break e;case 1:C=D;var M=y.type,$=y.stateNode;if((y.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Is===null||!Is.has($)))){y.flags|=65536,i&=-i,y.lanes|=i;var se=sy(y,C,i);kg(y,se);break e}}y=y.return}while(y!==null)}jy(l)}catch(ve){i=ve,_t===l&&l!==null&&(_t=l=l.return);continue}break}while(!0)}function Vy(){var s=ac.current;return ac.current=tc,s===null?tc:s}function cf(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Dt===null||(bi&268435455)===0&&(lc&268435455)===0||bs(Dt,Ut)}function pc(s,i){var l=He;He|=2;var h=Vy();(Dt!==s||Ut!==i)&&(Gr=null,Ci(s,i));do try{ax();break}catch(p){Ly(s,p)}while(!0);if(Td(),He=l,ac.current=h,_t!==null)throw Error(t(261));return Dt=null,Ut=0,Rt}function ax(){for(;_t!==null;)My(_t)}function lx(){for(;_t!==null&&!hu();)My(_t)}function My(s){var i=zy(s.alternate,s,bn);s.memoizedProps=s.pendingProps,i===null?jy(s):_t=i,ef.current=null}function jy(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=ex(l,i,bn),l!==null){_t=l;return}}else{if(l=tx(l,i),l!==null){l.flags&=32767,_t=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Rt=6,_t=null;return}}if(i=i.sibling,i!==null){_t=i;return}_t=i=s}while(i!==null);Rt===0&&(Rt=5)}function Ai(s,i,l){var h=Ue,p=Ln.transition;try{Ln.transition=null,Ue=1,ux(s,i,l,h)}finally{Ln.transition=p,Ue=h}return null}function ux(s,i,l,h){do Bo();while(xs!==null);if((He&6)!==0)throw Error(t(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(Je(s,y),s===Dt&&(_t=Dt=null,Ut=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||cc||(cc=!0,By(Cn,function(){return Bo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Ln.transition,Ln.transition=null;var E=Ue;Ue=1;var C=He;He|=4,ef.current=null,rx(s,l),Cy(l,s),AI(ud),fs=!!ld,ud=ld=null,s.current=l,sx(l),Wh(),He=C,Ue=E,Ln.transition=y}else s.current=l;if(cc&&(cc=!1,xs=s,hc=p),y=s.pendingLanes,y===0&&(Is=null),pu(l.stateNode),pn(s,Xe()),i!==null)for(h=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(uc)throw uc=!1,s=rf,rf=null,s;return(hc&1)!==0&&s.tag!==0&&Bo(),y=s.pendingLanes,(y&1)!==0?s===sf?ml++:(ml=0,sf=s):ml=0,_s(),null}function Bo(){if(xs!==null){var s=hs(hc),i=Ln.transition,l=Ue;try{if(Ln.transition=null,Ue=16>s?16:s,xs===null)var h=!1;else{if(s=xs,xs=null,hc=0,(He&6)!==0)throw Error(t(331));var p=He;for(He|=4,fe=s.current;fe!==null;){var y=fe,E=y.child;if((fe.flags&16)!==0){var C=y.deletions;if(C!==null){for(var D=0;D<C.length;D++){var q=C[D];for(fe=q;fe!==null;){var te=fe;switch(te.tag){case 0:case 11:case 15:dl(8,te,y)}var ne=te.child;if(ne!==null)ne.return=te,fe=ne;else for(;fe!==null;){te=fe;var ee=te.sibling,le=te.return;if(Iy(te),te===q){fe=null;break}if(ee!==null){ee.return=le,fe=ee;break}fe=le}}}var pe=y.alternate;if(pe!==null){var ye=pe.child;if(ye!==null){pe.child=null;do{var ft=ye.sibling;ye.sibling=null,ye=ft}while(ye!==null)}}fe=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,fe=E;else e:for(;fe!==null;){if(y=fe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:dl(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,fe=B;break e}fe=y.return}}var M=s.current;for(fe=M;fe!==null;){E=fe;var $=E.child;if((E.subtreeFlags&2064)!==0&&$!==null)$.return=E,fe=$;else e:for(E=M;fe!==null;){if(C=fe,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:oc(9,C)}}catch(ve){ht(C,C.return,ve)}if(C===E){fe=null;break e}var se=C.sibling;if(se!==null){se.return=C.return,fe=se;break e}fe=C.return}}if(He=p,_s(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(di,s)}catch{}h=!0}return h}finally{Ue=l,Ln.transition=i}}return!1}function Fy(s,i,l){i=jo(l,i),i=ry(s,i,1),s=Es(s,i,1),i=nn(),s!==null&&(us(s,1,i),pn(s,i))}function ht(s,i,l){if(s.tag===3)Fy(s,s,l);else for(;i!==null;){if(i.tag===3){Fy(i,s,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Is===null||!Is.has(h))){s=jo(l,s),s=sy(i,s,1),i=Es(i,s,1),s=nn(),i!==null&&(us(i,1,s),pn(i,s));break}}i=i.return}}function cx(s,i,l){var h=s.pingCache;h!==null&&h.delete(i),i=nn(),s.pingedLanes|=s.suspendedLanes&l,Dt===s&&(Ut&l)===l&&(Rt===4||Rt===3&&(Ut&130023424)===Ut&&500>Xe()-nf?Ci(s,0):tf|=l),pn(s,i)}function Uy(s,i){i===0&&((s.mode&1)===0?i=1:(i=co,co<<=1,(co&130023424)===0&&(co=4194304)));var l=nn();s=Hr(s,i),s!==null&&(us(s,i,l),pn(s,l))}function hx(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),Uy(s,l)}function dx(s,i){var l=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),Uy(s,l)}var zy;zy=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||cn.current)dn=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return dn=!1,ZI(s,i,l);dn=(s.flags&131072)!==0}else dn=!1,st&&(i.flags&1048576)!==0&&wg(i,$u,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;sc(s,i),s=i.pendingProps;var p=ko(i,$t.current);Vo(i,l),p=Od(null,i,h,s,p,l);var y=Dd();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,hn(h)?(y=!0,Uu(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,bd(i),p.updater=nc,i.stateNode=p,p._reactInternals=i,Ud(i,h,s,l),i=qd(null,i,h,!0,y,l)):(i.tag=0,st&&y&&gd(i),tn(null,i,p,l),i=i.child),i;case 16:h=i.elementType;e:{switch(sc(s,i),s=i.pendingProps,p=h._init,h=p(h._payload),i.type=h,p=i.tag=px(h),s=Yn(h,s),p){case 0:i=$d(null,i,h,s,l);break e;case 1:i=fy(null,i,h,s,l);break e;case 11:i=ly(null,i,h,s,l);break e;case 14:i=uy(null,i,h,Yn(h.type,s),l);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Yn(h,p),$d(s,i,h,p,l);case 1:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Yn(h,p),fy(s,i,h,p,l);case 3:e:{if(py(i),s===null)throw Error(t(387));h=i.pendingProps,y=i.memoizedState,p=y.element,Ag(s,i),Qu(i,h,null,l);var E=i.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=jo(Error(t(423)),i),i=my(s,i,h,l,p);break e}else if(h!==p){p=jo(Error(t(424)),i),i=my(s,i,h,l,p);break e}else for(Sn=gs(i.stateNode.containerInfo.firstChild),xn=i,st=!0,Xn=null,l=Rg(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Oo(),h===p){i=Kr(s,i,l);break e}tn(s,i,h,l)}i=i.child}return i;case 5:return Ng(i),s===null&&_d(i),h=i.type,p=i.pendingProps,y=s!==null?s.memoizedProps:null,E=p.children,cd(h,p)?E=null:y!==null&&cd(h,y)&&(i.flags|=32),dy(s,i),tn(s,i,E,l),i.child;case 6:return s===null&&_d(i),null;case 13:return gy(s,i,l);case 4:return Rd(i,i.stateNode.containerInfo),h=i.pendingProps,s===null?i.child=Do(i,null,h,l):tn(s,i,h,l),i.child;case 11:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Yn(h,p),ly(s,i,h,p,l);case 7:return tn(s,i,i.pendingProps,l),i.child;case 8:return tn(s,i,i.pendingProps.children,l),i.child;case 12:return tn(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,p=i.pendingProps,y=i.memoizedProps,E=p.value,Ye(Wu,h._currentValue),h._currentValue=E,y!==null)if(Jn(y.value,E)){if(y.children===p.children&&!cn.current){i=Kr(s,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var C=y.dependencies;if(C!==null){E=y.child;for(var D=C.firstContext;D!==null;){if(D.context===h){if(y.tag===1){D=Wr(-1,l&-l),D.tag=2;var q=y.updateQueue;if(q!==null){q=q.shared;var te=q.pending;te===null?D.next=D:(D.next=te.next,te.next=D),q.pending=D}}y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),xd(y.return,l,i),C.lanes|=l;break}D=D.next}}else if(y.tag===10)E=y.type===i.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,C=E.alternate,C!==null&&(C.lanes|=l),xd(E,l,i),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===i){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}tn(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,h=i.pendingProps.children,Vo(i,l),p=On(p),h=h(p),i.flags|=1,tn(s,i,h,l),i.child;case 14:return h=i.type,p=Yn(h,i.pendingProps),p=Yn(h.type,p),uy(s,i,h,p,l);case 15:return cy(s,i,i.type,i.pendingProps,l);case 17:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Yn(h,p),sc(s,i),i.tag=1,hn(h)?(s=!0,Uu(i)):s=!1,Vo(i,l),ty(i,h,p),Ud(i,h,p,l),qd(null,i,h,!0,s,l);case 19:return vy(s,i,l);case 22:return hy(s,i,l)}throw Error(t(156,i.tag))};function By(s,i){return lo(s,i)}function fx(s,i,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(s,i,l,h){return new fx(s,i,l,h)}function hf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function px(s){if(typeof s=="function")return hf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===xe)return 14}return 2}function Rs(s,i){var l=s.alternate;return l===null?(l=Vn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function mc(s,i,l,h,p,y){var E=2;if(h=s,typeof s=="function")hf(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case P:return ki(l.children,p,y,i);case S:E=8,p|=8;break;case R:return s=Vn(12,l,i,p|2),s.elementType=R,s.lanes=y,s;case A:return s=Vn(13,l,i,p),s.elementType=A,s.lanes=y,s;case Fe:return s=Vn(19,l,i,p),s.elementType=Fe,s.lanes=y,s;case Oe:return gc(l,p,y,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:E=10;break e;case L:E=9;break e;case U:E=11;break e;case xe:E=14;break e;case Pe:E=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=Vn(E,l,i,p),i.elementType=s,i.type=h,i.lanes=y,i}function ki(s,i,l,h){return s=Vn(7,s,h,i),s.lanes=l,s}function gc(s,i,l,h){return s=Vn(22,s,h,i),s.elementType=Oe,s.lanes=l,s.stateNode={isHidden:!1},s}function df(s,i,l){return s=Vn(6,s,null,i),s.lanes=l,s}function ff(s,i,l){return i=Vn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function mx(s,i,l,h,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ls(0),this.expirationTimes=ls(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ls(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function pf(s,i,l,h,p,y,E,C,D){return s=new mx(s,i,l,C,D),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Vn(3,null,null,i),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},bd(y),s}function gx(s,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:h==null?null:""+h,children:s,containerInfo:i,implementation:l}}function $y(s){if(!s)return vs;s=s._reactInternals;e:{if($n(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(hn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(hn(l))return yg(s,l,i)}return i}function qy(s,i,l,h,p,y,E,C,D){return s=pf(l,h,!0,s,p,y,E,C,D),s.context=$y(null),l=s.current,h=nn(),p=Ss(l),y=Wr(h,p),y.callback=i??null,Es(l,y,p),s.current.lanes=p,us(s,p,h),pn(s,h),s}function yc(s,i,l,h){var p=i.current,y=nn(),E=Ss(p);return l=$y(l),i.context===null?i.context=l:i.pendingContext=l,i=Wr(y,E),i.payload={element:s},h=h===void 0?null:h,h!==null&&(i.callback=h),s=Es(p,i,E),s!==null&&(tr(s,p,E,y),Gu(s,p,E)),E}function vc(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function Hy(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function mf(s,i){Hy(s,i),(s=s.alternate)&&Hy(s,i)}function yx(){return null}var Wy=typeof reportError=="function"?reportError:function(s){console.error(s)};function gf(s){this._internalRoot=s}_c.prototype.render=gf.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));yc(s,i,null,null)},_c.prototype.unmount=gf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Ri(function(){yc(null,s,null,null)}),i[zr]=null}};function _c(s){this._internalRoot=s}_c.prototype.unstable_scheduleHydration=function(s){if(s){var i=_u();s={blockedOn:null,target:s,priority:i};for(var l=0;l<cr.length&&i!==0&&i<cr[l].priority;l++);cr.splice(l,0,s),l===0&&Tu(s)}};function yf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function wc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ky(){}function vx(s,i,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var q=vc(E);y.call(q)}}var E=qy(i,h,s,0,null,!1,!1,"",Ky);return s._reactRootContainer=E,s[zr]=E.current,Za(s.nodeType===8?s.parentNode:s),Ri(),E}for(;p=s.lastChild;)s.removeChild(p);if(typeof h=="function"){var C=h;h=function(){var q=vc(D);C.call(q)}}var D=pf(s,0,!1,null,null,!1,!1,"",Ky);return s._reactRootContainer=D,s[zr]=D.current,Za(s.nodeType===8?s.parentNode:s),Ri(function(){yc(i,D,l,h)}),D}function Ec(s,i,l,h,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var C=p;p=function(){var D=vc(E);C.call(D)}}yc(i,E,s,p)}else E=vx(l,i,s,p,h);return vc(E)}yu=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=as(i.pendingLanes);l!==0&&(cs(i,l|1),pn(i,Xe()),(He&6)===0&&(zo=Xe()+500,_s()))}break;case 13:Ri(function(){var h=Hr(s,1);if(h!==null){var p=nn();tr(h,s,1,p)}}),mf(s,1)}},ho=function(s){if(s.tag===13){var i=Hr(s,134217728);if(i!==null){var l=nn();tr(i,s,134217728,l)}mf(s,134217728)}},vu=function(s){if(s.tag===13){var i=Ss(s),l=Hr(s,i);if(l!==null){var h=nn();tr(l,s,i,h)}mf(s,i)}},_u=function(){return Ue},wu=function(s,i){var l=Ue;try{return Ue=s,i()}finally{Ue=l}},no=function(s,i,l){switch(i){case"input":if(xa(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==s&&h.form===s.form){var p=ju(h);if(!p)throw Error(t(90));Un(h),xa(h,p)}}}break;case"textarea":eo(s,l);break;case"select":i=l.value,i!=null&&Or(s,!!l.multiple,i,!1)}},ai=lf,Da=Ri;var _x={usingClientEntryPoint:!1,Events:[nl,Co,ju,lr,Oa,lf]},gl={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wx={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ma(s),s===null?null:s.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||yx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{di=Tc.inject(wx),wn=Tc}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_x,mn.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yf(i))throw Error(t(200));return gx(s,i,null,l)},mn.createRoot=function(s,i){if(!yf(s))throw Error(t(299));var l=!1,h="",p=Wy;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=pf(s,1,!1,null,null,l,!1,h,p),s[zr]=i.current,Za(s.nodeType===8?s.parentNode:s),new gf(i)},mn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ma(i),s=s===null?null:s.stateNode,s},mn.flushSync=function(s){return Ri(s)},mn.hydrate=function(s,i,l){if(!wc(i))throw Error(t(200));return Ec(null,s,i,!0,l)},mn.hydrateRoot=function(s,i,l){if(!yf(s))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",E=Wy;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),i=qy(i,null,s,1,l??null,p,!1,y,E),s[zr]=i.current,Za(s),h)for(s=0;s<h.length;s++)l=h[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new _c(i)},mn.render=function(s,i,l){if(!wc(i))throw Error(t(200));return Ec(null,s,i,!1,l)},mn.unmountComponentAtNode=function(s){if(!wc(s))throw Error(t(40));return s._reactRootContainer?(Ri(function(){Ec(null,null,s,!1,function(){s._reactRootContainer=null,s[zr]=null})}),!0):!1},mn.unstable_batchedUpdates=lf,mn.unstable_renderSubtreeIntoContainer=function(s,i,l,h){if(!wc(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Ec(s,i,l,!1,h)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var tv;function D0(){if(tv)return wf.exports;tv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wf.exports=kx(),wf.exports}var nv;function Px(){if(nv)return Ic;nv=1;var n=D0();return Ic.createRoot=n.createRoot,Ic.hydrateRoot=n.hydrateRoot,Ic}var Nx=Px();D0();function Nl(){return Nl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Nl.apply(this,arguments)}var Ls;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ls||(Ls={}));const rv="popstate";function Ox(n){n===void 0&&(n={});function e(r,o){let{pathname:a,search:u,hash:d}=r.location;return Bf("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Kc(o)}return Lx(e,t,null,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Lp(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dx(){return Math.random().toString(36).substr(2,8)}function sv(n,e){return{usr:n.state,key:n.key,idx:e}}function Bf(n,e,t,r){return t===void 0&&(t=null),Nl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ca(e):e,{state:t,key:e&&e.key||r||Dx()})}function Kc(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ca(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Lx(n,e,t,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,d=Ls.Pop,f=null,m=v();m==null&&(m=0,u.replaceState(Nl({},u.state,{idx:m}),""));function v(){return(u.state||{idx:null}).idx}function w(){d=Ls.Pop;let b=v(),X=b==null?null:b-m;m=b,f&&f({action:d,location:N.location,delta:X})}function I(b,X){d=Ls.Push;let Q=Bf(N.location,b,X);m=v()+1;let J=sv(Q,m),Y=N.createHref(Q);try{u.pushState(J,"",Y)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(Y)}a&&f&&f({action:d,location:N.location,delta:1})}function j(b,X){d=Ls.Replace;let Q=Bf(N.location,b,X);m=v();let J=sv(Q,m),Y=N.createHref(Q);u.replaceState(J,"",Y),a&&f&&f({action:d,location:N.location,delta:0})}function k(b){let X=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof b=="string"?b:Kc(b);return Q=Q.replace(/ $/,"%20"),ut(X,"No window.location.(origin|href) available to create URL for href: "+Q),new URL(Q,X)}let N={get action(){return d},get location(){return n(o,u)},listen(b){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(rv,w),f=b,()=>{o.removeEventListener(rv,w),f=null}},createHref(b){return e(o,b)},createURL:k,encodeLocation(b){let X=k(b);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:I,replace:j,go(b){return u.go(b)}};return N}var iv;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(iv||(iv={}));function Vx(n,e,t){return t===void 0&&(t="/"),Mx(n,e,t)}function Mx(n,e,t,r){let o=typeof e=="string"?ca(e):e,a=ta(o.pathname||"/",t);if(a==null)return null;let u=L0(n);jx(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=Qx(a);d=Kx(u[f],m)}return d}function L0(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let o=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(ut(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=js([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),L0(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:Hx(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let f of V0(a.path))o(a,u,f)}),e}function V0(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=V0(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function jx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Wx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Fx=/^:[\w-]+$/,Ux=3,zx=2,Bx=1,$x=10,qx=-2,ov=n=>n==="*";function Hx(n,e){let t=n.split("/"),r=t.length;return t.some(ov)&&(r+=qx),e&&(r+=zx),t.filter(o=>!ov(o)).reduce((o,a)=>o+(Fx.test(a)?Ux:a===""?Bx:$x),r)}function Wx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function Kx(n,e,t){let{routesMeta:r}=n,o={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=$f({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),I=f.route;if(!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:js([a,w.pathname]),pathnameBase:eS(js([a,w.pathnameBase])),route:I}),w.pathnameBase!=="/"&&(a=js([a,w.pathnameBase]))}return u}function $f(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Gx(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((m,v,w)=>{let{paramName:I,isOptional:j}=v;if(I==="*"){let N=d[w]||"";u=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const k=d[w];return j&&!k?m[I]=void 0:m[I]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function Gx(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Lp(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function Qx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lp(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ta(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const Jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xx=n=>Jx.test(n);function Yx(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?ca(n):n,a;if(t)if(Xx(t))a=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),Lp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+t))}t.startsWith("/")?a=av(t.substring(1),"/"):a=av(t,e)}else a=e;return{pathname:a,search:tS(r),hash:nS(o)}}function av(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function If(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Vp(n,e){let t=Zx(n);return e?t.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Mp(n,e,t,r){r===void 0&&(r=!1);let o;typeof n=="string"?o=ca(n):(o=Nl({},n),ut(!o.pathname||!o.pathname.includes("?"),If("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),If("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),If("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let I=u.split("/");for(;I[0]==="..";)I.shift(),w-=1;o.pathname=I.join("/")}d=w>=0?e[w]:"/"}let f=Yx(o,d),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}const js=n=>n.join("/").replace(/\/\/+/g,"/"),eS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function rS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const M0=["post","put","patch","delete"];new Set(M0);const sS=["get",...M0];new Set(sS);function Ol(){return Ol=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ol.apply(this,arguments)}const yh=V.createContext(null),j0=V.createContext(null),ts=V.createContext(null),vh=V.createContext(null),ns=V.createContext({outlet:null,matches:[],isDataRoute:!1}),F0=V.createContext(null);function iS(n,e){let{relative:t}=e===void 0?{}:e;ha()||ut(!1);let{basename:r,navigator:o}=V.useContext(ts),{hash:a,pathname:u,search:d}=_h(n,{relative:t}),f=u;return r!=="/"&&(f=u==="/"?r:js([r,u])),o.createHref({pathname:f,search:d,hash:a})}function ha(){return V.useContext(vh)!=null}function Ar(){return ha()||ut(!1),V.useContext(vh).location}function U0(n){V.useContext(ts).static||V.useLayoutEffect(n)}function Wi(){let{isDataRoute:n}=V.useContext(ns);return n?wS():oS()}function oS(){ha()||ut(!1);let n=V.useContext(yh),{basename:e,future:t,navigator:r}=V.useContext(ts),{matches:o}=V.useContext(ns),{pathname:a}=Ar(),u=JSON.stringify(Vp(o,t.v7_relativeSplatPath)),d=V.useRef(!1);return U0(()=>{d.current=!0}),V.useCallback(function(m,v){if(v===void 0&&(v={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let w=Mp(m,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:js([e,w.pathname])),(v.replace?r.replace:r.push)(w,v.state,v)},[e,r,u,a,n])}const aS=V.createContext(null);function lS(n){let e=V.useContext(ns).outlet;return e&&V.createElement(aS.Provider,{value:n},e)}function _h(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=V.useContext(ts),{matches:o}=V.useContext(ns),{pathname:a}=Ar(),u=JSON.stringify(Vp(o,r.v7_relativeSplatPath));return V.useMemo(()=>Mp(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function uS(n,e){return cS(n,e)}function cS(n,e,t,r){ha()||ut(!1);let{navigator:o}=V.useContext(ts),{matches:a}=V.useContext(ns),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let m=Ar(),v;if(e){var w;let b=typeof e=="string"?ca(e):e;f==="/"||(w=b.pathname)!=null&&w.startsWith(f)||ut(!1),v=b}else v=m;let I=v.pathname||"/",j=I;if(f!=="/"){let b=f.replace(/^\//,"").split("/");j="/"+I.replace(/^\//,"").split("/").slice(b.length).join("/")}let k=Vx(n,{pathname:j}),N=mS(k&&k.map(b=>Object.assign({},b,{params:Object.assign({},d,b.params),pathname:js([f,o.encodeLocation?o.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:js([f,o.encodeLocation?o.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,t,r);return e&&N?V.createElement(vh.Provider,{value:{location:Ol({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Ls.Pop}},N):N}function hS(){let n=_S(),e=rS(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:o},t):null,null)}const dS=V.createElement(hS,null);class fS extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?V.createElement(ns.Provider,{value:this.props.routeContext},V.createElement(F0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pS(n){let{routeContext:e,match:t,children:r}=n,o=V.useContext(yh);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(ns.Provider,{value:e},r)}function mS(n,e,t,r){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let v=u.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);v>=0||ut(!1),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,m=-1;if(t&&r&&r.v7_partialHydration)for(let v=0;v<u.length;v++){let w=u[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:I,errors:j}=t,k=w.route.loader&&I[w.route.id]===void 0&&(!j||j[w.route.id]===void 0);if(w.route.lazy||k){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((v,w,I)=>{let j,k=!1,N=null,b=null;t&&(j=d&&w.route.id?d[w.route.id]:void 0,N=w.route.errorElement||dS,f&&(m<0&&I===0?(ES("route-fallback"),k=!0,b=null):m===I&&(k=!0,b=w.route.hydrateFallbackElement||null)));let X=e.concat(u.slice(0,I+1)),Q=()=>{let J;return j?J=N:k?J=b:w.route.Component?J=V.createElement(w.route.Component,null):w.route.element?J=w.route.element:J=v,V.createElement(pS,{match:w,routeContext:{outlet:v,matches:X,isDataRoute:t!=null},children:J})};return t&&(w.route.ErrorBoundary||w.route.errorElement||I===0)?V.createElement(fS,{location:t.location,revalidation:t.revalidation,component:N,error:j,children:Q(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):Q()},null)}var z0=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(z0||{}),B0=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(B0||{});function gS(n){let e=V.useContext(yh);return e||ut(!1),e}function yS(n){let e=V.useContext(j0);return e||ut(!1),e}function vS(n){let e=V.useContext(ns);return e||ut(!1),e}function $0(n){let e=vS(),t=e.matches[e.matches.length-1];return t.route.id||ut(!1),t.route.id}function _S(){var n;let e=V.useContext(F0),t=yS(),r=$0();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function wS(){let{router:n}=gS(z0.UseNavigateStable),e=$0(B0.UseNavigateStable),t=V.useRef(!1);return U0(()=>{t.current=!0}),V.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Ol({fromRouteId:e},a)))},[n,e])}const lv={};function ES(n,e,t){lv[n]||(lv[n]=!0)}function TS(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function Dl(n){let{to:e,replace:t,state:r,relative:o}=n;ha()||ut(!1);let{future:a,static:u}=V.useContext(ts),{matches:d}=V.useContext(ns),{pathname:f}=Ar(),m=Wi(),v=Mp(e,Vp(d,a.v7_relativeSplatPath),f,o==="path"),w=JSON.stringify(v);return V.useEffect(()=>m(JSON.parse(w),{replace:t,state:r,relative:o}),[m,w,o,t,r]),null}function IS(n){return lS(n.context)}function nt(n){ut(!1)}function xS(n){let{basename:e="/",children:t=null,location:r,navigationType:o=Ls.Pop,navigator:a,static:u=!1,future:d}=n;ha()&&ut(!1);let f=e.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:f,navigator:a,static:u,future:Ol({v7_relativeSplatPath:!1},d)}),[f,d,a,u]);typeof r=="string"&&(r=ca(r));let{pathname:v="/",search:w="",hash:I="",state:j=null,key:k="default"}=r,N=V.useMemo(()=>{let b=ta(v,f);return b==null?null:{location:{pathname:b,search:w,hash:I,state:j,key:k},navigationType:o}},[f,v,w,I,j,k,o]);return N==null?null:V.createElement(ts.Provider,{value:m},V.createElement(vh.Provider,{children:t,value:N}))}function SS(n){let{children:e,location:t}=n;return uS(qf(e),t)}new Promise(()=>{});function qf(n,e){e===void 0&&(e=[]);let t=[];return V.Children.forEach(n,(r,o)=>{if(!V.isValidElement(r))return;let a=[...e,o];if(r.type===V.Fragment){t.push.apply(t,qf(r.props.children,a));return}r.type!==nt&&ut(!1),!r.props.index||!r.props.children||ut(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=qf(r.props.children,a)),t.push(u)}),t}function Gc(){return Gc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gc.apply(this,arguments)}function q0(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,a;for(a=0;a<r.length;a++)o=r[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function bS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function RS(n,e){return n.button===0&&(!e||e==="_self")&&!bS(n)}function Hf(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(o=>[t,o]):[[t,r]])},[]))}function CS(n,e){let t=Hf(n);return e&&e.forEach((r,o)=>{t.has(o)||e.getAll(o).forEach(a=>{t.append(o,a)})}),t}const AS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],PS="6";try{window.__reactRouterVersion=PS}catch{}const NS=V.createContext({isTransitioning:!1}),OS="startTransition",uv=Rx[OS];function DS(n){let{basename:e,children:t,future:r,window:o}=n,a=V.useRef();a.current==null&&(a.current=Ox({window:o,v5Compat:!0}));let u=a.current,[d,f]=V.useState({action:u.action,location:u.location}),{v7_startTransition:m}=r||{},v=V.useCallback(w=>{m&&uv?uv(()=>f(w)):f(w)},[f,m]);return V.useLayoutEffect(()=>u.listen(v),[u,v]),V.useEffect(()=>TS(r),[r]),V.createElement(xS,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:u,future:r})}const LS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MS=V.forwardRef(function(e,t){let{onClick:r,relative:o,reloadDocument:a,replace:u,state:d,target:f,to:m,preventScrollReset:v,viewTransition:w}=e,I=q0(e,AS),{basename:j}=V.useContext(ts),k,N=!1;if(typeof m=="string"&&VS.test(m)&&(k=m,LS))try{let J=new URL(window.location.href),Y=m.startsWith("//")?new URL(J.protocol+m):new URL(m),ue=ta(Y.pathname,j);Y.origin===J.origin&&ue!=null?m=ue+Y.search+Y.hash:N=!0}catch{}let b=iS(m,{relative:o}),X=US(m,{replace:u,state:d,target:f,preventScrollReset:v,relative:o,viewTransition:w});function Q(J){r&&r(J),J.defaultPrevented||X(J)}return V.createElement("a",Gc({},I,{href:k||b,onClick:N||a?r:Q,ref:t,target:f}))}),jS=V.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:o=!1,className:a="",end:u=!1,style:d,to:f,viewTransition:m,children:v}=e,w=q0(e,kS),I=_h(f,{relative:w.relative}),j=Ar(),k=V.useContext(j0),{navigator:N,basename:b}=V.useContext(ts),X=k!=null&&zS(I)&&m===!0,Q=N.encodeLocation?N.encodeLocation(I).pathname:I.pathname,J=j.pathname,Y=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;o||(J=J.toLowerCase(),Y=Y?Y.toLowerCase():null,Q=Q.toLowerCase()),Y&&b&&(Y=ta(Y,b)||Y);const ue=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let de=J===Q||!u&&J.startsWith(Q)&&J.charAt(ue)==="/",P=Y!=null&&(Y===Q||!u&&Y.startsWith(Q)&&Y.charAt(Q.length)==="/"),S={isActive:de,isPending:P,isTransitioning:X},R=de?r:void 0,O;typeof a=="function"?O=a(S):O=[a,de?"active":null,P?"pending":null,X?"transitioning":null].filter(Boolean).join(" ");let L=typeof d=="function"?d(S):d;return V.createElement(MS,Gc({},w,{"aria-current":R,className:O,ref:t,style:L,to:f,viewTransition:m}),typeof v=="function"?v(S):v)});var Wf;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Wf||(Wf={}));var cv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(cv||(cv={}));function FS(n){let e=V.useContext(yh);return e||ut(!1),e}function US(n,e){let{target:t,replace:r,state:o,preventScrollReset:a,relative:u,viewTransition:d}=e===void 0?{}:e,f=Wi(),m=Ar(),v=_h(n,{relative:u});return V.useCallback(w=>{if(RS(w,t)){w.preventDefault();let I=r!==void 0?r:Kc(m)===Kc(v);f(n,{replace:I,state:o,preventScrollReset:a,relative:u,viewTransition:d})}},[m,f,v,r,o,t,n,a,u,d])}function XL(n){let e=V.useRef(Hf(n)),t=V.useRef(!1),r=Ar(),o=V.useMemo(()=>CS(r.search,t.current?null:e.current),[r.search]),a=Wi(),u=V.useCallback((d,f)=>{const m=Hf(typeof d=="function"?d(o):d);t.current=!0,a("?"+m,f)},[a,o]);return[o,u]}function zS(n,e){e===void 0&&(e={});let t=V.useContext(NS);t==null&&ut(!1);let{basename:r}=FS(Wf.useViewTransitionState),o=_h(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ta(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ta(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $f(o.pathname,u)!=null||$f(o.pathname,a)!=null}const BS="modulepreload",$S=function(n){return"/"+n},hv={},yt=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let f=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");o=f(t.map(m=>{if(m=$S(m),m in hv)return;hv[m]=!0;const v=m.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const I=document.createElement("link");if(I.rel=v?"stylesheet":BS,v||(I.as="script"),I.crossOrigin="",I.href=m,d&&I.setAttribute("nonce",d),document.head.appendChild(I),v)return new Promise((j,k)=>{I.addEventListener("load",j),I.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};var da=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qS={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},HS=class{#e=qS;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},Oi=new HS;function WS(n){setTimeout(n,0)}var Fi=typeof window>"u"||"Deno"in globalThis;function rn(){}function KS(n,e){return typeof n=="function"?n(e):n}function Kf(n){return typeof n=="number"&&n>=0&&n!==1/0}function H0(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Fs(n,e){return typeof n=="function"?n(e):n}function Mn(n,e){return typeof n=="function"?n(e):n}function dv(n,e){const{type:t="all",exact:r,fetchStatus:o,predicate:a,queryKey:u,stale:d}=n;if(u){if(r){if(e.queryHash!==jp(u,e.options))return!1}else if(!Ll(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||a&&!a(e))}function fv(n,e){const{exact:t,status:r,predicate:o,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(Ui(e.options.mutationKey)!==Ui(a))return!1}else if(!Ll(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function jp(n,e){return(e?.queryKeyHashFn||Ui)(n)}function Ui(n){return JSON.stringify(n,(e,t)=>Gf(t)?Object.keys(t).sort().reduce((r,o)=>(r[o]=t[o],r),{}):t)}function Ll(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Ll(n[t],e[t])):!1}var GS=Object.prototype.hasOwnProperty;function W0(n,e){if(n===e)return n;const t=pv(n)&&pv(e);if(!t&&!(Gf(n)&&Gf(e)))return e;const o=(t?n:Object.keys(n)).length,a=t?e:Object.keys(e),u=a.length,d=t?new Array(u):{};let f=0;for(let m=0;m<u;m++){const v=t?m:a[m],w=n[v],I=e[v];if(w===I){d[v]=w,(t?m<o:GS.call(n,v))&&f++;continue}if(w===null||I===null||typeof w!="object"||typeof I!="object"){d[v]=I;continue}const j=W0(w,I);d[v]=j,j===w&&f++}return o===u&&f===o?n:d}function Qc(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function pv(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Gf(n){if(!mv(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!mv(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function mv(n){return Object.prototype.toString.call(n)==="[object Object]"}function QS(n){return new Promise(e=>{Oi.setTimeout(e,n)})}function Qf(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?W0(n,e):e}function JS(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function XS(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Fp=Symbol();function K0(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===Fp?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Up(n,e){return typeof n=="function"?n(...e):!!n}function YS(n,e,t){let r=!1,o;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(o??=e(),r||(r=!0,o.aborted?t():o.addEventListener("abort",t,{once:!0})),o)}),n}var ZS=class extends da{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!Fi&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},zp=new ZS;function Jf(){let n,e;const t=new Promise((o,a)=>{n=o,e=a});t.status="pending",t.catch(()=>{});function r(o){Object.assign(t,o),delete t.resolve,delete t.reject}return t.resolve=o=>{r({status:"fulfilled",value:o}),n(o)},t.reject=o=>{r({status:"rejected",reason:o}),e(o)},t}var e1=WS;function t1(){let n=[],e=0,t=d=>{d()},r=d=>{d()},o=e1;const a=d=>{e?n.push(d):o(()=>{t(d)})},u=()=>{const d=n;n=[],d.length&&o(()=>{r(()=>{d.forEach(f=>{t(f)})})})};return{batch:d=>{let f;e++;try{f=d()}finally{e--,e||u()}return f},batchCalls:d=>(...f)=>{a(()=>{d(...f)})},schedule:a,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{o=d}}}var At=t1(),n1=class extends da{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!Fi&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},Jc=new n1;function r1(n){return Math.min(1e3*2**n,3e4)}function G0(n){return(n??"online")==="online"?Jc.isOnline():!0}var Xf=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function Q0(n){let e=!1,t=0,r;const o=Jf(),a=()=>o.status!=="pending",u=N=>{if(!a()){const b=new Xf(N);I(b),n.onCancel?.(b)}},d=()=>{e=!0},f=()=>{e=!1},m=()=>zp.isFocused()&&(n.networkMode==="always"||Jc.isOnline())&&n.canRun(),v=()=>G0(n.networkMode)&&n.canRun(),w=N=>{a()||(r?.(),o.resolve(N))},I=N=>{a()||(r?.(),o.reject(N))},j=()=>new Promise(N=>{r=b=>{(a()||m())&&N(b)},n.onPause?.()}).then(()=>{r=void 0,a()||n.onContinue?.()}),k=()=>{if(a())return;let N;const b=t===0?n.initialPromise:void 0;try{N=b??n.fn()}catch(X){N=Promise.reject(X)}Promise.resolve(N).then(w).catch(X=>{if(a())return;const Q=n.retry??(Fi?0:3),J=n.retryDelay??r1,Y=typeof J=="function"?J(t,X):J,ue=Q===!0||typeof Q=="number"&&t<Q||typeof Q=="function"&&Q(t,X);if(e||!ue){I(X);return}t++,n.onFail?.(t,X),QS(Y).then(()=>m()?void 0:j()).then(()=>{e?I(X):k()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(r?.(),o),cancelRetry:d,continueRetry:f,canStart:v,start:()=>(v()?k():j().then(k),o)}}var J0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kf(this.gcTime)&&(this.#e=Oi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Fi?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Oi.clearTimeout(this.#e),this.#e=void 0)}},s1=class extends J0{#e;#t;#n;#s;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=yv(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=yv(this.options);t.data!==void 0&&(this.setState(gv(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=Qf(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(rn).catch(rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Mn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Fs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!H0(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},a=()=>{const f=K0(this.options,t),v=(()=>{const w={client:this.#s,queryKey:this.queryKey,meta:this.meta};return o(w),w})();return this.#a=!1,this.options.persister?this.options.persister(f,v,this):f(v)},d=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:a};return o(f),f})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#i({type:"fetch",meta:d.fetchOptions?.meta}),this.#r=Q0({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:f=>{f instanceof Xf&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(f,m)=>{this.#i({type:"failed",failureCount:f,error:m})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Xf){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...X0(r.data,this.options),fetchMeta:e.meta??null};case"success":const o={...r,...gv(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?o:void 0,o;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),At.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function X0(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:G0(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function gv(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function yv(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var i1=class extends da{constructor(n,e){super(),this.options=e,this.#e=n,this.#i=null,this.#a=Jf(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#o;#a;#i;#m;#d;#f;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),vv(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Yf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Yf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#E(),this.#t.removeObserver(this)}setOptions(n){const e=this.options,t=this.#t;if(this.options=this.#e.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#T(),this.#t.setOptions(this.options),e._defaulted&&!Qc(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&_v(this.#t,t,this.options,e)&&this.#h(),this.updateResult(),r&&(this.#t!==t||Mn(this.options.enabled,this.#t)!==Mn(e.enabled,this.#t)||Fs(this.options.staleTime,this.#t)!==Fs(e.staleTime,this.#t))&&this.#g();const o=this.#y();r&&(this.#t!==t||Mn(this.options.enabled,this.#t)!==Mn(e.enabled,this.#t)||o!==this.#l)&&this.#v(o)}getOptimisticResult(n){const e=this.#e.getQueryCache().build(this.#e,n),t=this.createResult(e,n);return a1(this,t)&&(this.#s=t,this.#o=this.options,this.#r=this.#t.state),t}getCurrentResult(){return this.#s}trackResult(n,e){return new Proxy(n,{get:(t,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(t,r))})}trackProp(n){this.#p.add(n)}getCurrentQuery(){return this.#t}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const e=this.#e.defaultQueryOptions(n),t=this.#e.getQueryCache().build(this.#e,e);return t.fetch().then(()=>this.createResult(t,e))}fetch(n){return this.#h({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(n){this.#T();let e=this.#t.fetch(this.options,n);return n?.throwOnError||(e=e.catch(rn)),e}#g(){this.#w();const n=Fs(this.options.staleTime,this.#t);if(Fi||this.#s.isStale||!Kf(n))return;const t=H0(this.#s.dataUpdatedAt,n)+1;this.#u=Oi.setTimeout(()=>{this.#s.isStale||this.updateResult()},t)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(n){this.#E(),this.#l=n,!(Fi||Mn(this.options.enabled,this.#t)===!1||!Kf(this.#l)||this.#l===0)&&(this.#c=Oi.setInterval(()=>{(this.options.refetchIntervalInBackground||zp.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#v(this.#y())}#w(){this.#u&&(Oi.clearTimeout(this.#u),this.#u=void 0)}#E(){this.#c&&(Oi.clearInterval(this.#c),this.#c=void 0)}createResult(n,e){const t=this.#t,r=this.options,o=this.#s,a=this.#r,u=this.#o,f=n!==t?n.state:this.#n,{state:m}=n;let v={...m},w=!1,I;if(e._optimisticResults){const S=this.hasListeners(),R=!S&&vv(n,e),O=S&&_v(n,t,e,r);(R||O)&&(v={...v,...X0(m.data,n.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:j,errorUpdatedAt:k,status:N}=v;I=v.data;let b=!1;if(e.placeholderData!==void 0&&I===void 0&&N==="pending"){let S;o?.isPlaceholderData&&e.placeholderData===u?.placeholderData?(S=o.data,b=!0):S=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,S!==void 0&&(N="success",I=Qf(o?.data,S,e),w=!0)}if(e.select&&I!==void 0&&!b)if(o&&I===a?.data&&e.select===this.#m)I=this.#d;else try{this.#m=e.select,I=e.select(I),I=Qf(o?.data,I,e),this.#d=I,this.#i=null}catch(S){this.#i=S}this.#i&&(j=this.#i,I=this.#d,k=Date.now(),N="error");const X=v.fetchStatus==="fetching",Q=N==="pending",J=N==="error",Y=Q&&X,ue=I!==void 0,P={status:N,fetchStatus:v.fetchStatus,isPending:Q,isSuccess:N==="success",isError:J,isInitialLoading:Y,isLoading:Y,data:I,dataUpdatedAt:v.dataUpdatedAt,error:j,errorUpdatedAt:k,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>f.dataUpdateCount||v.errorUpdateCount>f.errorUpdateCount,isFetching:X,isRefetching:X&&!Q,isLoadingError:J&&!ue,isPaused:v.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:J&&ue,isStale:Bp(n,e),refetch:this.refetch,promise:this.#a,isEnabled:Mn(e.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const S=L=>{P.status==="error"?L.reject(P.error):P.data!==void 0&&L.resolve(P.data)},R=()=>{const L=this.#a=P.promise=Jf();S(L)},O=this.#a;switch(O.status){case"pending":n.queryHash===t.queryHash&&S(O);break;case"fulfilled":(P.status==="error"||P.data!==O.value)&&R();break;case"rejected":(P.status!=="error"||P.error!==O.reason)&&R();break}}return P}updateResult(){const n=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#f=this.#t),Qc(e,n))return;this.#s=e;const t=()=>{if(!n)return!0;const{notifyOnChangeProps:r}=this.options,o=typeof r=="function"?r():r;if(o==="all"||!o&&!this.#p.size)return!0;const a=new Set(o??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#s).some(u=>{const d=u;return this.#s[d]!==n[d]&&a.has(d)})};this.#I({listeners:t()})}#T(){const n=this.#e.getQueryCache().build(this.#e,this.options);if(n===this.#t)return;const e=this.#t;this.#t=n,this.#n=n.state,this.hasListeners()&&(e?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#I(n){At.batch(()=>{n.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function o1(n,e){return Mn(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function vv(n,e){return o1(n,e)||n.state.data!==void 0&&Yf(n,e,e.refetchOnMount)}function Yf(n,e,t){if(Mn(e.enabled,n)!==!1&&Fs(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&Bp(n,e)}return!1}function _v(n,e,t,r){return(n!==e||Mn(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Bp(n,t)}function Bp(n,e){return Mn(e.enabled,n)!==!1&&n.isStaleByTime(Fs(e.staleTime,n))}function a1(n,e){return!Qc(n.getCurrentResult(),e)}function wv(n){return{onFetch:(e,t)=>{const r=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const m=async()=>{let v=!1;const w=k=>{YS(k,()=>e.signal,()=>v=!0)},I=K0(e.options,e.fetchOptions),j=async(k,N,b)=>{if(v)return Promise.reject();if(N==null&&k.pages.length)return Promise.resolve(k);const Q=(()=>{const de={client:e.client,queryKey:e.queryKey,pageParam:N,direction:b?"backward":"forward",meta:e.options.meta};return w(de),de})(),J=await I(Q),{maxPages:Y}=e.options,ue=b?XS:JS;return{pages:ue(k.pages,J,Y),pageParams:ue(k.pageParams,N,Y)}};if(o&&a.length){const k=o==="backward",N=k?l1:Ev,b={pages:a,pageParams:u},X=N(r,b);d=await j(b,X,k)}else{const k=n??a.length;do{const N=f===0?u[0]??r.initialPageParam:Ev(r,d);if(f>0&&N==null)break;d=await j(d,N),f++}while(f<k)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=m}}}function Ev(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function l1(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var u1=class extends J0{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Y0(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Q0({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#r({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",a=!this.#s.canStart();try{if(o)t();else{this.#r({type:"pending",variables:e,isPaused:a}),await this.#n.config.onMutate?.(e,this,r);const d=await this.options.onMutate?.(e,r);d!==this.state.context&&this.#r({type:"pending",context:d,variables:e,isPaused:a})}const u=await this.#s.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#r({type:"success",data:u}),u}catch(u){try{await this.#n.config.onError?.(u,e,this.state.context,this,r)}catch(d){Promise.reject(d)}try{await this.options.onError?.(u,e,this.state.context,r)}catch(d){Promise.reject(d)}try{await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r)}catch(d){Promise.reject(d)}try{await this.options.onSettled?.(void 0,u,e,this.state.context,r)}catch(d){Promise.reject(d)}throw this.#r({type:"error",error:u}),u}finally{this.#n.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),At.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Y0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var c1=class extends da{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,t){const r=new u1({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(r),r}add(n){this.#e.add(n);const e=xc(n);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=xc(n);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const r=t.indexOf(n);r!==-1&&t.splice(r,1)}else t[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=xc(n);if(typeof e=="string"){const r=this.#t.get(e)?.find(o=>o.state.status==="pending");return!r||r===n}else return!0}runNext(n){const e=xc(n);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==n&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){At.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>fv(e,t))}findAll(n={}){return this.getAll().filter(e=>fv(n,e))}notify(n){At.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return At.batch(()=>Promise.all(n.map(e=>e.continue().catch(rn))))}};function xc(n){return n.options.scope?.id}var h1=class extends da{#e;#t=void 0;#n;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),Qc(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&Ui(t.mutationKey)!==Ui(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#o()}mutate(e,t){return this.#s=t,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??Y0();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){At.batch(()=>{if(this.#s&&this.hasListeners()){const t=this.#t.variables,r=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,t,r,o)}catch(a){Promise.reject(a)}try{this.#s.onSettled?.(e.data,null,t,r,o)}catch(a){Promise.reject(a)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,t,r,o)}catch(a){Promise.reject(a)}try{this.#s.onSettled?.(void 0,e.error,t,r,o)}catch(a){Promise.reject(a)}}}this.listeners.forEach(t=>{t(this.#t)})})}},d1=class extends da{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const r=e.queryKey,o=e.queryHash??jp(r,e);let a=this.get(o);return a||(a=new s1({client:n,queryKey:r,queryHash:o,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(r)}),this.add(a)),a}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){At.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>dv(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>dv(n,t)):e}notify(n){At.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){At.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},f1=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(n={}){this.#e=n.queryCache||new d1,this.#t=n.mutationCache||new c1,this.#n=n.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=zp.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Jc.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#e.build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Fs(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=this.#e.get(r.queryHash)?.state.data,u=KS(e,a);if(u!==void 0)return this.#e.build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return At.batch(()=>this.#e.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;At.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e;return At.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=At.batch(()=>this.#e.findAll(n).map(o=>o.cancel(t)));return Promise.all(r).then(rn).catch(rn)}invalidateQueries(n,e={}){return At.batch(()=>(this.#e.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=At.batch(()=>this.#e.findAll(n).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,t);return t.throwOnError||(a=a.catch(rn)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(rn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(Fs(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(rn).catch(rn)}fetchInfiniteQuery(n){return n.behavior=wv(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(rn).catch(rn)}ensureInfiniteQueryData(n){return n.behavior=wv(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Jc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#s.set(Ui(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#s.values()],t={};return e.forEach(r=>{Ll(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){this.#r.set(Ui(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#r.values()],t={};return e.forEach(r=>{Ll(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=jp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Fp&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Z0=V.createContext(void 0),$p=n=>{const e=V.useContext(Z0);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},p1=({client:n,children:e})=>(V.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),T.jsx(Z0.Provider,{value:n,children:e})),ew=V.createContext(!1),m1=()=>V.useContext(ew);ew.Provider;function g1(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var y1=V.createContext(g1()),v1=()=>V.useContext(y1),_1=(n,e,t)=>{const r=t?.state.error&&typeof n.throwOnError=="function"?Up(n.throwOnError,[t.state.error,t]):n.throwOnError;(n.suspense||n.experimental_prefetchInRender||r)&&(e.isReset()||(n.retryOnMount=!1))},w1=n=>{V.useEffect(()=>{n.clearReset()},[n])},E1=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:o})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(o&&n.data===void 0||Up(t,[n.error,r])),T1=n=>{if(n.suspense){const t=o=>o==="static"?o:Math.max(o??1e3,1e3),r=n.staleTime;n.staleTime=typeof r=="function"?(...o)=>t(r(...o)):t(r),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},I1=(n,e)=>n.isLoading&&n.isFetching&&!e,x1=(n,e)=>n?.suspense&&e.isPending,Tv=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function S1(n,e,t){const r=m1(),o=v1(),a=$p(),u=a.defaultQueryOptions(n);a.getDefaultOptions().queries?._experimental_beforeQuery?.(u);const d=a.getQueryCache().get(u.queryHash);u._optimisticResults=r?"isRestoring":"optimistic",T1(u),_1(u,o,d),w1(o);const f=!a.getQueryCache().get(u.queryHash),[m]=V.useState(()=>new e(a,u)),v=m.getOptimisticResult(u),w=!r&&n.subscribed!==!1;if(V.useSyncExternalStore(V.useCallback(I=>{const j=w?m.subscribe(At.batchCalls(I)):rn;return m.updateResult(),j},[m,w]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),V.useEffect(()=>{m.setOptions(u)},[u,m]),x1(u,v))throw Tv(u,m,o);if(E1({result:v,errorResetBoundary:o,throwOnError:u.throwOnError,query:d,suspense:u.suspense}))throw v.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(u,v),u.experimental_prefetchInRender&&!Fi&&I1(v,r)&&(f?Tv(u,m,o):d?.promise)?.catch(rn).finally(()=>{m.updateResult()}),u.notifyOnChangeProps?v:m.trackResult(v)}function b1(n,e){return S1(n,i1)}function R1(n,e){const t=$p(),[r]=V.useState(()=>new h1(t,n));V.useEffect(()=>{r.setOptions(n)},[r,n]);const o=V.useSyncExternalStore(V.useCallback(u=>r.subscribe(At.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=V.useCallback((u,d)=>{r.mutate(u,d).catch(rn)},[r]);if(o.error&&Up(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}const C1=({open:n=!1,onClose:e})=>{const t=u=>{u.key==="Escape"&&e?.()},r=[{label:"Dashboard",path:"/",icon:"dashboard"},{label:"Transaes",path:"/transactions",icon:"receipt_long"},{label:"Auditoria & Limpeza",path:"/data-cleaning",icon:"verified_user"},{label:"IA & Insights",path:"/insights",icon:"psychology",badge:"NEW"},{label:"Deep Dive Financeiro",path:"/cfo/deep-dive",icon:"finance_mode"}],o=[{label:"Clientes",path:"/clients",icon:"people"},{label:"Real Estate",path:"/real-estate",icon:"domain"},{label:"Configuraes",path:"/settings",icon:"settings"}],a=u=>u.map(d=>T.jsxs(jS,{to:d.path,onClick:e,className:({isActive:f})=>["flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all group mx-2",f?"bg-primary text-white shadow-glow":"text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-white/5"].join(" "),children:[T.jsx("span",{className:"material-symbols-outlined text-[22px] transition-colors",children:d.icon}),T.jsx("span",{className:"text-[14px] font-medium",children:d.label}),d.badge&&T.jsx("span",{className:"ml-auto bg-gradient-to-r from-primary to-secondary text-[10px] px-1.5 py-0.5 rounded text-white font-bold",children:d.badge})]},d.path));return T.jsxs(T.Fragment,{children:[T.jsx("div",{onClick:e,className:`fixed inset-0 bg-black/50 md:hidden transition-opacity z-40 ${n?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,"aria-hidden":!n}),T.jsxs("aside",{id:"app-sidebar",tabIndex:-1,onKeyDown:t,className:["fixed top-0 left-0 h-full w-64 z-50 flex flex-col glass border-r border-slate-200 dark:border-slate-800 transition-all duration-300","transform transition-transform duration-500 ease-in-out",n?"translate-x-0":"-translate-x-64","md:translate-x-0"].join(" "),children:[T.jsxs("div",{className:"h-20 flex items-center px-6",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"bg-primary/10 p-2 rounded-lg dark:bg-primary/20",children:T.jsx("img",{src:"/assets/brand/momentum-logo.png",alt:"Momentum Logo",className:"w-6 h-6 object-contain"})}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-[17px] font-bold tracking-tight text-slate-900 dark:text-white leading-none font-display",children:"MOMENTUM"}),T.jsx("span",{className:"text-[9px] font-bold tracking-[0.2em] text-primary uppercase font-display mt-1 block opacity-80",children:"PREMIUM V14.6"})]})]}),T.jsx("button",{onClick:e,className:"md:hidden ml-auto inline-flex items-center justify-center h-8 w-8 rounded-lg border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/70 text-slate-600 dark:text-slate-300",children:""})]}),T.jsxs("nav",{className:"flex-1 px-4 space-y-1 py-4 overflow-y-auto",children:[T.jsx("p",{className:"px-3 text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em] mb-4 mt-2 font-display",children:"PRINCIPAL"}),a(r),T.jsx("p",{className:"px-3 text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em] mt-8 mb-4 font-display",children:"GERENCIAMENTO"}),a(o)]}),T.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800 mt-auto",children:T.jsxs("div",{className:"flex items-center gap-3 px-2 py-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-[10px] font-bold dark:text-slate-300",children:"GM"}),T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-[11px] font-bold text-slate-900 dark:text-slate-200 font-display",children:"Glass Momentum"}),T.jsx("span",{className:"text-[9px] text-slate-500 font-display uppercase tracking-wider",children:"v14.6 Enterprise"})]})]})})]})]})};function A1(){const[n,e]=V.useState(()=>localStorage.getItem("theme")||"light");return V.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),n==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.documentElement.classList.add("light"),document.documentElement.classList.remove("dark")),localStorage.setItem("theme",n)},[n]),{theme:n,toggle:()=>e(t=>t==="light"?"dark":"light")}}const k1=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P1=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Iv=n=>{const e=P1(n);return e.charAt(0).toUpperCase()+e.slice(1)},tw=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),N1=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var O1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const D1=V.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:u,...d},f)=>V.createElement("svg",{ref:f,...O1,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:tw("lucide",o),...!a&&!N1(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,v])=>V.createElement(m,v)),...Array.isArray(a)?a:[a]]));const an=(n,e)=>{const t=V.forwardRef(({className:r,...o},a)=>V.createElement(D1,{ref:a,iconNode:e,className:tw(`lucide-${k1(Iv(n))}`,`lucide-${n}`,r),...o}));return t.displayName=Iv(n),t};const L1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nw=an("arrow-right",L1);const V1=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],M1=an("bell",V1);const j1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xv=an("circle-alert",j1);const F1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],U1=an("circle-question-mark",F1);const z1=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],B1=an("external-link",z1);const $1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],rw=an("loader-circle",$1);const q1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],H1=an("lock",q1);const W1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Zf=an("mail",W1);const K1=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],G1=an("message-circle",K1);const Q1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],J1=an("mic",Q1);const X1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sv=an("sparkles",X1);const Y1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Z1=an("square",Y1);const eb=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],tb=an("volume-2",eb);const nb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vl=an("x",nb);const rb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],sw=an("zap",rb);function iw(n,e){return function(){return n.apply(e,arguments)}}const{toString:sb}=Object.prototype,{getPrototypeOf:qp}=Object,{iterator:wh,toStringTag:ow}=Symbol,Eh=(n=>e=>{const t=sb.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),or=n=>(n=n.toLowerCase(),e=>Eh(e)===n),Th=n=>e=>typeof e===n,{isArray:fa}=Array,na=Th("undefined");function Kl(n){return n!==null&&!na(n)&&n.constructor!==null&&!na(n.constructor)&&yn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const aw=or("ArrayBuffer");function ib(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&aw(n.buffer),e}const ob=Th("string"),yn=Th("function"),lw=Th("number"),Gl=n=>n!==null&&typeof n=="object",ab=n=>n===!0||n===!1,Lc=n=>{if(Eh(n)!=="object")return!1;const e=qp(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ow in n)&&!(wh in n)},lb=n=>{if(!Gl(n)||Kl(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},ub=or("Date"),cb=or("File"),hb=or("Blob"),db=or("FileList"),fb=n=>Gl(n)&&yn(n.pipe),pb=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||yn(n.append)&&((e=Eh(n))==="formdata"||e==="object"&&yn(n.toString)&&n.toString()==="[object FormData]"))},mb=or("URLSearchParams"),[gb,yb,vb,_b]=["ReadableStream","Request","Response","Headers"].map(or),wb=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ql(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,o;if(typeof n!="object"&&(n=[n]),fa(n))for(r=0,o=n.length;r<o;r++)e.call(null,n[r],r,n);else{if(Kl(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),u=a.length;let d;for(r=0;r<u;r++)d=a[r],e.call(null,n[d],d,n)}}function uw(n,e){if(Kl(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,o;for(;r-- >0;)if(o=t[r],e===o.toLowerCase())return o;return null}const Di=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cw=n=>!na(n)&&n!==Di;function ep(){const{caseless:n,skipUndefined:e}=cw(this)&&this||{},t={},r=(o,a)=>{const u=n&&uw(t,a)||a;Lc(t[u])&&Lc(o)?t[u]=ep(t[u],o):Lc(o)?t[u]=ep({},o):fa(o)?t[u]=o.slice():(!e||!na(o))&&(t[u]=o)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Ql(arguments[o],r);return t}const Eb=(n,e,t,{allOwnKeys:r}={})=>(Ql(e,(o,a)=>{t&&yn(o)?n[a]=iw(o,t):n[a]=o},{allOwnKeys:r}),n),Tb=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Ib=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},xb=(n,e,t,r)=>{let o,a,u;const d={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),a=o.length;a-- >0;)u=o[a],(!r||r(u,n,e))&&!d[u]&&(e[u]=n[u],d[u]=!0);n=t!==!1&&qp(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Sb=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},bb=n=>{if(!n)return null;if(fa(n))return n;let e=n.length;if(!lw(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Rb=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&qp(Uint8Array)),Cb=(n,e)=>{const r=(n&&n[wh]).call(n);let o;for(;(o=r.next())&&!o.done;){const a=o.value;e.call(n,a[0],a[1])}},Ab=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},kb=or("HTMLFormElement"),Pb=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,o){return r.toUpperCase()+o}),bv=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Nb=or("RegExp"),hw=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Ql(t,(o,a)=>{let u;(u=e(o,a,n))!==!1&&(r[a]=u||o)}),Object.defineProperties(n,r)},Ob=n=>{hw(n,(e,t)=>{if(yn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(yn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Db=(n,e)=>{const t={},r=o=>{o.forEach(a=>{t[a]=!0})};return fa(n)?r(n):r(String(n).split(e)),t},Lb=()=>{},Vb=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Mb(n){return!!(n&&yn(n.append)&&n[ow]==="FormData"&&n[wh])}const jb=n=>{const e=new Array(10),t=(r,o)=>{if(Gl(r)){if(e.indexOf(r)>=0)return;if(Kl(r))return r;if(!("toJSON"in r)){e[o]=r;const a=fa(r)?[]:{};return Ql(r,(u,d)=>{const f=t(u,o+1);!na(f)&&(a[d]=f)}),e[o]=void 0,a}}return r};return t(n,0)},Fb=or("AsyncFunction"),Ub=n=>n&&(Gl(n)||yn(n))&&yn(n.then)&&yn(n.catch),dw=((n,e)=>n?setImmediate:e?((t,r)=>(Di.addEventListener("message",({source:o,data:a})=>{o===Di&&a===t&&r.length&&r.shift()()},!1),o=>{r.push(o),Di.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",yn(Di.postMessage)),zb=typeof queueMicrotask<"u"?queueMicrotask.bind(Di):typeof process<"u"&&process.nextTick||dw,Bb=n=>n!=null&&yn(n[wh]),H={isArray:fa,isArrayBuffer:aw,isBuffer:Kl,isFormData:pb,isArrayBufferView:ib,isString:ob,isNumber:lw,isBoolean:ab,isObject:Gl,isPlainObject:Lc,isEmptyObject:lb,isReadableStream:gb,isRequest:yb,isResponse:vb,isHeaders:_b,isUndefined:na,isDate:ub,isFile:cb,isBlob:hb,isRegExp:Nb,isFunction:yn,isStream:fb,isURLSearchParams:mb,isTypedArray:Rb,isFileList:db,forEach:Ql,merge:ep,extend:Eb,trim:wb,stripBOM:Tb,inherits:Ib,toFlatObject:xb,kindOf:Eh,kindOfTest:or,endsWith:Sb,toArray:bb,forEachEntry:Cb,matchAll:Ab,isHTMLForm:kb,hasOwnProperty:bv,hasOwnProp:bv,reduceDescriptors:hw,freezeMethods:Ob,toObjectSet:Db,toCamelCase:Pb,noop:Lb,toFiniteNumber:Vb,findKey:uw,global:Di,isContextDefined:cw,isSpecCompliantForm:Mb,toJSONObject:jb,isAsyncFn:Fb,isThenable:Ub,setImmediate:dw,asap:zb,isIterable:Bb};function Ne(n,e,t,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}H.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const fw=Ne.prototype,pw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{pw[n]={value:n}});Object.defineProperties(Ne,pw);Object.defineProperty(fw,"isAxiosError",{value:!0});Ne.from=(n,e,t,r,o,a)=>{const u=Object.create(fw);H.toFlatObject(n,u,function(v){return v!==Error.prototype},m=>m!=="isAxiosError");const d=n&&n.message?n.message:"Error",f=e==null&&n?n.code:e;return Ne.call(u,d,f,t,r,o),n&&u.cause==null&&Object.defineProperty(u,"cause",{value:n,configurable:!0}),u.name=n&&n.name||"Error",a&&Object.assign(u,a),u};const $b=null;function tp(n){return H.isPlainObject(n)||H.isArray(n)}function mw(n){return H.endsWith(n,"[]")?n.slice(0,-2):n}function Rv(n,e,t){return n?n.concat(e).map(function(o,a){return o=mw(o),!t&&a?"["+o+"]":o}).join(t?".":""):e}function qb(n){return H.isArray(n)&&!n.some(tp)}const Hb=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function Ih(n,e,t){if(!H.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=H.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,b){return!H.isUndefined(b[N])});const r=t.metaTokens,o=t.visitor||v,a=t.dots,u=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(o))throw new TypeError("visitor must be a function");function m(k){if(k===null)return"";if(H.isDate(k))return k.toISOString();if(H.isBoolean(k))return k.toString();if(!f&&H.isBlob(k))throw new Ne("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(k)||H.isTypedArray(k)?f&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function v(k,N,b){let X=k;if(k&&!b&&typeof k=="object"){if(H.endsWith(N,"{}"))N=r?N:N.slice(0,-2),k=JSON.stringify(k);else if(H.isArray(k)&&qb(k)||(H.isFileList(k)||H.endsWith(N,"[]"))&&(X=H.toArray(k)))return N=mw(N),X.forEach(function(J,Y){!(H.isUndefined(J)||J===null)&&e.append(u===!0?Rv([N],Y,a):u===null?N:N+"[]",m(J))}),!1}return tp(k)?!0:(e.append(Rv(b,N,a),m(k)),!1)}const w=[],I=Object.assign(Hb,{defaultVisitor:v,convertValue:m,isVisitable:tp});function j(k,N){if(!H.isUndefined(k)){if(w.indexOf(k)!==-1)throw Error("Circular reference detected in "+N.join("."));w.push(k),H.forEach(k,function(X,Q){(!(H.isUndefined(X)||X===null)&&o.call(e,X,H.isString(Q)?Q.trim():Q,N,I))===!0&&j(X,N?N.concat(Q):[Q])}),w.pop()}}if(!H.isObject(n))throw new TypeError("data must be an object");return j(n),e}function Cv(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Hp(n,e){this._pairs=[],n&&Ih(n,this,e)}const gw=Hp.prototype;gw.append=function(e,t){this._pairs.push([e,t])};gw.toString=function(e){const t=e?function(r){return e.call(this,r,Cv)}:Cv;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function Wb(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function yw(n,e,t){if(!e)return n;const r=t&&t.encode||Wb;H.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let a;if(o?a=o(e,t):a=H.isURLSearchParams(e)?e.toString():new Hp(e,t).toString(r),a){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class Av{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(r){r!==null&&e(r)})}}const vw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kb=typeof URLSearchParams<"u"?URLSearchParams:Hp,Gb=typeof FormData<"u"?FormData:null,Qb=typeof Blob<"u"?Blob:null,Jb={isBrowser:!0,classes:{URLSearchParams:Kb,FormData:Gb,Blob:Qb},protocols:["http","https","file","blob","url","data"]},Wp=typeof window<"u"&&typeof document<"u",np=typeof navigator=="object"&&navigator||void 0,Xb=Wp&&(!np||["ReactNative","NativeScript","NS"].indexOf(np.product)<0),Yb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zb=Wp&&window.location.href||"http://localhost",eR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wp,hasStandardBrowserEnv:Xb,hasStandardBrowserWebWorkerEnv:Yb,navigator:np,origin:Zb},Symbol.toStringTag,{value:"Module"})),Jt={...eR,...Jb};function tR(n,e){return Ih(n,new Jt.classes.URLSearchParams,{visitor:function(t,r,o,a){return Jt.isNode&&H.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function nR(n){return H.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rR(n){const e={},t=Object.keys(n);let r;const o=t.length;let a;for(r=0;r<o;r++)a=t[r],e[a]=n[a];return e}function _w(n){function e(t,r,o,a){let u=t[a++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),f=a>=t.length;return u=!u&&H.isArray(o)?o.length:u,f?(H.hasOwnProp(o,u)?o[u]=[o[u],r]:o[u]=r,!d):((!o[u]||!H.isObject(o[u]))&&(o[u]=[]),e(t,r,o[u],a)&&H.isArray(o[u])&&(o[u]=rR(o[u])),!d)}if(H.isFormData(n)&&H.isFunction(n.entries)){const t={};return H.forEachEntry(n,(r,o)=>{e(nR(r),o,t,0)}),t}return null}function sR(n,e,t){if(H.isString(n))try{return(e||JSON.parse)(n),H.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Jl={transitional:vw,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",o=r.indexOf("application/json")>-1,a=H.isObject(e);if(a&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return o?JSON.stringify(_w(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tR(e,this.formSerializer).toString();if((d=H.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Ih(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||o?(t.setContentType("application/json",!1),sR(e)):e}],transformResponse:[function(e){const t=this.transitional||Jl.transitional,r=t&&t.forcedJSONParsing,o=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(r&&!this.responseType||o)){const u=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(d){if(u)throw d.name==="SyntaxError"?Ne.from(d,Ne.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jt.classes.FormData,Blob:Jt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],n=>{Jl.headers[n]={}});const iR=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oR=n=>{const e={};let t,r,o;return n&&n.split(`
`).forEach(function(u){o=u.indexOf(":"),t=u.substring(0,o).trim().toLowerCase(),r=u.substring(o+1).trim(),!(!t||e[t]&&iR[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},kv=Symbol("internals");function vl(n){return n&&String(n).trim().toLowerCase()}function Vc(n){return n===!1||n==null?n:H.isArray(n)?n.map(Vc):String(n)}function aR(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const lR=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function xf(n,e,t,r,o){if(H.isFunction(r))return r.call(this,e,t);if(o&&(e=t),!!H.isString(e)){if(H.isString(r))return e.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(e)}}function uR(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function cR(n,e){const t=H.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(o,a,u){return this[r].call(this,e,o,a,u)},configurable:!0})})}let vn=class{constructor(e){e&&this.set(e)}set(e,t,r){const o=this;function a(d,f,m){const v=vl(f);if(!v)throw new Error("header name must be a non-empty string");const w=H.findKey(o,v);(!w||o[w]===void 0||m===!0||m===void 0&&o[w]!==!1)&&(o[w||f]=Vc(d))}const u=(d,f)=>H.forEach(d,(m,v)=>a(m,v,f));if(H.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(H.isString(e)&&(e=e.trim())&&!lR(e))u(oR(e),t);else if(H.isObject(e)&&H.isIterable(e)){let d={},f,m;for(const v of e){if(!H.isArray(v))throw TypeError("Object iterator must return a key-value pair");d[m=v[0]]=(f=d[m])?H.isArray(f)?[...f,v[1]]:[f,v[1]]:v[1]}u(d,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=vl(e),e){const r=H.findKey(this,e);if(r){const o=this[r];if(!t)return o;if(t===!0)return aR(o);if(H.isFunction(t))return t.call(this,o,r);if(H.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=vl(e),e){const r=H.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||xf(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let o=!1;function a(u){if(u=vl(u),u){const d=H.findKey(r,u);d&&(!t||xf(r,r[d],d,t))&&(delete r[d],o=!0)}}return H.isArray(e)?e.forEach(a):a(e),o}clear(e){const t=Object.keys(this);let r=t.length,o=!1;for(;r--;){const a=t[r];(!e||xf(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const t=this,r={};return H.forEach(this,(o,a)=>{const u=H.findKey(r,a);if(u){t[u]=Vc(o),delete t[a];return}const d=e?uR(a):String(a).trim();d!==a&&delete t[a],t[d]=Vc(o),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return H.forEach(this,(r,o)=>{r!=null&&r!==!1&&(t[o]=e&&H.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[kv]=this[kv]={accessors:{}}).accessors,o=this.prototype;function a(u){const d=vl(u);r[d]||(cR(o,u),r[d]=!0)}return H.isArray(e)?e.forEach(a):a(e),this}};vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(vn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});H.freezeMethods(vn);function Sf(n,e){const t=this||Jl,r=e||t,o=vn.from(r.headers);let a=r.data;return H.forEach(n,function(d){a=d.call(t,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function ww(n){return!!(n&&n.__CANCEL__)}function pa(n,e,t){Ne.call(this,n??"canceled",Ne.ERR_CANCELED,e,t),this.name="CanceledError"}H.inherits(pa,Ne,{__CANCEL__:!0});function Ew(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ne("Request failed with status code "+t.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function hR(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function dR(n,e){n=n||10;const t=new Array(n),r=new Array(n);let o=0,a=0,u;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),v=r[a];u||(u=m),t[o]=f,r[o]=m;let w=a,I=0;for(;w!==o;)I+=t[w++],w=w%n;if(o=(o+1)%n,o===a&&(a=(a+1)%n),m-u<e)return;const j=v&&m-v;return j?Math.round(I*1e3/j):void 0}}function fR(n,e){let t=0,r=1e3/e,o,a;const u=(m,v=Date.now())=>{t=v,o=null,a&&(clearTimeout(a),a=null),n(...m)};return[(...m)=>{const v=Date.now(),w=v-t;w>=r?u(m,v):(o=m,a||(a=setTimeout(()=>{a=null,u(o)},r-w)))},()=>o&&u(o)]}const Xc=(n,e,t=3)=>{let r=0;const o=dR(50,250);return fR(a=>{const u=a.loaded,d=a.lengthComputable?a.total:void 0,f=u-r,m=o(f),v=u<=d;r=u;const w={loaded:u,total:d,progress:d?u/d:void 0,bytes:f,rate:m||void 0,estimated:m&&d&&v?(d-u)/m:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(w)},t)},Pv=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},Nv=n=>(...e)=>H.asap(()=>n(...e)),pR=Jt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Jt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Jt.origin),Jt.navigator&&/(msie|trident)/i.test(Jt.navigator.userAgent)):()=>!0,mR=Jt.hasStandardBrowserEnv?{write(n,e,t,r,o,a,u){if(typeof document>"u")return;const d=[`${n}=${encodeURIComponent(e)}`];H.isNumber(t)&&d.push(`expires=${new Date(t).toUTCString()}`),H.isString(r)&&d.push(`path=${r}`),H.isString(o)&&d.push(`domain=${o}`),a===!0&&d.push("secure"),H.isString(u)&&d.push(`SameSite=${u}`),document.cookie=d.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function gR(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function yR(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Tw(n,e,t){let r=!gR(e);return n&&(r||t==!1)?yR(n,e):e}const Ov=n=>n instanceof vn?{...n}:n;function zi(n,e){e=e||{};const t={};function r(m,v,w,I){return H.isPlainObject(m)&&H.isPlainObject(v)?H.merge.call({caseless:I},m,v):H.isPlainObject(v)?H.merge({},v):H.isArray(v)?v.slice():v}function o(m,v,w,I){if(H.isUndefined(v)){if(!H.isUndefined(m))return r(void 0,m,w,I)}else return r(m,v,w,I)}function a(m,v){if(!H.isUndefined(v))return r(void 0,v)}function u(m,v){if(H.isUndefined(v)){if(!H.isUndefined(m))return r(void 0,m)}else return r(void 0,v)}function d(m,v,w){if(w in e)return r(m,v);if(w in n)return r(void 0,m)}const f={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(m,v,w)=>o(Ov(m),Ov(v),w,!0)};return H.forEach(Object.keys({...n,...e}),function(v){const w=f[v]||o,I=w(n[v],e[v],v);H.isUndefined(I)&&w!==d||(t[v]=I)}),t}const Iw=n=>{const e=zi({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:u,auth:d}=e;if(e.headers=u=vn.from(u),e.url=yw(Tw(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),H.isFormData(t)){if(Jt.hasStandardBrowserEnv||Jt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(H.isFunction(t.getHeaders)){const f=t.getHeaders(),m=["content-type","content-length"];Object.entries(f).forEach(([v,w])=>{m.includes(v.toLowerCase())&&u.set(v,w)})}}if(Jt.hasStandardBrowserEnv&&(r&&H.isFunction(r)&&(r=r(e)),r||r!==!1&&pR(e.url))){const f=o&&a&&mR.read(a);f&&u.set(o,f)}return e},vR=typeof XMLHttpRequest<"u",_R=vR&&function(n){return new Promise(function(t,r){const o=Iw(n);let a=o.data;const u=vn.from(o.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:m}=o,v,w,I,j,k;function N(){j&&j(),k&&k(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let b=new XMLHttpRequest;b.open(o.method.toUpperCase(),o.url,!0),b.timeout=o.timeout;function X(){if(!b)return;const J=vn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),ue={data:!d||d==="text"||d==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:J,config:n,request:b};Ew(function(P){t(P),N()},function(P){r(P),N()},ue),b=null}"onloadend"in b?b.onloadend=X:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(X)},b.onabort=function(){b&&(r(new Ne("Request aborted",Ne.ECONNABORTED,n,b)),b=null)},b.onerror=function(Y){const ue=Y&&Y.message?Y.message:"Network Error",de=new Ne(ue,Ne.ERR_NETWORK,n,b);de.event=Y||null,r(de),b=null},b.ontimeout=function(){let Y=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ue=o.transitional||vw;o.timeoutErrorMessage&&(Y=o.timeoutErrorMessage),r(new Ne(Y,ue.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,n,b)),b=null},a===void 0&&u.setContentType(null),"setRequestHeader"in b&&H.forEach(u.toJSON(),function(Y,ue){b.setRequestHeader(ue,Y)}),H.isUndefined(o.withCredentials)||(b.withCredentials=!!o.withCredentials),d&&d!=="json"&&(b.responseType=o.responseType),m&&([I,k]=Xc(m,!0),b.addEventListener("progress",I)),f&&b.upload&&([w,j]=Xc(f),b.upload.addEventListener("progress",w),b.upload.addEventListener("loadend",j)),(o.cancelToken||o.signal)&&(v=J=>{b&&(r(!J||J.type?new pa(null,n,b):J),b.abort(),b=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const Q=hR(o.url);if(Q&&Jt.protocols.indexOf(Q)===-1){r(new Ne("Unsupported protocol "+Q+":",Ne.ERR_BAD_REQUEST,n));return}b.send(a||null)})},wR=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,o;const a=function(m){if(!o){o=!0,d();const v=m instanceof Error?m:this.reason;r.abort(v instanceof Ne?v:new pa(v instanceof Error?v.message:v))}};let u=e&&setTimeout(()=>{u=null,a(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const d=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),n=null)};n.forEach(m=>m.addEventListener("abort",a));const{signal:f}=r;return f.unsubscribe=()=>H.asap(d),f}},ER=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,o;for(;r<t;)o=r+e,yield n.slice(r,o),r=o},TR=async function*(n,e){for await(const t of IR(n))yield*ER(t,e)},IR=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Dv=(n,e,t,r)=>{const o=TR(n,e);let a=0,u,d=f=>{u||(u=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:m,value:v}=await o.next();if(m){d(),f.close();return}let w=v.byteLength;if(t){let I=a+=w;t(I)}f.enqueue(new Uint8Array(v))}catch(m){throw d(m),m}},cancel(f){return d(f),o.return()}},{highWaterMark:2})},Lv=64*1024,{isFunction:Sc}=H,xR=(({Request:n,Response:e})=>({Request:n,Response:e}))(H.global),{ReadableStream:Vv,TextEncoder:Mv}=H.global,jv=(n,...e)=>{try{return!!n(...e)}catch{return!1}},SR=n=>{n=H.merge.call({skipUndefined:!0},xR,n);const{fetch:e,Request:t,Response:r}=n,o=e?Sc(e):typeof fetch=="function",a=Sc(t),u=Sc(r);if(!o)return!1;const d=o&&Sc(Vv),f=o&&(typeof Mv=="function"?(k=>N=>k.encode(N))(new Mv):async k=>new Uint8Array(await new t(k).arrayBuffer())),m=a&&d&&jv(()=>{let k=!1;const N=new t(Jt.origin,{body:new Vv,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!N}),v=u&&d&&jv(()=>H.isReadableStream(new r("").body)),w={stream:v&&(k=>k.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!w[k]&&(w[k]=(N,b)=>{let X=N&&N[k];if(X)return X.call(N);throw new Ne(`Response type '${k}' is not supported`,Ne.ERR_NOT_SUPPORT,b)})});const I=async k=>{if(k==null)return 0;if(H.isBlob(k))return k.size;if(H.isSpecCompliantForm(k))return(await new t(Jt.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(H.isArrayBufferView(k)||H.isArrayBuffer(k))return k.byteLength;if(H.isURLSearchParams(k)&&(k=k+""),H.isString(k))return(await f(k)).byteLength},j=async(k,N)=>{const b=H.toFiniteNumber(k.getContentLength());return b??I(N)};return async k=>{let{url:N,method:b,data:X,signal:Q,cancelToken:J,timeout:Y,onDownloadProgress:ue,onUploadProgress:de,responseType:P,headers:S,withCredentials:R="same-origin",fetchOptions:O}=Iw(k),L=e||fetch;P=P?(P+"").toLowerCase():"text";let U=wR([Q,J&&J.toAbortSignal()],Y),A=null;const Fe=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let xe;try{if(de&&m&&b!=="get"&&b!=="head"&&(xe=await j(S,X))!==0){let F=new t(N,{method:"POST",body:X,duplex:"half"}),G;if(H.isFormData(X)&&(G=F.headers.get("content-type"))&&S.setContentType(G),F.body){const[oe,we]=Pv(xe,Xc(Nv(de)));X=Dv(F.body,Lv,oe,we)}}H.isString(R)||(R=R?"include":"omit");const Pe=a&&"credentials"in t.prototype,Oe={...O,signal:U,method:b.toUpperCase(),headers:S.normalize().toJSON(),body:X,duplex:"half",credentials:Pe?R:void 0};A=a&&new t(N,Oe);let K=await(a?L(A,O):L(N,Oe));const _e=v&&(P==="stream"||P==="response");if(v&&(ue||_e&&Fe)){const F={};["status","statusText","headers"].forEach(Ce=>{F[Ce]=K[Ce]});const G=H.toFiniteNumber(K.headers.get("content-length")),[oe,we]=ue&&Pv(G,Xc(Nv(ue),!0))||[];K=new r(Dv(K.body,Lv,oe,()=>{we&&we(),Fe&&Fe()}),F)}P=P||"text";let ae=await w[H.findKey(w,P)||"text"](K,k);return!_e&&Fe&&Fe(),await new Promise((F,G)=>{Ew(F,G,{data:ae,headers:vn.from(K.headers),status:K.status,statusText:K.statusText,config:k,request:A})})}catch(Pe){throw Fe&&Fe(),Pe&&Pe.name==="TypeError"&&/Load failed|fetch/i.test(Pe.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,k,A),{cause:Pe.cause||Pe}):Ne.from(Pe,Pe&&Pe.code,k,A)}}},bR=new Map,xw=n=>{let e=n&&n.env||{};const{fetch:t,Request:r,Response:o}=e,a=[r,o,t];let u=a.length,d=u,f,m,v=bR;for(;d--;)f=a[d],m=v.get(f),m===void 0&&v.set(f,m=d?new Map:SR(e)),v=m;return m};xw();const Kp={http:$b,xhr:_R,fetch:{get:xw}};H.forEach(Kp,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Fv=n=>`- ${n}`,RR=n=>H.isFunction(n)||n===null||n===!1;function CR(n,e){n=H.isArray(n)?n:[n];const{length:t}=n;let r,o;const a={};for(let u=0;u<t;u++){r=n[u];let d;if(o=r,!RR(r)&&(o=Kp[(d=String(r)).toLowerCase()],o===void 0))throw new Ne(`Unknown adapter '${d}'`);if(o&&(H.isFunction(o)||(o=o.get(e))))break;a[d||"#"+u]=o}if(!o){const u=Object.entries(a).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=t?u.length>1?`since :
`+u.map(Fv).join(`
`):" "+Fv(u[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o}const Sw={getAdapter:CR,adapters:Kp};function bf(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new pa(null,n)}function Uv(n){return bf(n),n.headers=vn.from(n.headers),n.data=Sf.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Sw.getAdapter(n.adapter||Jl.adapter,n)(n).then(function(r){return bf(n),r.data=Sf.call(n,n.transformResponse,r),r.headers=vn.from(r.headers),r},function(r){return ww(r)||(bf(n),r&&r.response&&(r.response.data=Sf.call(n,n.transformResponse,r.response),r.response.headers=vn.from(r.response.headers))),Promise.reject(r)})}const bw="1.13.2",xh={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{xh[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const zv={};xh.transitional=function(e,t,r){function o(a,u){return"[Axios v"+bw+"] Transitional option '"+a+"'"+u+(r?". "+r:"")}return(a,u,d)=>{if(e===!1)throw new Ne(o(u," has been removed"+(t?" in "+t:"")),Ne.ERR_DEPRECATED);return t&&!zv[u]&&(zv[u]=!0,console.warn(o(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,u,d):!0}};xh.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function AR(n,e,t){if(typeof n!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let o=r.length;for(;o-- >0;){const a=r[o],u=e[a];if(u){const d=n[a],f=d===void 0||u(d,a,n);if(f!==!0)throw new Ne("option "+a+" must be "+f,Ne.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ne("Unknown option "+a,Ne.ERR_BAD_OPTION)}}const Mc={assertOptions:AR,validators:xh},vr=Mc.validators;let Vi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Av,response:new Av}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=zi(this.defaults,t);const{transitional:r,paramsSerializer:o,headers:a}=t;r!==void 0&&Mc.assertOptions(r,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean)},!1),o!=null&&(H.isFunction(o)?t.paramsSerializer={serialize:o}:Mc.assertOptions(o,{encode:vr.function,serialize:vr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Mc.assertOptions(t,{baseUrl:vr.spelling("baseURL"),withXsrfToken:vr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=a&&H.merge(a.common,a[t.method]);a&&H.forEach(["delete","get","head","post","put","patch","common"],k=>{delete a[k]}),t.headers=vn.concat(u,a);const d=[];let f=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(t)===!1||(f=f&&N.synchronous,d.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let v,w=0,I;if(!f){const k=[Uv.bind(this),void 0];for(k.unshift(...d),k.push(...m),I=k.length,v=Promise.resolve(t);w<I;)v=v.then(k[w++],k[w++]);return v}I=d.length;let j=t;for(;w<I;){const k=d[w++],N=d[w++];try{j=k(j)}catch(b){N.call(this,b);break}}try{v=Uv.call(this,j)}catch(k){return Promise.reject(k)}for(w=0,I=m.length;w<I;)v=v.then(m[w++],m[w++]);return v}getUri(e){e=zi(this.defaults,e);const t=Tw(e.baseURL,e.url,e.allowAbsoluteUrls);return yw(t,e.params,e.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(e){Vi.prototype[e]=function(t,r){return this.request(zi(r||{},{method:e,url:t,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(e){function t(r){return function(a,u,d){return this.request(zi(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}Vi.prototype[e]=t(),Vi.prototype[e+"Form"]=t(!0)});let kR=class Rw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const u=new Promise(d=>{r.subscribe(d),a=d}).then(o);return u.cancel=function(){r.unsubscribe(a)},u},e(function(a,u,d){r.reason||(r.reason=new pa(a,u,d),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Rw(function(o){e=o}),cancel:e}}};function PR(n){return function(t){return n.apply(null,t)}}function NR(n){return H.isObject(n)&&n.isAxiosError===!0}const rp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rp).forEach(([n,e])=>{rp[e]=n});function Cw(n){const e=new Vi(n),t=iw(Vi.prototype.request,e);return H.extend(t,Vi.prototype,e,{allOwnKeys:!0}),H.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return Cw(zi(n,o))},t}const mt=Cw(Jl);mt.Axios=Vi;mt.CanceledError=pa;mt.CancelToken=kR;mt.isCancel=ww;mt.VERSION=bw;mt.toFormData=Ih;mt.AxiosError=Ne;mt.Cancel=mt.CanceledError;mt.all=function(e){return Promise.all(e)};mt.spread=PR;mt.isAxiosError=NR;mt.mergeConfig=zi;mt.AxiosHeaders=vn;mt.formToJSON=n=>_w(H.isHTMLForm(n)?new FormData(n):n);mt.getAdapter=Sw.getAdapter;mt.HttpStatusCode=rp;mt.default=mt;const{Axios:rV,AxiosError:sV,CanceledError:iV,isCancel:oV,CancelToken:aV,VERSION:lV,all:uV,Cancel:cV,isAxiosError:hV,spread:dV,toFormData:fV,AxiosHeaders:pV,HttpStatusCode:mV,formToJSON:gV,getAdapter:yV,mergeConfig:vV}=mt,OR=()=>{};var Bv={};const Aw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},DR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,w=(a&3)<<4|d>>4;let I=(d&15)<<2|m>>6,j=m&63;f||(j=64,u||(I=64)),r.push(t[v],t[w],t[I],t[j])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Aw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):DR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new LR;const I=a<<2|d>>4;if(r.push(I),m!==64){const j=d<<4&240|m>>2;if(r.push(j),w!==64){const k=m<<6&192|w;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class LR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VR=function(n){const e=Aw(n);return kw.encodeByteArray(e,!0)},Yc=function(n){return VR(n).replace(/\./g,"")},Pw=function(n){try{return kw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function MR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jR=()=>MR().__FIREBASE_DEFAULTS__,FR=()=>{if(typeof process>"u"||typeof Bv>"u")return;const n=Bv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},UR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Pw(n[1]);return e&&JSON.parse(e)},Sh=()=>{try{return OR()||jR()||FR()||UR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Nw=n=>{var e,t;return(t=(e=Sh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ow=n=>{const e=Nw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Dw=()=>{var n;return(n=Sh())===null||n===void 0?void 0:n.config},Lw=n=>{var e;return(e=Sh())===null||e===void 0?void 0:e[`_${n}`]};class zR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Ki(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gp(n){return(await fetch(n,{credentials:"include"})).ok}function Vw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yc(JSON.stringify(t)),Yc(JSON.stringify(u)),""].join(".")}const bl={};function BR(){const n={prod:[],emulator:[]};for(const e of Object.keys(bl))bl[e]?n.emulator.push(e):n.prod.push(e);return n}function $R(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let $v=!1;function Qp(n,e){if(typeof window>"u"||typeof document>"u"||!Ki(window.location.host)||bl[n]===e||bl[n]||$v)return;bl[n]=e;function t(I){return`__firebase__banner__${I}`}const r="__firebase__banner",a=BR().prod.length>0;function u(){const I=document.getElementById(r);I&&I.remove()}function d(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function f(I,j){I.setAttribute("width","24"),I.setAttribute("id",j),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function m(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{$v=!0,u()},I}function v(I,j){I.setAttribute("id",j),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function w(){const I=$R(r),j=t("text"),k=document.getElementById(j)||document.createElement("span"),N=t("learnmore"),b=document.getElementById(N)||document.createElement("a"),X=t("preprendIcon"),Q=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const J=I.element;d(J),v(b,N);const Y=m();f(Q,X),J.append(Q,k,b,Y),document.body.appendChild(J)}a?(k.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function HR(){var n;const e=(n=Sh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function GR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QR(){const n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JR(){return!HR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XR(){try{return typeof indexedDB=="object"}catch{return!1}}function YR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}const ZR="FirebaseError";class kr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ZR,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?eC(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new kr(o,d,r)}}function eC(n,e){return n.replace(tC,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const tC=/\{\$([^}]+)}/g;function nC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Bi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(qv(a)&&qv(u)){if(!Bi(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function qv(n){return n!==null&&typeof n=="object"}function Yl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function El(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function rC(n,e){const t=new sC(n,e);return t.subscribe.bind(t)}class sC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");iC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Rf),o.error===void 0&&(o.error=Rf),o.complete===void 0&&(o.complete=Rf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Rf(){}function on(n){return n&&n._delegate?n._delegate:n}class Ws{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ni="[DEFAULT]";class oC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new zR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lC(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aC(n){return n===Ni?void 0:n}function lC(n){return n.instantiationMode==="EAGER"}class uC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const cC={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},hC=je.INFO,dC={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},fC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=dC[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jp{constructor(e){this.name=e,this._logLevel=hC,this._logHandler=fC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const pC=(n,e)=>e.some(t=>n instanceof t);let Hv,Wv;function mC(){return Hv||(Hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gC(){return Wv||(Wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mw=new WeakMap,sp=new WeakMap,jw=new WeakMap,Cf=new WeakMap,Xp=new WeakMap;function yC(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Us(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Mw.set(t,n)}).catch(()=>{}),Xp.set(e,n),e}function vC(n){if(sp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});sp.set(n,e)}let ip={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||jw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Us(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _C(n){ip=n(ip)}function wC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Af(this),e,...t);return jw.set(r,e.sort?e.sort():[e]),Us(r)}:gC().includes(n)?function(...e){return n.apply(Af(this),e),Us(Mw.get(this))}:function(...e){return Us(n.apply(Af(this),e))}}function EC(n){return typeof n=="function"?wC(n):(n instanceof IDBTransaction&&vC(n),pC(n,mC())?new Proxy(n,ip):n)}function Us(n){if(n instanceof IDBRequest)return yC(n);if(Cf.has(n))return Cf.get(n);const e=EC(n);return e!==n&&(Cf.set(n,e),Xp.set(e,n)),e}const Af=n=>Xp.get(n);function TC(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=Us(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Us(u.result),f.oldVersion,f.newVersion,Us(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const IC=["get","getKey","getAll","getAllKeys","count"],xC=["put","add","delete","clear"],kf=new Map;function Kv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=xC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||IC.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return kf.set(e,a),a}_C(n=>({...n,get:(e,t,r)=>Kv(e,t)||n.get(e,t,r),has:(e,t)=>!!Kv(e,t)||n.has(e,t)}));class SC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function bC(n){const e=n.getComponent();return e?.type==="VERSION"}const op="@firebase/app",Gv="0.13.2";const Yr=new Jp("@firebase/app"),RC="@firebase/app-compat",CC="@firebase/analytics-compat",AC="@firebase/analytics",kC="@firebase/app-check-compat",PC="@firebase/app-check",NC="@firebase/auth",OC="@firebase/auth-compat",DC="@firebase/database",LC="@firebase/data-connect",VC="@firebase/database-compat",MC="@firebase/functions",jC="@firebase/functions-compat",FC="@firebase/installations",UC="@firebase/installations-compat",zC="@firebase/messaging",BC="@firebase/messaging-compat",$C="@firebase/performance",qC="@firebase/performance-compat",HC="@firebase/remote-config",WC="@firebase/remote-config-compat",KC="@firebase/storage",GC="@firebase/storage-compat",QC="@firebase/firestore",JC="@firebase/ai",XC="@firebase/firestore-compat",YC="firebase",ZC="11.10.0";const ap="[DEFAULT]",eA={[op]:"fire-core",[RC]:"fire-core-compat",[AC]:"fire-analytics",[CC]:"fire-analytics-compat",[PC]:"fire-app-check",[kC]:"fire-app-check-compat",[NC]:"fire-auth",[OC]:"fire-auth-compat",[DC]:"fire-rtdb",[LC]:"fire-data-connect",[VC]:"fire-rtdb-compat",[MC]:"fire-fn",[jC]:"fire-fn-compat",[FC]:"fire-iid",[UC]:"fire-iid-compat",[zC]:"fire-fcm",[BC]:"fire-fcm-compat",[$C]:"fire-perf",[qC]:"fire-perf-compat",[HC]:"fire-rc",[WC]:"fire-rc-compat",[KC]:"fire-gcs",[GC]:"fire-gcs-compat",[QC]:"fire-fst",[XC]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[YC]:"fire-js-all"};const Ml=new Map,tA=new Map,lp=new Map;function Qv(n,e){try{n.container.addComponent(e)}catch(t){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $i(n){const e=n.name;if(lp.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,n);for(const t of Ml.values())Qv(t,n);for(const t of tA.values())Qv(t,n);return!0}function bh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function jn(n){return n==null?!1:n.settings!==void 0}const nA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new Xl("app","Firebase",nA);class rA{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}const Gi=ZC;function Fw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ap,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw zs.create("bad-app-name",{appName:String(o)});if(t||(t=Dw()),!t)throw zs.create("no-options");const a=Ml.get(o);if(a){if(Bi(t,a.options)&&Bi(r,a.config))return a;throw zs.create("duplicate-app",{appName:o})}const u=new uC(o);for(const f of lp.values())u.addComponent(f);const d=new rA(t,r,u);return Ml.set(o,d),d}function Rh(n=ap){const e=Ml.get(n);if(!e&&n===ap&&Dw())return Fw();if(!e)throw zs.create("no-app",{appName:n});return e}function sA(){return Array.from(Ml.values())}function Er(n,e,t){var r;let o=(r=eA[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(d.join(" "));return}$i(new Ws(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const iA="firebase-heartbeat-database",oA=1,jl="firebase-heartbeat-store";let Pf=null;function Uw(){return Pf||(Pf=TC(iA,oA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jl)}catch(t){console.warn(t)}}}}).catch(n=>{throw zs.create("idb-open",{originalErrorMessage:n.message})})),Pf}async function aA(n){try{const t=(await Uw()).transaction(jl),r=await t.objectStore(jl).get(zw(n));return await t.done,r}catch(e){if(e instanceof kr)Yr.warn(e.message);else{const t=zs.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(t.message)}}}async function Jv(n,e){try{const r=(await Uw()).transaction(jl,"readwrite");await r.objectStore(jl).put(e,zw(n)),await r.done}catch(t){if(t instanceof kr)Yr.warn(t.message);else{const r=zs.create("idb-set",{originalErrorMessage:t?.message});Yr.warn(r.message)}}}function zw(n){return`${n.name}!${n.options.appId}`}const lA=1024,uA=30;class cA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Xv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>uA){const u=fA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Xv(),{heartbeatsToSend:r,unsentEntries:o}=hA(this._heartbeatsCache.heartbeats),a=Yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Yr.warn(t),""}}}function Xv(){return new Date().toISOString().substring(0,10)}function hA(n,e=lA){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Yv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Yv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class dA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XR()?YR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Yv(n){return Yc(JSON.stringify({version:2,heartbeats:n})).length}function fA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function pA(n){$i(new Ws("platform-logger",e=>new SC(e),"PRIVATE")),$i(new Ws("heartbeat",e=>new cA(e),"PRIVATE")),Er(op,Gv,n),Er(op,Gv,"esm2017"),Er("fire-js","")}pA("");function Yp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function Bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mA=Bw,$w=new Xl("auth","Firebase",Bw());const Zc=new Jp("@firebase/auth");function gA(n,...e){Zc.logLevel<=je.WARN&&Zc.warn(`Auth (${Gi}): ${n}`,...e)}function jc(n,...e){Zc.logLevel<=je.ERROR&&Zc.error(`Auth (${Gi}): ${n}`,...e)}function sr(n,...e){throw Zp(n,...e)}function Tr(n,...e){return Zp(n,...e)}function qw(n,e,t){const r=Object.assign(Object.assign({},mA()),{[e]:t});return new Xl("auth","Firebase",r).create(e,{appName:n.name})}function Bs(n){return qw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return $w.create(n,...e)}function be(n,e,...t){if(!n)throw Zp(e,...t)}function Jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw jc(e),new Error(e)}function Zr(n,e){n||Jr(e)}function up(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function yA(){return Zv()==="http:"||Zv()==="https:"}function Zv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function vA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yA()||KR()||"connection"in navigator)?navigator.onLine:!0}function _A(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Zl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zr(t>e,"Short delay should be less than long delay!"),this.isMobile=qR()||GR()}get(){return vA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function em(n,e){Zr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Hw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const EA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TA=new Zl(3e4,6e4);function ni(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function rs(n,e,t,r,o={}){return Ww(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=Yl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return WR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Ki(n.emulatorConfig.host)&&(m.credentials="include"),Hw.fetch()(await Kw(n,n.config.apiHost,t,d),m)})}async function Ww(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},wA),e);try{const o=new xA(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw bc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw bc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw bc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw qw(n,v,m);sr(n,v)}}catch(o){if(o instanceof kr)throw o;sr(n,"network-request-failed",{message:String(o)})}}async function Ch(n,e,t,r,o={}){const a=await rs(n,e,t,r,o);return"mfaPendingCredential"in a&&sr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Kw(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?em(n.config,o):`${n.config.apiScheme}://${o}`;return EA.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function IA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),TA.get())})}}function bc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Tr(n,e,r);return o.customData._tokenResponse=t,o}function e_(n){return n!==void 0&&n.enterprise!==void 0}class SA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return IA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bA(n,e){return rs(n,"GET","/v2/recaptchaConfig",ni(n,e))}async function RA(n,e){return rs(n,"POST","/v1/accounts:delete",e)}async function eh(n,e){return rs(n,"POST","/v1/accounts:lookup",e)}function Rl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Gw(n,e=!1){return on(n).getIdToken(e)}async function CA(n,e=!1){const t=on(n),r=await t.getIdToken(e),o=tm(r);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Rl(Nf(o.auth_time)),issuedAtTime:Rl(Nf(o.iat)),expirationTime:Rl(Nf(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Nf(n){return Number(n)*1e3}function tm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Pw(t);return o?JSON.parse(o):(jc("Failed to decode base64 JWT payload"),null)}catch(o){return jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function t_(n){const e=tm(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof kr&&AA(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function AA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class kA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function th(n){var e;const t=n.auth,r=await n.getIdToken(),o=await Fl(n,eh(t,{idToken:r}));be(o?.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Qw(a.providerUserInfo):[],d=NA(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!d?.length,v=f?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new cp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function PA(n){const e=on(n);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NA(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Qw(n){return n.map(e=>{var{providerId:t}=e,r=Yp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function OA(n,e){const t=await Ww(n,{},async()=>{const r=Yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await Kw(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&Ki(n.emulatorConfig.host)&&(f.credentials="include"),Hw.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function DA(n,e){return rs(n,"POST","/v2/accounts:revokeToken",ni(n,e))}class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=t_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await OA(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Qo;return r&&(be(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(be(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(be(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return Jr("not implemented")}}function As(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class nr{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=Yp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new cp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CA(this,e)}reload(){return PA(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Bs(this.auth));const e=await this.getIdToken();return await Fl(this,RA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,d,f,m,v;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,j=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,k=(u=t.photoURL)!==null&&u!==void 0?u:void 0,N=(d=t.tenantId)!==null&&d!==void 0?d:void 0,b=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,X=(m=t.createdAt)!==null&&m!==void 0?m:void 0,Q=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:J,emailVerified:Y,isAnonymous:ue,providerData:de,stsTokenManager:P}=t;be(J&&P,e,"internal-error");const S=Qo.fromJSON(this.name,P);be(typeof J=="string",e,"internal-error"),As(w,e.name),As(I,e.name),be(typeof Y=="boolean",e,"internal-error"),be(typeof ue=="boolean",e,"internal-error"),As(j,e.name),As(k,e.name),As(N,e.name),As(b,e.name),As(X,e.name),As(Q,e.name);const R=new nr({uid:J,auth:e,email:I,emailVerified:Y,displayName:w,isAnonymous:ue,photoURL:k,phoneNumber:j,tenantId:N,stsTokenManager:S,createdAt:X,lastLoginAt:Q});return de&&Array.isArray(de)&&(R.providerData=de.map(O=>Object.assign({},O))),b&&(R._redirectEventId=b),R}static async _fromIdTokenResponse(e,t,r=!1){const o=new Qo;o.updateFromServerResponse(t);const a=new nr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await th(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];be(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Qw(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,d=new Qo;d.updateFromIdToken(r);const f=new nr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}const n_=new Map;function Xr(n){Zr(n instanceof Function,"Expected a class definition");let e=n_.get(n);return e?(Zr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,n_.set(n,e),e)}class Jw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Jw.type="NONE";const r_=Jw;function Fc(n,e,t){return`firebase:${n}:${e}:${t}`}class Jo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Fc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Fc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await eh(this.auth,{idToken:e}).catch(()=>{});return t?nr._fromGetAccountInfoResponse(this.auth,t,e):null}return nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Jo(Xr(r_),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Xr(r_);const u=Fc(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(u);if(v){let w;if(typeof v=="string"){const I=await eh(e,{idToken:v}).catch(()=>{});if(!I)break;w=await nr._fromGetAccountInfoResponse(e,I,v)}else w=nr._fromJSON(e,v);m!==a&&(d=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Jo(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Jo(a,e,r))}}function s_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nE(e))return"Blackberry";if(rE(e))return"Webos";if(Yw(e))return"Safari";if((e.includes("chrome/")||Zw(e))&&!e.includes("edge/"))return"Chrome";if(tE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Xw(n=Yt()){return/firefox\//i.test(n)}function Yw(n=Yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zw(n=Yt()){return/crios\//i.test(n)}function eE(n=Yt()){return/iemobile/i.test(n)}function tE(n=Yt()){return/android/i.test(n)}function nE(n=Yt()){return/blackberry/i.test(n)}function rE(n=Yt()){return/webos/i.test(n)}function nm(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LA(n=Yt()){var e;return nm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VA(){return QR()&&document.documentMode===10}function sE(n=Yt()){return nm(n)||tE(n)||rE(n)||nE(n)||/windows phone/i.test(n)||eE(n)}function iE(n,e=[]){let t;switch(n){case"Browser":t=s_(Yt());break;case"Worker":t=`${s_(Yt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Gi}/${r}`}class MA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function jA(n,e={}){return rs(n,"GET","/v2/passwordPolicy",ni(n,e))}const FA=6;class UA{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:FA,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class zA{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i_(this),this.idTokenSubscription=new i_(this),this.beforeStateQueue=new MA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$w,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xr(t)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await eh(this,{idToken:e}),r=await nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o?._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&f?.user&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_A()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Bs(this));const t=e?on(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jA(this),t=new UA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await DA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xr(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[Xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&gA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Qi(n){return on(n)}class i_{constructor(e){this.auth=e,this.observer=null,this.addObserver=rC(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BA(n){Ah=n}function oE(n){return Ah.loadJS(n)}function $A(){return Ah.recaptchaEnterpriseScript}function qA(){return Ah.gapiScript}function HA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class WA{constructor(){this.enterprise=new KA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class KA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const GA="recaptcha-enterprise",aE="NO_RECAPTCHA";class QA{constructor(e){this.type=GA,this.auth=Qi(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{bA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new SA(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function o(a,u,d){const f=window.grecaptcha;e_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(aE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WA().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&e_(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=$A();f.length!==0&&(f+=d),oE(f).then(()=>{o(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function o_(n,e,t,r=!1,o=!1){const a=new QA(n);let u;if(o)u=aE;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function hp(n,e,t,r,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await o_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await o_(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}function JA(n,e){const t=bh(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Bi(a,e??{}))return o;sr(o,"already-initialized")}return t.initialize({options:e})}function XA(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Xr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function YA(n,e,t){const r=Qi(n);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=lE(e),{host:u,port:d}=ZA(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(Bi(m,r.config.emulator)&&Bi(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Ki(u)?(Gp(`${a}//${u}${f}`),Qp("Auth",!0)):ek()}function lE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ZA(n){const e=lE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:a_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:a_(u)}}}function a_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ek(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class rm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function tk(n,e){return rs(n,"POST","/v1/accounts:signUp",e)}async function nk(n,e){return Ch(n,"POST","/v1/accounts:signInWithPassword",ni(n,e))}async function rk(n,e){return rs(n,"POST","/v1/accounts:sendOobCode",ni(n,e))}async function sk(n,e){return rk(n,e)}async function ik(n,e){return Ch(n,"POST","/v1/accounts:signInWithEmailLink",ni(n,e))}async function ok(n,e){return Ch(n,"POST","/v1/accounts:signInWithEmailLink",ni(n,e))}class Ul extends rm{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ul(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ul(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,t,"signInWithPassword",nk);case"emailLink":return ik(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,r,"signUpPassword",tk);case"emailLink":return ok(e,{idToken:t,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xo(n,e){return Ch(n,"POST","/v1/accounts:signInWithIdp",ni(n,e))}const ak="http://localhost";class qi extends rm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=Yp(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new qi(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Xo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Xo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xo(e,t)}buildRequest(){const e={requestUri:ak,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yl(t)}return e}}function lk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uk(n){const e=wl(El(n)).link,t=e?wl(El(e)).deep_link_id:null,r=wl(El(n)).deep_link_id;return(r?wl(El(r)).link:null)||r||t||e||n}class sm{constructor(e){var t,r,o,a,u,d;const f=wl(El(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(r=f.oobCode)!==null&&r!==void 0?r:null,w=lk((o=f.mode)!==null&&o!==void 0?o:null);be(m&&v&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=uk(e);try{return new sm(t)}catch{return null}}}class ma{constructor(){this.providerId=ma.PROVIDER_ID}static credential(e,t){return Ul._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=sm.parseLink(t);return be(r,"argument-error"),Ul._fromEmailAndCode(e,r.code,r.tenantId)}}ma.PROVIDER_ID="password";ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class uE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends uE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ps extends eu{constructor(){super("facebook.com")}static credential(e){return qi._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class Ns extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qi._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ns.credential(t,r)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";class Os extends eu{constructor(){super("github.com")}static credential(e){return qi._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";class Ds extends eu{constructor(){super("twitter.com")}static credential(e,t){return qi._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ds.credential(t,r)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await nr._fromIdTokenResponse(e,r,o),u=l_(r);return new ra({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=l_(r);return new ra({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function l_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class nh extends kr{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new nh(e,t,r,o)}}function cE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(n,a,e,r):a})}async function ck(n,e,t=!1){const r=await Fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ra._forOperation(n,"link",r)}async function hk(n,e,t=!1){const{auth:r}=n;if(jn(r.app))return Promise.reject(Bs(r));const o="reauthenticate";try{const a=await Fl(n,cE(r,o,e,n),t);be(a.idToken,r,"internal-error");const u=tm(a.idToken);be(u,r,"internal-error");const{sub:d}=u;return be(n.uid===d,r,"user-mismatch"),ra._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&sr(r,"user-mismatch"),a}}async function hE(n,e,t=!1){if(jn(n.app))return Promise.reject(Bs(n));const r="signIn",o=await cE(n,r,e),a=await ra._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function dk(n,e){return hE(Qi(n),e)}async function fk(n){const e=Qi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pk(n,e,t){const r=Qi(n);await hp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",sk)}function mk(n,e,t){return jn(n.app)?Promise.reject(Bs(n)):dk(on(n),ma.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fk(n),r})}function dE(n,e,t,r){return on(n).onIdTokenChanged(e,t,r)}function gk(n,e,t){return on(n).beforeAuthStateChanged(e,t)}function fE(n,e,t,r){return on(n).onAuthStateChanged(e,t,r)}const rh="__sak";class pE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yk=1e3,vk=10;class mE extends pE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);VA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vk):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},yk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mE.type="LOCAL";const _k=mE;class gE extends pE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gE.type="SESSION";const yE=gE;function wk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new kh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await wk(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];function im(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class Ek{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=im("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const I=w;if(I.data.eventId===m)switch(I.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Ir(){return window}function Tk(n){Ir().location.href=n}function vE(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function Ik(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xk(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Sk(){return vE()?self:null}const _E="firebaseLocalStorageDb",bk=1,sh="firebaseLocalStorage",wE="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ph(n,e){return n.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function Rk(){const n=indexedDB.deleteDatabase(_E);return new tu(n).toPromise()}function dp(){const n=indexedDB.open(_E,bk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(sh,{keyPath:wE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(sh)?e(r):(r.close(),await Rk(),e(await dp()))})})}async function u_(n,e,t){const r=Ph(n,!0).put({[wE]:e,value:t});return new tu(r).toPromise()}async function Ck(n,e){const t=Ph(n,!1).get(e),r=await new tu(t).toPromise();return r===void 0?null:r.value}function c_(n,e){const t=Ph(n,!0).delete(e);return new tu(t).toPromise()}const Ak=800,kk=3;class EE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>kk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(Sk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Ik(),!this.activeServiceWorker)return;this.sender=new Ek(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dp();return await u_(e,rh,"1"),await c_(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>u_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Ck(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>c_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Ph(o,!1).getAll();return new tu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ak)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EE.type="LOCAL";const Pk=EE;new Zl(3e4,6e4);function Nk(n,e){return e?Xr(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class om extends rm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ok(n){return hE(n.auth,new om(n),n.bypassAuthState)}function Dk(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),hk(t,new om(n),n.bypassAuthState)}async function Lk(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),ck(t,new om(n),n.bypassAuthState)}class TE{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ok;case"linkViaPopup":case"linkViaRedirect":return Lk;case"reauthViaPopup":case"reauthViaRedirect":return Dk;default:sr(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vk=new Zl(2e3,1e4);class Go extends TE{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Vk.get())};e()}}Go.currentPopupAction=null;const Mk="pendingRedirect",Uc=new Map;class jk extends TE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const r=await Fk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fk(n,e){const t=Bk(e),r=zk(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function Uk(n,e){Uc.set(n._key(),e)}function zk(n){return Xr(n._redirectPersistence)}function Bk(n){return Fc(Mk,n.config.apiKey,n.name)}async function $k(n,e,t=!1){if(jn(n.app))return Promise.reject(Bs(n));const r=Qi(n),o=Nk(r,e),u=await new jk(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const qk=600*1e3;class Hk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!IE(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Tr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qk&&this.cachedEventUids.clear(),this.cachedEventUids.has(h_(e))}saveEventToCache(e){this.cachedEventUids.add(h_(e)),this.lastProcessedEventTime=Date.now()}}function h_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function IE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Wk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IE(n);default:return!1}}async function Kk(n,e={}){return rs(n,"GET","/v1/projects",e)}const Gk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qk=/^https?/;async function Jk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Kk(n);for(const t of e)try{if(Xk(t))return}catch{}sr(n,"unauthorized-domain")}function Xk(n){const e=up(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Qk.test(t))return!1;if(Gk.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const Yk=new Zl(3e4,6e4);function d_(){const n=Ir().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Zk(n){return new Promise((e,t)=>{var r,o,a;function u(){d_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d_(),t(Tr(n,"network-request-failed"))},timeout:Yk.get()})}if(!((o=(r=Ir().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Ir().gapi)===null||a===void 0)&&a.load)u();else{const d=HA("iframefcb");return Ir()[d]=()=>{gapi.load?u():t(Tr(n,"network-request-failed"))},oE(`${qA()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw zc=null,e})}let zc=null;function eP(n){return zc=zc||Zk(n),zc}const tP=new Zl(5e3,15e3),nP="__/auth/iframe",rP="emulator/auth/iframe",sP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oP(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?em(e,rP):`https://${n.config.authDomain}/${nP}`,r={apiKey:e.apiKey,appName:n.name,v:Gi},o=iP.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Yl(r).slice(1)}`}async function aP(n){const e=await eP(n),t=Ir().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:oP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sP,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Tr(n,"network-request-failed"),d=Ir().setTimeout(()=>{a(u)},tP.get());function f(){Ir().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(u)})}))}const lP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uP=500,cP=600,hP="_blank",dP="http://localhost";class f_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fP(n,e,t,r=uP,o=cP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},lP),{width:r.toString(),height:o.toString(),top:a,left:u}),m=Yt().toLowerCase();t&&(d=Zw(m)?hP:t),Xw(m)&&(e=e||dP,f.scrollbars="yes");const v=Object.entries(f).reduce((I,[j,k])=>`${I}${j}=${k},`,"");if(LA(m)&&d!=="_self")return pP(e||"",d),new f_(null);const w=window.open(e||"",d,v);be(w,n,"popup-blocked");try{w.focus()}catch{}return new f_(w)}function pP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const mP="__/auth/handler",gP="emulator/auth/handler",yP=encodeURIComponent("fac");async function p_(n,e,t,r,o,a){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Gi,eventId:o};if(e instanceof uE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",nC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof eu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${yP}=${encodeURIComponent(f)}`:"";return`${vP(n)}?${Yl(d).slice(1)}${m}`}function vP({config:n}){return n.emulator?em(n,gP):`https://${n.authDomain}/${mP}`}const Of="webStorageSupport";class _P{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yE,this._completeRedirectFn=$k,this._overrideRedirectResult=Uk}async _openPopup(e,t,r,o){var a;Zr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await p_(e,t,r,up(),o);return fP(e,u,im())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await p_(e,t,r,up(),o);return Tk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Zr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await aP(e),r=new Hk(e);return t.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Of,{type:Of},o=>{var a;const u=(a=o?.[0])===null||a===void 0?void 0:a[Of];u!==void 0&&t(!!u),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Jk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sE()||Yw()||nm()}}const wP=_P;var m_="@firebase/auth",g_="1.10.8";class EP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IP(n){$i(new Ws("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;be(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iE(n)},m=new zA(r,o,a,f);return XA(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),$i(new Ws("auth-internal",e=>{const t=Qi(e.getProvider("auth").getImmediate());return(r=>new EP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(m_,g_,TP(n)),Er(m_,g_,"esm2017")}const xP=300,SP=Lw("authIdTokenMaxAge")||xP;let y_=null;const bP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>SP)return;const o=t?.token;y_!==o&&(y_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RP(n=Rh()){const e=bh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=JA(n,{popupRedirectResolver:wP,persistence:[Pk,_k,yE]}),r=Lw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=bP(a.toString());gk(t,u,()=>u(t.currentUser)),dE(t,d=>u(d))}}const o=Nw("auth");return o&&YA(t,`http://${o}`),t}function CP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}BA({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Tr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",CP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IP("Browser");const am="/api".trim?.()||"/api".trim?.()||"/api",xE=V.createContext({tenantId:null,setTenantId:()=>{}});let fp=null;const SE=()=>fp;function AP({children:n}){const[e,t]=V.useState(null),r=V.useCallback(a=>{fp=a||null,t(fp)},[]),o=V.useMemo(()=>({tenantId:e,setTenantId:r}),[e,r]);return T.jsx(xE.Provider,{value:o,children:n})}function _V(){return V.useContext(xE)}var kP="firebase",PP="11.10.0";Er(kP,PP,"app");var v_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $s,bE;(function(){var n;function e(P,S){function R(){}R.prototype=S.prototype,P.D=S.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(O,L,U){for(var A=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)A[Fe-2]=arguments[Fe];return S.prototype[L].apply(O,A)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)O[L]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(L=0;16>L;++L)O[L]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=P.g[0],R=P.g[1],L=P.g[2];var U=P.g[3],A=S+(U^R&(L^U))+O[0]+3614090360&4294967295;S=R+(A<<7&4294967295|A>>>25),A=U+(L^S&(R^L))+O[1]+3905402710&4294967295,U=S+(A<<12&4294967295|A>>>20),A=L+(R^U&(S^R))+O[2]+606105819&4294967295,L=U+(A<<17&4294967295|A>>>15),A=R+(S^L&(U^S))+O[3]+3250441966&4294967295,R=L+(A<<22&4294967295|A>>>10),A=S+(U^R&(L^U))+O[4]+4118548399&4294967295,S=R+(A<<7&4294967295|A>>>25),A=U+(L^S&(R^L))+O[5]+1200080426&4294967295,U=S+(A<<12&4294967295|A>>>20),A=L+(R^U&(S^R))+O[6]+2821735955&4294967295,L=U+(A<<17&4294967295|A>>>15),A=R+(S^L&(U^S))+O[7]+4249261313&4294967295,R=L+(A<<22&4294967295|A>>>10),A=S+(U^R&(L^U))+O[8]+1770035416&4294967295,S=R+(A<<7&4294967295|A>>>25),A=U+(L^S&(R^L))+O[9]+2336552879&4294967295,U=S+(A<<12&4294967295|A>>>20),A=L+(R^U&(S^R))+O[10]+4294925233&4294967295,L=U+(A<<17&4294967295|A>>>15),A=R+(S^L&(U^S))+O[11]+2304563134&4294967295,R=L+(A<<22&4294967295|A>>>10),A=S+(U^R&(L^U))+O[12]+1804603682&4294967295,S=R+(A<<7&4294967295|A>>>25),A=U+(L^S&(R^L))+O[13]+4254626195&4294967295,U=S+(A<<12&4294967295|A>>>20),A=L+(R^U&(S^R))+O[14]+2792965006&4294967295,L=U+(A<<17&4294967295|A>>>15),A=R+(S^L&(U^S))+O[15]+1236535329&4294967295,R=L+(A<<22&4294967295|A>>>10),A=S+(L^U&(R^L))+O[1]+4129170786&4294967295,S=R+(A<<5&4294967295|A>>>27),A=U+(R^L&(S^R))+O[6]+3225465664&4294967295,U=S+(A<<9&4294967295|A>>>23),A=L+(S^R&(U^S))+O[11]+643717713&4294967295,L=U+(A<<14&4294967295|A>>>18),A=R+(U^S&(L^U))+O[0]+3921069994&4294967295,R=L+(A<<20&4294967295|A>>>12),A=S+(L^U&(R^L))+O[5]+3593408605&4294967295,S=R+(A<<5&4294967295|A>>>27),A=U+(R^L&(S^R))+O[10]+38016083&4294967295,U=S+(A<<9&4294967295|A>>>23),A=L+(S^R&(U^S))+O[15]+3634488961&4294967295,L=U+(A<<14&4294967295|A>>>18),A=R+(U^S&(L^U))+O[4]+3889429448&4294967295,R=L+(A<<20&4294967295|A>>>12),A=S+(L^U&(R^L))+O[9]+568446438&4294967295,S=R+(A<<5&4294967295|A>>>27),A=U+(R^L&(S^R))+O[14]+3275163606&4294967295,U=S+(A<<9&4294967295|A>>>23),A=L+(S^R&(U^S))+O[3]+4107603335&4294967295,L=U+(A<<14&4294967295|A>>>18),A=R+(U^S&(L^U))+O[8]+1163531501&4294967295,R=L+(A<<20&4294967295|A>>>12),A=S+(L^U&(R^L))+O[13]+2850285829&4294967295,S=R+(A<<5&4294967295|A>>>27),A=U+(R^L&(S^R))+O[2]+4243563512&4294967295,U=S+(A<<9&4294967295|A>>>23),A=L+(S^R&(U^S))+O[7]+1735328473&4294967295,L=U+(A<<14&4294967295|A>>>18),A=R+(U^S&(L^U))+O[12]+2368359562&4294967295,R=L+(A<<20&4294967295|A>>>12),A=S+(R^L^U)+O[5]+4294588738&4294967295,S=R+(A<<4&4294967295|A>>>28),A=U+(S^R^L)+O[8]+2272392833&4294967295,U=S+(A<<11&4294967295|A>>>21),A=L+(U^S^R)+O[11]+1839030562&4294967295,L=U+(A<<16&4294967295|A>>>16),A=R+(L^U^S)+O[14]+4259657740&4294967295,R=L+(A<<23&4294967295|A>>>9),A=S+(R^L^U)+O[1]+2763975236&4294967295,S=R+(A<<4&4294967295|A>>>28),A=U+(S^R^L)+O[4]+1272893353&4294967295,U=S+(A<<11&4294967295|A>>>21),A=L+(U^S^R)+O[7]+4139469664&4294967295,L=U+(A<<16&4294967295|A>>>16),A=R+(L^U^S)+O[10]+3200236656&4294967295,R=L+(A<<23&4294967295|A>>>9),A=S+(R^L^U)+O[13]+681279174&4294967295,S=R+(A<<4&4294967295|A>>>28),A=U+(S^R^L)+O[0]+3936430074&4294967295,U=S+(A<<11&4294967295|A>>>21),A=L+(U^S^R)+O[3]+3572445317&4294967295,L=U+(A<<16&4294967295|A>>>16),A=R+(L^U^S)+O[6]+76029189&4294967295,R=L+(A<<23&4294967295|A>>>9),A=S+(R^L^U)+O[9]+3654602809&4294967295,S=R+(A<<4&4294967295|A>>>28),A=U+(S^R^L)+O[12]+3873151461&4294967295,U=S+(A<<11&4294967295|A>>>21),A=L+(U^S^R)+O[15]+530742520&4294967295,L=U+(A<<16&4294967295|A>>>16),A=R+(L^U^S)+O[2]+3299628645&4294967295,R=L+(A<<23&4294967295|A>>>9),A=S+(L^(R|~U))+O[0]+4096336452&4294967295,S=R+(A<<6&4294967295|A>>>26),A=U+(R^(S|~L))+O[7]+1126891415&4294967295,U=S+(A<<10&4294967295|A>>>22),A=L+(S^(U|~R))+O[14]+2878612391&4294967295,L=U+(A<<15&4294967295|A>>>17),A=R+(U^(L|~S))+O[5]+4237533241&4294967295,R=L+(A<<21&4294967295|A>>>11),A=S+(L^(R|~U))+O[12]+1700485571&4294967295,S=R+(A<<6&4294967295|A>>>26),A=U+(R^(S|~L))+O[3]+2399980690&4294967295,U=S+(A<<10&4294967295|A>>>22),A=L+(S^(U|~R))+O[10]+4293915773&4294967295,L=U+(A<<15&4294967295|A>>>17),A=R+(U^(L|~S))+O[1]+2240044497&4294967295,R=L+(A<<21&4294967295|A>>>11),A=S+(L^(R|~U))+O[8]+1873313359&4294967295,S=R+(A<<6&4294967295|A>>>26),A=U+(R^(S|~L))+O[15]+4264355552&4294967295,U=S+(A<<10&4294967295|A>>>22),A=L+(S^(U|~R))+O[6]+2734768916&4294967295,L=U+(A<<15&4294967295|A>>>17),A=R+(U^(L|~S))+O[13]+1309151649&4294967295,R=L+(A<<21&4294967295|A>>>11),A=S+(L^(R|~U))+O[4]+4149444226&4294967295,S=R+(A<<6&4294967295|A>>>26),A=U+(R^(S|~L))+O[11]+3174756917&4294967295,U=S+(A<<10&4294967295|A>>>22),A=L+(S^(U|~R))+O[2]+718787259&4294967295,L=U+(A<<15&4294967295|A>>>17),A=R+(U^(L|~S))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(L+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+U&4294967295}r.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var R=S-this.blockSize,O=this.B,L=this.h,U=0;U<S;){if(L==0)for(;U<=R;)o(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<S;)if(O[L++]=P.charCodeAt(U++),L==this.blockSize){o(this,O),L=0;break}}else for(;U<S;)if(O[L++]=P[U++],L==this.blockSize){o(this,O),L=0;break}}this.h=L,this.o+=S},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var R=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=R&255,R/=256;for(this.u(P),P=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)P[R++]=this.g[S]>>>O&255;return P};function a(P,S){var R=d;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=S(P)}function u(P,S){this.h=S;for(var R=[],O=!0,L=P.length-1;0<=L;L--){var U=P[L]|0;O&&U==S||(R[L]=U,O=!1)}this.g=R}var d={};function f(P){return-128<=P&&128>P?a(P,function(S){return new u([S|0],0>S?-1:0)}):new u([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return b(m(-P));for(var S=[],R=1,O=0;P>=R;O++)S[O]=P/R|0,R*=4294967296;return new u(S,0)}function v(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return b(v(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=m(Math.pow(S,8)),O=w,L=0;L<P.length;L+=8){var U=Math.min(8,P.length-L),A=parseInt(P.substring(L,L+U),S);8>U?(U=m(Math.pow(S,U)),O=O.j(U).add(m(A))):(O=O.j(R),O=O.add(m(A)))}return O}var w=f(0),I=f(1),j=f(16777216);n=u.prototype,n.m=function(){if(N(this))return-b(this).m();for(var P=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);P+=(0<=O?O:4294967296+O)*S,S*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(k(this))return"0";if(N(this))return"-"+b(this).toString(P);for(var S=m(Math.pow(P,6)),R=this,O="";;){var L=Y(R,S).g;R=X(R,L.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=L,k(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function k(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function N(P){return P.h==-1}n.l=function(P){return P=X(this,P),N(P)?-1:k(P)?0:1};function b(P){for(var S=P.g.length,R=[],O=0;O<S;O++)R[O]=~P.g[O];return new u(R,~P.h).add(I)}n.abs=function(){return N(this)?b(this):this},n.add=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],O=0,L=0;L<=S;L++){var U=O+(this.i(L)&65535)+(P.i(L)&65535),A=(U>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);O=A>>>16,U&=65535,A&=65535,R[L]=A<<16|U}return new u(R,R[R.length-1]&-2147483648?-1:0)};function X(P,S){return P.add(b(S))}n.j=function(P){if(k(this)||k(P))return w;if(N(this))return N(P)?b(this).j(b(P)):b(b(this).j(P));if(N(P))return b(this.j(b(P)));if(0>this.l(j)&&0>P.l(j))return m(this.m()*P.m());for(var S=this.g.length+P.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<P.g.length;L++){var U=this.i(O)>>>16,A=this.i(O)&65535,Fe=P.i(L)>>>16,xe=P.i(L)&65535;R[2*O+2*L]+=A*xe,Q(R,2*O+2*L),R[2*O+2*L+1]+=U*xe,Q(R,2*O+2*L+1),R[2*O+2*L+1]+=A*Fe,Q(R,2*O+2*L+1),R[2*O+2*L+2]+=U*Fe,Q(R,2*O+2*L+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new u(R,0)};function Q(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function J(P,S){this.g=P,this.h=S}function Y(P,S){if(k(S))throw Error("division by zero");if(k(P))return new J(w,w);if(N(P))return S=Y(b(P),S),new J(b(S.g),b(S.h));if(N(S))return S=Y(P,b(S)),new J(b(S.g),S.h);if(30<P.g.length){if(N(P)||N(S))throw Error("slowDivide_ only works with positive integers.");for(var R=I,O=S;0>=O.l(P);)R=ue(R),O=ue(O);var L=de(R,1),U=de(O,1);for(O=de(O,2),R=de(R,2);!k(O);){var A=U.add(O);0>=A.l(P)&&(L=L.add(R),U=A),O=de(O,1),R=de(R,1)}return S=X(P,L.j(S)),new J(L,S)}for(L=w;0<=P.l(S);){for(R=Math.max(1,Math.floor(P.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=m(R),A=U.j(S);N(A)||0<A.l(P);)R-=O,U=m(R),A=U.j(S);k(U)&&(U=I),L=L.add(U),P=X(P,A)}return new J(L,P)}n.A=function(P){return Y(this,P).h},n.and=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&P.i(O);return new u(R,this.h&P.h)},n.or=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|P.i(O);return new u(R,this.h|P.h)},n.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^P.i(O);return new u(R,this.h^P.h)};function ue(P){for(var S=P.g.length+1,R=[],O=0;O<S;O++)R[O]=P.i(O)<<1|P.i(O-1)>>>31;return new u(R,P.h)}function de(P,S){var R=S>>5;S%=32;for(var O=P.g.length-R,L=[],U=0;U<O;U++)L[U]=0<S?P.i(U+R)>>>S|P.i(U+R+1)<<32-S:P.i(U+R);return new u(L,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,$s=u}).apply(typeof v_<"u"?v_:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var RE,Tl,CE,Bc,pp,AE,kE,PE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var x=0;x<c.length-1;x++){var z=c[x];if(!(z in _))break e;_=_[z]}c=c[c.length-1],x=_[c],g=g(x),g!=x&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,x=!1,z={next:function(){if(!x&&_<c.length){var W=_++;return{value:g(W,c[W]),done:!1}}return x=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,x),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function I(c,g,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,I.apply(null,arguments)}function j(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function k(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(x,z,W){for(var ie=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ie[Qe-2]=arguments[Qe];return g.prototype[z].apply(x,ie)}}function N(c){const g=c.length;if(0<g){const _=Array(g);for(let x=0;x<g;x++)_[x]=c[x];return _}return[]}function b(c,g){for(let _=1;_<arguments.length;_++){const x=arguments[_];if(f(x)){const z=c.length||0,W=x.length||0;c.length=z+W;for(let ie=0;ie<W;ie++)c[z+ie]=x[ie]}else c.push(x)}}class X{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Q(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var ue=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function de(c,g,_){for(const x in c)g.call(_,c[x],x,c)}function P(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,x;for(let z=1;z<arguments.length;z++){x=arguments[z];for(_ in x)c[_]=x[_];for(let W=0;W<R.length;W++)_=R[W],Object.prototype.hasOwnProperty.call(x,_)&&(c[_]=x[_])}}function L(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){d.setTimeout(()=>{throw c},0)}function A(){var c=_e;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Fe{constructor(){this.h=this.g=null}add(g,_){const x=xe.get();x.set(g,_),this.h?this.h.next=x:this.g=x,this.h=x}}var xe=new X(()=>new Pe,c=>c.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,K=!1,_e=new Fe,ae=()=>{const c=d.Promise.resolve(void 0);Oe=()=>{c.then(F)}};var F=()=>{for(var c;c=A();){try{c.h.call(c.g)}catch(_){U(_)}var g=xe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}K=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var we=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c})();function Ce(c,g){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ue){e:{try{Y(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}k(Ce,oe);var Me={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Ge(c,g,_,x,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!x,this.ha=z,this.key=++ze,this.da=this.fa=!1}function ot(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _n(c){this.src=c,this.g={},this.h=0}_n.prototype.add=function(c,g,_,x,z){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var ie=ss(c,g,x,z);return-1<ie?(g=c[ie],_||(g.fa=!1)):(g=new Ge(g,this.src,W,!!x,z),g.fa=_,c.push(g)),g};function Un(c,g){var _=g.type;if(_ in c.g){var x=c.g[_],z=Array.prototype.indexOf.call(x,g,void 0),W;(W=0<=z)&&Array.prototype.splice.call(x,z,1),W&&(ot(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ss(c,g,_,x){for(var z=0;z<c.length;++z){var W=c[z];if(!W.da&&W.listener==g&&W.capture==!!_&&W.ha==x)return z}return-1}var ri="closure_lm_"+(1e6*Math.random()|0),Xi={};function Ia(c,g,_,x,z){if(Array.isArray(g)){for(var W=0;W<g.length;W++)Ia(c,g[W],_,x,z);return null}return _=ba(_),c&&c[Se]?c.K(g,_,m(x)?!!x.capture:!1,z):xa(c,g,_,!1,x,z)}function xa(c,g,_,x,z,W){if(!g)throw Error("Invalid event type");var ie=m(z)?!!z.capture:!!z,Qe=Zi(c);if(Qe||(c[ri]=Qe=new _n(c)),_=Qe.add(g,_,x,ie,W),_.proxy)return _;if(x=lu(),_.proxy=x,x.src=c,x.listener=_,c.addEventListener)we||(z=ie),z===void 0&&(z=!1),c.addEventListener(g.toString(),x,z);else if(c.attachEvent)c.attachEvent(Or(g.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function lu(){function c(_){return g.call(c.src,c.listener,_)}const g=Sa;return c}function Yi(c,g,_,x,z){if(Array.isArray(g))for(var W=0;W<g.length;W++)Yi(c,g[W],_,x,z);else x=m(x)?!!x.capture:!!x,_=ba(_),c&&c[Se]?(c=c.i,g=String(g).toString(),g in c.g&&(W=c.g[g],_=ss(W,_,x,z),-1<_&&(ot(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete c.g[g],c.h--)))):c&&(c=Zi(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ss(g,_,x,z)),(_=-1<c?g[c]:null)&&Nr(_))}function Nr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Se])Un(g.i,c);else{var _=c.type,x=c.proxy;g.removeEventListener?g.removeEventListener(_,x,c.capture):g.detachEvent?g.detachEvent(Or(_),x):g.addListener&&g.removeListener&&g.removeListener(x),(_=Zi(g))?(Un(_,c),_.h==0&&(_.src=null,g[ri]=null)):ot(c)}}}function Or(c){return c in Xi?Xi[c]:Xi[c]="on"+c}function Sa(c,g){if(c.da)c=!0;else{g=new Ce(g,this);var _=c.listener,x=c.ha||c.src;c.fa&&Nr(c),c=_.call(x,g)}return c}function Zi(c){return c=c[ri],c instanceof _n?c:null}var eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ba(c){return typeof c=="function"?c:(c[eo]||(c[eo]=function(g){return c.handleEvent(g)}),c[eo])}function It(){G.call(this),this.i=new _n(this),this.M=this,this.F=null}k(It,G),It.prototype[Se]=!0,It.prototype.removeEventListener=function(c,g,_,x){Yi(this,c,g,_,x)};function xt(c,g){var _,x=c.F;if(x)for(_=[];x;x=x.F)_.push(x);if(c=c.M,x=g.type||g,typeof g=="string")g=new oe(g,c);else if(g instanceof oe)g.target=g.target||c;else{var z=g;g=new oe(x,c),O(g,z)}if(z=!0,_)for(var W=_.length-1;0<=W;W--){var ie=g.g=_[W];z=Dr(ie,x,!0,g)&&z}if(ie=g.g=c,z=Dr(ie,x,!0,g)&&z,z=Dr(ie,x,!1,g)&&z,_)for(W=0;W<_.length;W++)ie=g.g=_[W],z=Dr(ie,x,!1,g)&&z}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],x=0;x<_.length;x++)ot(_[x]);delete c.g[g],c.h--}}this.F=null},It.prototype.K=function(c,g,_,x){return this.i.add(String(c),g,!1,_,x)},It.prototype.L=function(c,g,_,x){return this.i.add(String(c),g,!0,_,x)};function Dr(c,g,_,x){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,W=0;W<g.length;++W){var ie=g[W];if(ie&&!ie.da&&ie.capture==_){var Qe=ie.listener,St=ie.ha||ie.src;ie.fa&&Un(c.i,ie),z=Qe.call(St,x)!==!1&&z}}return z&&!x.defaultPrevented}function Ra(c,g,_){if(typeof c=="function")_&&(c=I(c,_));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function is(c){c.g=Ra(()=>{c.g=null,c.i&&(c.i=!1,is(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class si extends G{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:is(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(c){G.call(this),this.h=c,this.g={}}k(ii,G);var Ca=[];function Aa(c){de(c.g,function(g,_){this.g.hasOwnProperty(_)&&Nr(g)},c),c.g={}}ii.prototype.N=function(){ii.aa.N.call(this),Aa(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=d.JSON.stringify,Pa=d.JSON.parse,Na=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function oi(){}oi.prototype.h=null;function to(c){return c.h||(c.h=c.i())}function no(){}var Rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ar(){oe.call(this,"d")}k(ar,oe);function ro(){oe.call(this,"c")}k(ro,oe);var lr={},Oa=null;function ai(){return Oa=Oa||new It}lr.La="serverreachability";function Da(c){oe.call(this,lr.La,c)}k(Da,oe);function Lr(c){const g=ai();xt(g,new Da(g))}lr.STAT_EVENT="statevent";function La(c,g){oe.call(this,lr.STAT_EVENT,c),this.stat=g}k(La,oe);function dt(c){const g=ai();xt(g,new La(g,c))}lr.Ma="timingevent";function so(c,g){oe.call(this,lr.Ma,c),this.size=g}k(so,oe);function zn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function li(){this.g=!0}li.prototype.xa=function(){this.g=!1};function ui(c,g,_,x,z,W){c.info(function(){if(c.g)if(W)for(var ie="",Qe=W.split("&"),St=0;St<Qe.length;St++){var Be=Qe[St].split("=");if(1<Be.length){var Nt=Be[0];Be=Be[1];var vt=Nt.split("_");ie=2<=vt.length&&vt[1]=="type"?ie+(Nt+"="+Be+"&"):ie+(Nt+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+x+") [attempt "+z+"]: "+g+`
`+_+`
`+ie})}function io(c,g,_,x,z,W,ie){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+z+"]: "+g+`
`+_+`
`+W+" "+ie})}function Bn(c,g,_,x){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Hh(c,_)+(x?" "+x:"")})}function Va(c,g){c.info(function(){return"TIMEOUT: "+g})}li.prototype.info=function(){};function Hh(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var x=_[c];if(!(2>x.length)){var z=x[1];if(Array.isArray(z)&&!(1>z.length)){var W=z[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return ka(_)}catch{return g}}var oo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function ci(){}k(ci,oi),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},$n=new ci;function qn(c,g,_,x){this.j=c,this.i=g,this.l=_,this.R=x||1,this.U=new ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cu}function cu(){this.i=null,this.g="",this.h=!1}var Ma={},ao={};function lo(c,g,_){c.L=1,c.v=cs(En(g)),c.m=_,c.P=!0,ja(c,null)}function ja(c,g){c.F=Date.now(),Xe(c),c.A=En(c.v);var _=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),ds(_.i,"t",x),c.C=0,_=c.j.J,c.h=new cu,c.g=Cu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new si(I(c.Y,c,c.g),c.O)),g=c.U,_=c.g,x=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ca[0]=z.toString()),z=Ca);for(var W=0;W<z.length;W++){var ie=Ia(_,z[W],x||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Lr(),ui(c.i,c.u,c.A,c.l,c.R,c.m)}qn.prototype.ca=function(c){c=c.target;const g=this.M;g&&un(c)==3?g.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const vt=un(this.g);var g=this.g.Ba();const kn=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||qa(this.g)))){this.J||vt!=4||g==7||(g==8||0>=kn?Lr(3):Lr(2)),hi(this);var _=this.g.Z();this.X=_;t:if(hu(this)){var x=qa(this.g);c="";var z=x.length,W=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),os(this);var ie="";break t}this.h.i=new d.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(x[g],{stream:!(W&&g==z-1)});x.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,io(this.i,this.u,this.A,this.l,this.R,vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,St=this.g;if((Qe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Qe)){var Be=Qe;break t}}Be=null}if(_=Be)Bn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,_);else{this.o=!1,this.s=3,dt(12),Cn(this),os(this);break e}}if(this.P){_=!0;let In;for(;!this.J&&this.C<ie.length;)if(In=Wh(this,ie),In==ao){vt==4&&(this.s=4,dt(14),_=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(In==Ma){this.s=4,dt(15),Bn(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else Bn(this.i,this.l,In,null),Fa(this,In);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||ie.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)Bn(this.i,this.l,ie,"[Invalid Chunked Response]"),Cn(this),os(this);else if(0<ie.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Wa(Nt),Nt.M=!0,dt(11))}}else Bn(this.i,this.l,ie,null),Fa(this,ie);vt==4&&Cn(this),this.o&&!this.J&&(vt==4?wo(this.j,this):(this.o=!1,Xe(this)))}else mo(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Cn(this),os(this)}}}catch{}};function hu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Wh(c,g){var _=c.C,x=g.indexOf(`
`,_);return x==-1?ao:(_=Number(g.substring(_,x)),isNaN(_)?Ma:(x+=1,x+_>g.length?ao:(g=g.slice(x,x+_),c.C=x+_,g)))}qn.prototype.cancel=function(){this.J=!0,Cn(this)};function Xe(c){c.S=Date.now()+c.I,du(c,c.I)}function du(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=zn(I(c.ba,c),g)}function hi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}qn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Va(this.i,this.A),this.L!=2&&(Lr(),dt(17)),Cn(this),this.s=2,os(this)):du(this,this.S-c)};function os(c){c.j.G==0||c.J||wo(c.j,c)}function Cn(c){hi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Aa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Fa(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Zt(_.h,c))){if(!c.K&&Zt(_.h,c)&&_.G==3){try{var x=_.Da.g.parse(g)}catch{x=null}if(Array.isArray(x)&&x.length==3){var z=x;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)_o(_),Qn(_);else break e;vo(_),dt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=zn(I(_.Za,_),6e3));if(1>=pu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ur(_,11)}else if((c.K||_.g==c)&&_o(_),!Q(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let Be=z[g];if(_.T=Be[0],Be=Be[1],_.G==2)if(Be[0]=="c"){_.K=Be[1],_.ia=Be[2];const Nt=Be[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const vt=Be[4];vt!=null&&(_.Aa=vt,_.j.info("SVER="+_.Aa));const kn=Be[5];kn!=null&&typeof kn=="number"&&0<kn&&(x=1.5*kn,_.L=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const In=c.g;if(In){const vi=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var W=x.h;W.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ua(W,W.h),W.h=null))}if(x.D){const To=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(x.ya=To,Je(x.I,x.D,To))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),x=_;var ie=c;if(x.qa=Ru(x,x.J?x.ia:null,x.W),ie.K){mu(x.h,ie);var Qe=ie,St=x.L;St&&(Qe.I=St),Qe.B&&(hi(Qe),Xe(Qe)),x.g=ie}else yi(x);0<_.i.length&&dr(_)}else Be[0]!="stop"&&Be[0]!="close"||Ur(_,7);else _.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Ur(_,7):jt(_):Be[0]!="noop"&&_.l&&_.l.ta(Be),_.v=0)}}Lr(4)}catch{}}var fu=class{constructor(c,g){this.g=c,this.map=g}};function di(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pu(c){return c.h?1:c.g?c.g.size:0}function Zt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ua(c,g){c.g?c.g.add(g):c.h=g}function mu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}di.prototype.cancel=function(){if(this.i=gu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function gu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return N(c.i)}function uo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,x=0;x<_;x++)g.push(c[x]);return g}g=[],_=0;for(x in c)g[_++]=c[x];return g}function co(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const x in c)g[_++]=x;return g}}}function as(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=co(c),x=uo(c),z=x.length,W=0;W<z;W++)g.call(void 0,x[W],_&&_[W],c)}var fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var x=c[_].indexOf("="),z=null;if(0<=x){var W=c[_].substring(0,x);z=c[_].substring(x+1)}else W=c[_];g(W,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Vr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vr){this.h=c.h,pi(this,c.j),this.o=c.o,this.g=c.g,ls(this,c.s),this.l=c.l;var g=c.i,_=new ur;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),us(this,_),this.m=c.m}else c&&(g=String(c).match(fi))?(this.h=!1,pi(this,g[1]||"",!0),this.o=Ue(g[2]||""),this.g=Ue(g[3]||"",!0),ls(this,g[4]),this.l=Ue(g[5]||"",!0),us(this,g[6]||"",!0),this.m=Ue(g[7]||"")):(this.h=!1,this.i=new ur(null,this.h))}Vr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(hs(g,ho,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(hs(g,ho,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(hs(_,_.charAt(0)=="/"?_u:vu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",hs(_,za)),c.join("")};function En(c){return new Vr(c)}function pi(c,g,_){c.j=_?Ue(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ls(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function us(c,g,_){g instanceof ur?(c.i=g,cr(c.i,c.h)):(_||(g=hs(g,wu)),c.i=new ur(g,c.h))}function Je(c,g,_){c.i.set(g,_)}function cs(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ue(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hs(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,yu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ho=/[#\/\?@]/g,vu=/[#\?:]/g,_u=/[#\?]/g,wu=/[#\?@]/g,za=/#/g;function ur(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Mt(c){c.g||(c.g=new Map,c.h=0,c.i&&Kh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=ur.prototype,n.add=function(c,g){Mt(this),this.i=null,c=An(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Hn(c,g){Mt(c),g=An(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Wn(c,g){return Mt(c),g=An(c,g),c.g.has(g)}n.forEach=function(c,g){Mt(this),this.g.forEach(function(_,x){_.forEach(function(z){c.call(g,z,x,this)},this)},this)},n.na=function(){Mt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let x=0;x<g.length;x++){const z=c[x];for(let W=0;W<z.length;W++)_.push(g[x])}return _},n.V=function(c){Mt(this);let g=[];if(typeof c=="string")Wn(this,c)&&(g=g.concat(this.g.get(An(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Mt(this),this.i=null,c=An(this,c),Wn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ds(c,g,_){Hn(c,g),0<_.length&&(c.i=null,c.g.set(An(c,g),N(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var x=g[_];const W=encodeURIComponent(String(x)),ie=this.V(x);for(x=0;x<ie.length;x++){var z=W;ie[x]!==""&&(z+="="+encodeURIComponent(String(ie[x]))),c.push(z)}}return this.i=c.join("&")};function An(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function cr(c,g){g&&!c.j&&(Mt(c),c.i=null,c.g.forEach(function(_,x){var z=x.toLowerCase();x!=z&&(Hn(this,x),ds(this,z,_))},c)),c.j=g}function Gh(c,g){const _=new li;if(d.Image){const x=new Image;x.onload=j(ln,_,"TestLoadImage: loaded",!0,g,x),x.onerror=j(ln,_,"TestLoadImage: error",!1,g,x),x.onabort=j(ln,_,"TestLoadImage: abort",!1,g,x),x.ontimeout=j(ln,_,"TestLoadImage: timeout",!1,g,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else g(!1)}function Eu(c,g){const _=new li,x=new AbortController,z=setTimeout(()=>{x.abort(),ln(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:x.signal}).then(W=>{clearTimeout(z),W.ok?ln(_,"TestPingServer: ok",!0,g):ln(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),ln(_,"TestPingServer: error",!1,g)})}function ln(c,g,_,x,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),x(_)}catch{}}function Qh(){this.g=new Na}function Tu(c,g,_){const x=_||"";try{as(c,function(z,W){let ie=z;m(z)&&(ie=ka(z)),g.push(x+W+"="+encodeURIComponent(ie))})}catch(z){throw g.push(x+"type="+encodeURIComponent("_badmap")),z}}function Mr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Mr,oi),Mr.prototype.g=function(){return new mi(this.l,this.j)},Mr.prototype.i=(function(c){return function(){return c}})({});function mi(c,g){It.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(mi,It),n=mi.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Gn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Iu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Iu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Kn(this):Gn(this),this.readyState==3&&Iu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Kn(this))},n.Qa=function(c){this.g&&(this.response=c,Kn(this))},n.ga=function(){this.g&&Kn(this)};function Kn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Gn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jr(c){let g="";return de(c,function(_,x){g+=x,g+=":",g+=_,g+=`\r
`}),g}function fs(c,g,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=jr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Je(c,g,_))}function rt(c){It.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(rt,It);var Jh=/^https?$/i,Ba=["POST","PUT"];n=rt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?to(this.o):to($n),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(W){gi(this,W);return}if(c=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var z in x)_.set(z,x[z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const W of x.keys())_.set(W,x.get(W));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),z=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ba,g,void 0))||x||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of _)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{po(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){gi(this,W)}};function gi(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,fo(c),Tn(c)}function fo(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),Tn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tn(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$a(this):this.bb())},n.bb=function(){$a(this)};function $a(c){if(c.h&&typeof u<"u"&&(!c.v[1]||un(c)!=4||c.Z()!=2)){if(c.u&&un(c)==4)Ra(c.Ea,0,c);else if(xt(c,"readystatechange"),un(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var x;if(x=ie===0){var z=String(c.D).match(fi)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),x=!Jh.test(z?z.toLowerCase():"")}_=x}if(_)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var W=2<un(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",fo(c)}}finally{Tn(c)}}}}function Tn(c,g){if(c.g){po(c);const _=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||xt(c,"ready");try{_.onreadystatechange=x}catch{}}}function po(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function un(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Pa(g)}};function qa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mo(c){const g={};c=(c.g&&2<=un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(Q(c[x]))continue;var _=L(c[x]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=g[z]||[];g[z]=W,W.push(_)}P(g,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Ha(c){this.Aa=0,this.i=[],this.j=new li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hr("baseRetryDelayMs",5e3,c),this.cb=hr("retryDelaySeedMs",1e4,c),this.Wa=hr("forwardChannelMaxRetries",2,c),this.wa=hr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new di(c&&c.concurrentRequestLimit),this.Da=new Qh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ha.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,x){dt(0),this.W=c,this.H=g||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.I=Ru(this,null,this.W),dr(this)};function jt(c){if(go(c),c.G==3){var g=c.U++,_=En(c.I);if(Je(_,"SID",c.K),Je(_,"RID",g),Je(_,"TYPE","terminate"),Fr(c,_),g=new qn(c,c.j,g),g.L=2,g.v=cs(En(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=Cu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Xe(g)}bu(c)}function Qn(c){c.g&&(Wa(c),c.g.cancel(),c.g=null)}function go(c){Qn(c),c.u&&(d.clearTimeout(c.u),c.u=null),_o(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function dr(c){if(!wn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Oe||ae(),K||(Oe(),K=!0),_e.add(g,c),c.B=0}}function Xh(c,g){return pu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=zn(I(c.Ga,c,g),Su(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new qn(this,this.j,c);let W=this.o;if(this.S&&(W?(W=S(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(z.H=W,W=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(g+=x,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ps(this,z,g),_=En(this.I),Je(_,"RID",c),Je(_,"CVER",22),this.D&&Je(_,"X-HTTP-Session-Id",this.D),Fr(this,_),W&&(this.O?g="headers="+encodeURIComponent(String(jr(W)))+"&"+g:this.m&&fs(_,this.m,W)),Ua(this.h,z),this.Ua&&Je(_,"TYPE","init"),this.P?(Je(_,"$req",g),Je(_,"SID","null"),z.T=!0,lo(z,_,null)):lo(z,_,g),this.G=2}}else this.G==3&&(c?yo(this,c):this.i.length==0||wn(this.h)||yo(this))};function yo(c,g){var _;g?_=g.l:_=c.U++;const x=En(c.I);Je(x,"SID",c.K),Je(x,"RID",_),Je(x,"AID",c.T),Fr(c,x),c.m&&c.o&&fs(x,c.m,c.o),_=new qn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ps(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ua(c.h,_),lo(_,x,g)}function Fr(c,g){c.H&&de(c.H,function(_,x){Je(g,x,_)}),c.l&&as({},function(_,x){Je(g,x,_)})}function ps(c,g,_){_=Math.min(c.i.length,_);var x=c.l?I(c.l.Na,c.l,c):null;e:{var z=c.i;let W=-1;for(;;){const ie=["count="+_];W==-1?0<_?(W=z[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let Qe=!0;for(let St=0;St<_;St++){let Be=z[St].g;const Nt=z[St].map;if(Be-=W,0>Be)W=Math.max(0,z[St].g-100),Qe=!1;else try{Tu(Nt,ie,"req"+Be+"_")}catch{x&&x(Nt)}}if(Qe){x=ie.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,x}function yi(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Oe||ae(),K||(Oe(),K=!0),_e.add(g,c),c.v=0}}function vo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=zn(I(c.Fa,c),Su(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=zn(I(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Qn(this),xu(this))};function Wa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function xu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=En(c.qa);Je(g,"RID","rpc"),Je(g,"SID",c.K),Je(g,"AID",c.T),Je(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(g,"TO",c.ja),Je(g,"TYPE","xmlhttp"),Fr(c,g),c.m&&c.o&&fs(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=cs(En(g)),_.m=null,_.P=!0,ja(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Qn(this),vo(this),dt(19))};function _o(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function wo(c,g){var _=null;if(c.g==g){_o(c),Wa(c),c.g=null;var x=2}else if(Zt(c.h,g))_=g.D,mu(c.h,g),x=1;else return;if(c.G!=0){if(g.o)if(x==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;x=ai(),xt(x,new so(x,_)),dr(c)}else yi(c);else if(z=g.s,z==3||z==0&&0<g.X||!(x==1&&Xh(c,g)||x==2&&vo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:Ur(c,5);break;case 4:Ur(c,10);break;case 3:Ur(c,6);break;default:Ur(c,2)}}}function Su(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ur(c,g){if(c.j.info("Error code "+g),g==2){var _=I(c.fb,c),x=c.Xa;const z=!x;x=new Vr(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||pi(x,"https"),cs(x),z?Gh(x.toString(),_):Eu(x.toString(),_)}else dt(2);c.G=0,c.l&&c.l.sa(g),bu(c),go(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function bu(c){if(c.G=0,c.ka=[],c.l){const g=gu(c.h);(g.length!=0||c.i.length!=0)&&(b(c.ka,g),b(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Ru(c,g,_){var x=_ instanceof Vr?En(_):new Vr(_);if(x.g!="")g&&(x.g=g+"."+x.g),ls(x,x.s);else{var z=d.location;x=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var W=new Vr(null);x&&pi(W,x),g&&(W.g=g),z&&ls(W,z),_&&(W.l=_),x=W}return _=c.D,g=c.ya,_&&g&&Je(x,_,g),Je(x,"VER",c.la),Fr(c,x),x}function Cu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new rt(new Mr({eb:_})):new rt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ka(){}n=Ka.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Eo(){}Eo.prototype.g=function(c,g){return new en(c,g)};function en(c,g){It.call(this),this.g=new Ha(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new fr(this)}k(en,It),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){jt(this.g)},en.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ka(c),c=_);g.i.push(new fu(g.Ya++,c)),g.G==3&&dr(g)},en.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,en.aa.N.call(this)};function Au(c){ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}k(Au,ar);function ku(){ro.call(this),this.status=1}k(ku,ro);function fr(c){this.g=c}k(fr,Ka),fr.prototype.ua=function(){xt(this.g,"a")},fr.prototype.ta=function(c){xt(this.g,new Au(c))},fr.prototype.sa=function(c){xt(this.g,new ku)},fr.prototype.ra=function(){xt(this.g,"b")},Eo.prototype.createWebChannel=Eo.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,PE=function(){return new Eo},kE=function(){return ai()},AE=lr,pp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oo.NO_ERROR=0,oo.TIMEOUT=8,oo.HTTP_ERROR=6,Bc=oo,uu.COMPLETE="complete",CE=uu,no.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",It.prototype.listen=It.prototype.K,Tl=no,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,RE=rt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const __="@firebase/firestore",w_="4.8.0";class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");let ga="11.10.0";const Hi=new Jp("@firebase/firestore");function qo(){return Hi.logLevel}function he(n,...e){if(Hi.logLevel<=je.DEBUG){const t=e.map(lm);Hi.debug(`Firestore (${ga}): ${n}`,...t)}}function es(n,...e){if(Hi.logLevel<=je.ERROR){const t=e.map(lm);Hi.error(`Firestore (${ga}): ${n}`,...t)}}function Ks(n,...e){if(Hi.logLevel<=je.WARN){const t=e.map(lm);Hi.warn(`Firestore (${ga}): ${n}`,...t)}}function lm(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ke(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,NE(n,r,t)}function NE(n,e,t){let r=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw es(r),new Error(r)}function ct(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||NE(e,o,r)}function qe(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends kr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class OE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gt.UNAUTHENTICATED)))}shutdown(){}}class OP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class DP{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ct(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qs,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},d=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qs)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new OE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class LP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new LP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Gt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ct(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new E_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function DE(){return new TextEncoder}class um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=jP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function mp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Ve(r,o);{const a=DE(),u=FP(a.encode(T_(n,t)),a.encode(T_(e,t)));return u!==0?u:Ve(r,o)}}t+=r>65535?2:1}return Ve(n.length,e.length)}function T_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function FP(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ve(n[t],e[t]);return Ve(n.length,e.length)}function sa(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}const I_="__name__";class _r{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ke(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=_r.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ve(e.length,t.length)}static compareSegments(e,t){const r=_r.isNumericId(e),o=_r.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?_r.extractNumericId(e).compare(_r.extractNumericId(t)):mp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $s.fromString(e.substring(4,e.length-2))}}class Ze extends _r{construct(e,t,r){return new Ze(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const UP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends _r{construct(e,t,r){return new Xt(e,t,r)}static isValidIdentifier(e){return UP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new Xt([I_])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new ce(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ce(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ce(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new ce(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Ze.fromString(e))}static fromName(e){return new Ee(Ze.fromString(e).popFirst(5))}static empty(){return new Ee(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Ze(e.slice()))}}function LE(n,e,t){if(!t)throw new ce(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zP(n,e,t,r){if(e===!0&&r===!0)throw new ce(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function x_(n){if(!Ee.isDocumentKey(n))throw new ce(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function S_(n){if(Ee.isDocumentKey(n))throw new ce(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function VE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Nh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke(12329,{type:typeof n})}function zl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nh(n);throw new ce(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Tt(n,e){const t={typeString:n};return e&&(t.value=e),t}function nu(n,e){if(!VE(n))throw new ce(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ce(re.INVALID_ARGUMENT,t);return!0}const b_=-62135596800,R_=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*R_);return new it(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<b_)throw new ce(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R_}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-b_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Tt("string",it._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new it(0,0))}static max(){return new Ae(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function BP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(r===1e9?new it(t+1,0):new it(t,r));return new Gs(o,Ee.empty(),e)}function $P(n){return new Gs(n.readTime,n.key,Bl)}class Gs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Gs(Ae.min(),Ee.empty(),Bl)}static max(){return new Gs(Ae.max(),Ee.empty(),Bl)}}function qP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}const HP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oh(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==HP)throw n;he("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.reject(t)}static resolve(e){return new Z(((t,r)=>{t(e)}))}static reject(e){return new Z(((t,r)=>{r(e)}))}static waitFor(e){return new Z(((t,r)=>{let o=0,a=0,u=!1;e.forEach((d=>{++o,d.next((()=>{++a,u&&a===o&&t()}),(f=>r(f)))})),u=!0,a===o&&t()}))}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next((o=>o?Z.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new Z(((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((v=>{u[m]=v,++d,d===a&&r(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new Z(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function KP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ya(n){return n.name==="IndexedDbTransactionError"}class Dh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Dh.ue=-1;const GP=-1;function Lh(n){return n==null}function ih(n){return n===0&&1/n==-1/0}function QP(n){return typeof n=="number"&&Number.isInteger(n)&&!ih(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const ME="";function JP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=C_(e)),e=XP(n.get(t),e);return C_(e)}function XP(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case ME:t+="";break;default:t+=a}}return t}function C_(n){return n+ME+""}function A_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function va(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gt{constructor(e,t){this.comparator=e,this.root=t||zt.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??zt.RED,this.left=o??zt.EMPTY,this.right=a??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new zt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vs{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Vs([])}unionWith(e){let t=new Pt(Xt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Vs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class FE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new FE("Invalid base64 string: "+a):a}})(e);return new Bt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const YP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(n){if(ct(!!n,39018),typeof n=="string"){let e=0;const t=YP.exec(n);if(ct(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Js(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}const UE="server_timestamp",zE="__type__",BE="__previous_value__",$E="__local_write_time__";function cm(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[zE])===null||t===void 0?void 0:t.stringValue)===UE}function Vh(n){const e=n.mapValue.fields[BE];return cm(e)?Vh(e):e}function $l(n){const e=Qs(n.mapValue.fields[$E].timestampValue);return new it(e.seconds,e.nanos)}class ZP{constructor(e,t,r,o,a,u,d,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v}}const oh="(default)";class ql{constructor(e,t){this.projectId=e,this.database=t||oh}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}const qE="__type__",eN="__max__",Ac={mapValue:{}},HE="__vector__",ah="value";function Xs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cm(n)?4:nN(n)?9007199254740991:tN(n)?10:11:ke(28295,{value:n})}function Rr(n,e){if(n===e)return!0;const t=Xs(n);if(t!==Xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $l(n).isEqual($l(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Qs(o.timestampValue),d=Qs(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Js(o.bytesValue).isEqual(Js(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return pt(o.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return pt(o.integerValue)===pt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=pt(o.doubleValue),d=pt(a.doubleValue);return u===d?ih(u)===ih(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return sa(n.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(A_(u)!==A_(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Rr(u[f],d[f])))return!1;return!0})(n,e);default:return ke(52216,{left:n})}}function Hl(n,e){return(n.values||[]).find((t=>Rr(t,e)))!==void 0}function ia(n,e){if(n===e)return 0;const t=Xs(n),r=Xs(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=pt(a.integerValue||a.doubleValue),f=pt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return P_(n.timestampValue,e.timestampValue);case 4:return P_($l(n),$l(e));case 5:return mp(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=Js(a),f=Js(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=Ve(d[m],f[m]);if(v!==0)return v}return Ve(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Ve(pt(a.latitude),pt(u.latitude));return d!==0?d:Ve(pt(a.longitude),pt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return N_(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var d,f,m,v;const w=a.fields||{},I=u.fields||{},j=(d=w[ah])===null||d===void 0?void 0:d.arrayValue,k=(f=I[ah])===null||f===void 0?void 0:f.arrayValue,N=Ve(((m=j?.values)===null||m===void 0?void 0:m.length)||0,((v=k?.values)===null||v===void 0?void 0:v.length)||0);return N!==0?N:N_(j,k)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Ac.mapValue&&u===Ac.mapValue)return 0;if(a===Ac.mapValue)return 1;if(u===Ac.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const I=mp(f[w],v[w]);if(I!==0)return I;const j=ia(d[f[w]],m[v[w]]);if(j!==0)return j}return Ve(f.length,v.length)})(n.mapValue,e.mapValue);default:throw ke(23264,{le:t})}}function P_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Qs(n),r=Qs(e),o=Ve(t.seconds,r.seconds);return o!==0?o:Ve(t.nanos,r.nanos)}function N_(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=ia(t[o],r[o]);if(a)return a}return Ve(t.length,r.length)}function oa(n){return gp(n)}function gp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Qs(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Js(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=gp(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${gp(t.fields[u])}`;return o+"}"})(n.mapValue):ke(61005,{value:n})}function $c(n){switch(Xs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(n);return e?16+$c(e):16;case 5:return 2*n.stringValue.length;case 6:return Js(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+$c(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return va(r.fields,((a,u)=>{o+=a.length+$c(u)})),o})(n.mapValue);default:throw ke(13486,{value:n})}}function O_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yp(n){return!!n&&"integerValue"in n}function hm(n){return!!n&&"arrayValue"in n}function D_(n){return!!n&&"nullValue"in n}function L_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Df(n){return!!n&&"mapValue"in n}function tN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[qE])===null||t===void 0?void 0:t.stringValue)===HE}function Cl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return va(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Cl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===eN}class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Df(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(t)}setAll(e){let t=Xt.emptyPath(),r={},o=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=Cl(u):o.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Df(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Df(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){va(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new wr(Cl(this.value))}}class Qt{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Qt(e,0,Ae.min(),Ae.min(),Ae.min(),wr.empty(),0)}static newFoundDocument(e,t,r,o){return new Qt(e,1,t,Ae.min(),r,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,Ae.min(),Ae.min(),wr.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,Ae.min(),Ae.min(),wr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(e,t){this.position=e,this.inclusive=t}}function V_(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(u.referenceValue),t.key):r=ia(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function M_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rr(n.position[t],e.position[t]))return!1;return!0}class uh{constructor(e,t="asc"){this.field=e,this.dir=t}}function rN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class WE{}class Et extends WE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new iN(e,t,r):t==="array-contains"?new lN(e,r):t==="in"?new uN(e,r):t==="not-in"?new cN(e,r):t==="array-contains-any"?new hN(e,r):new Et(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new oN(e,r):new aN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ia(t,this.value)):t!==null&&Xs(this.value)===Xs(t)&&this.matchesComparison(ia(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends WE{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ir(e,t)}matches(e){return KE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function KE(n){return n.op==="and"}function GE(n){return sN(n)&&KE(n)}function sN(n){for(const e of n.filters)if(e instanceof ir)return!1;return!0}function vp(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+oa(n.value);if(GE(n))return n.filters.map((e=>vp(e))).join(",");{const e=n.filters.map((t=>vp(t))).join(",");return`${n.op}(${e})`}}function QE(n,e){return n instanceof Et?(function(r,o){return o instanceof Et&&r.op===o.op&&r.field.isEqual(o.field)&&Rr(r.value,o.value)})(n,e):n instanceof ir?(function(r,o){return o instanceof ir&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,d)=>a&&QE(u,o.filters[d])),!0):!1})(n,e):void ke(19439)}function JE(n){return n instanceof Et?(function(t){return`${t.field.canonicalString()} ${t.op} ${oa(t.value)}`})(n):n instanceof ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(JE).join(" ,")+"}"})(n):"Filter"}class iN extends Et{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class oN extends Et{constructor(e,t){super(e,"in",t),this.keys=XE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class aN extends Et{constructor(e,t){super(e,"not-in",t),this.keys=XE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function XE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>Ee.fromName(r.referenceValue)))}class lN extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hm(t)&&Hl(t.arrayValue,this.value)}}class uN extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hl(this.value.arrayValue,t)}}class cN extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hl(this.value.arrayValue,t)}}class hN extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Hl(this.value.arrayValue,r)))}}class dN{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Pe=null}}function j_(n,e=null,t=[],r=[],o=null,a=null,u=null){return new dN(n,e,t,r,o,a,u)}function dm(n){const e=qe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>vp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>oa(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>oa(r))).join(",")),e.Pe=t}return e.Pe}function fm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!M_(n.startAt,e.startAt)&&M_(n.endAt,e.endAt)}function _p(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ru{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function fN(n,e,t,r,o,a,u,d){return new ru(n,e,t,r,o,a,u,d)}function pm(n){return new ru(n)}function F_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function YE(n){return n.collectionGroup!==null}function Al(n){const e=qe(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Pt(Xt.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new uh(a,r))})),t.has(Xt.keyField().canonicalString())||e.Te.push(new uh(Xt.keyField(),r))}return e.Te}function xr(n){const e=qe(n);return e.Ie||(e.Ie=pN(e,Al(n))),e.Ie}function pN(n,e){if(n.limitType==="F")return j_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new uh(o.field,a)}));const t=n.endAt?new lh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new lh(n.startAt.position,n.startAt.inclusive):null;return j_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function wp(n,e){const t=n.filters.concat([e]);return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ep(n,e,t){return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mh(n,e){return fm(xr(n),xr(e))&&n.limitType===e.limitType}function ZE(n){return`${dm(xr(n))}|lt:${n.limitType}`}function Ho(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>JE(o))).join(", ")}]`),Lh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>oa(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>oa(o))).join(",")),`Target(${r})`})(xr(n))}; limitType=${n.limitType})`}function jh(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of Al(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(u,d,f){const m=V_(u,d,f);return u.inclusive?m<=0:m<0})(r.startAt,Al(r),o)||r.endAt&&!(function(u,d,f){const m=V_(u,d,f);return u.inclusive?m>=0:m>0})(r.endAt,Al(r),o))})(n,e)}function mN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eT(n){return(e,t)=>{let r=!1;for(const o of Al(n)){const a=gN(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function gN(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?ia(f,m):ke(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:n.dir})}}class Ji{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return jE(this.inner)}size(){return this.innerSize}}const yN=new gt(Ee.comparator);function Ys(){return yN}const tT=new gt(Ee.comparator);function Il(...n){let e=tT;for(const t of n)e=e.insert(t.key,t);return e}function vN(n){let e=tT;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Li(){return kl()}function nT(){return kl()}function kl(){return new Ji((n=>n.toString()),((n,e)=>n.isEqual(e)))}const _N=new Pt(Ee.comparator);function We(...n){let e=_N;for(const t of n)e=e.add(t);return e}const wN=new Pt(Ve);function EN(){return wN}function mm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function rT(n){return{integerValue:""+n}}function TN(n,e){return QP(e)?rT(e):mm(n,e)}class Fh{constructor(){this._=void 0}}function IN(n,e,t){return n instanceof Tp?(function(o,a){const u={fields:{[zE]:{stringValue:UE},[$E]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&cm(a)&&(a=Vh(a)),a&&(u.fields[BE]=a),{mapValue:u}})(t,e):n instanceof ch?sT(n,e):n instanceof hh?iT(n,e):(function(o,a){const u=SN(o,a),d=U_(u)+U_(o.Ee);return yp(u)&&yp(o.Ee)?rT(d):mm(o.serializer,d)})(n,e)}function xN(n,e,t){return n instanceof ch?sT(n,e):n instanceof hh?iT(n,e):t}function SN(n,e){return n instanceof Ip?(function(r){return yp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Tp extends Fh{}class ch extends Fh{constructor(e){super(),this.elements=e}}function sT(n,e){const t=oT(e);for(const r of n.elements)t.some((o=>Rr(o,r)))||t.push(r);return{arrayValue:{values:t}}}class hh extends Fh{constructor(e){super(),this.elements=e}}function iT(n,e){let t=oT(e);for(const r of n.elements)t=t.filter((o=>!Rr(o,r)));return{arrayValue:{values:t}}}class Ip extends Fh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function U_(n){return pt(n.integerValue||n.doubleValue)}function oT(n){return hm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function bN(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof ch&&o instanceof ch||r instanceof hh&&o instanceof hh?sa(r.elements,o.elements,Rr):r instanceof Ip&&o instanceof Ip?Rr(r.Ee,o.Ee):r instanceof Tp&&o instanceof Tp})(n.transform,e.transform)}class Mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class gm{}function aT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new CN(n.key,Mi.none()):new ym(n.key,n.data,Mi.none());{const t=n.data,r=wr.empty();let o=new Pt(Xt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Uh(n.key,r,new Vs(o.toArray()),Mi.none())}}function RN(n,e,t){n instanceof ym?(function(o,a,u){const d=o.value.clone(),f=B_(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Uh?(function(o,a,u){if(!qc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=B_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(lT(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Pl(n,e,t,r){return n instanceof ym?(function(a,u,d,f){if(!qc(a.precondition,u))return d;const m=a.value.clone(),v=$_(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof Uh?(function(a,u,d,f){if(!qc(a.precondition,u))return d;const m=$_(a.fieldTransforms,f,u),v=u.data;return v.setAll(lT(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(a,u,d){return qc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function z_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&sa(r,o,((a,u)=>bN(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ym extends gm{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Uh extends gm{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function lT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function B_(n,e,t){const r=new Map;ct(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,xN(u,d,t[o]))}return r}function $_(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,IN(a,u,e))}return r}class CN extends gm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AN{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&RN(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Pl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=nT();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=aT(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),We())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,((t,r)=>z_(t,r)))&&sa(this.baseMutations,e.baseMutations,((t,r)=>z_(t,r)))}}class kN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class PN{constructor(e,t){this.count=e,this.unchangedNames=t}}var wt,$e;function uT(n){if(n===void 0)return es("GRPC error has no .code"),re.UNKNOWN;switch(n){case wt.OK:return re.OK;case wt.CANCELLED:return re.CANCELLED;case wt.UNKNOWN:return re.UNKNOWN;case wt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case wt.INTERNAL:return re.INTERNAL;case wt.UNAVAILABLE:return re.UNAVAILABLE;case wt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case wt.NOT_FOUND:return re.NOT_FOUND;case wt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case wt.ABORTED:return re.ABORTED;case wt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case wt.DATA_LOSS:return re.DATA_LOSS;default:return ke(39323,{code:n})}}($e=wt||(wt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";const NN=new $s([4294967295,4294967295],0);function q_(n){const e=DE().encode(n),t=new bE;return t.update(e),new Uint8Array(t.digest())}function H_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $s([t,r],0),new $s([o,a],0)]}class vm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xl(`Invalid padding: ${t}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new xl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=$s.fromNumber(this.fe)}pe(e,t,r){let o=e.add(t.multiply($s.fromNumber(r)));return o.compare(NN)===1&&(o=new $s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=q_(e),[r,o]=H_(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,o,a);if(!this.ye(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new vm(a,o,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.fe===0)return;const t=q_(e),[r,o]=H_(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,o,a);this.we(u)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new zh(Ae.min(),o,new gt(Ve),Ys(),We())}}class su{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new su(r,t,We(),We(),We())}}class Hc{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=o}}class cT{constructor(e,t){this.targetId=e,this.De=t}}class hT{constructor(e,t,r=Bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class W_{constructor(){this.ve=0,this.Ce=K_(),this.Fe=Bt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=We(),t=We(),r=We();return this.Ce.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ke(38017,{changeType:a})}})),new su(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=K_()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class ON{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ys(),this.je=kc(),this.Je=kc(),this.He=new gt(Ve)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((r,o)=>{this.nt(o)&&t(o)}))}it(e){const t=e.targetId,r=e.De.count,o=this.st(t);if(o){const a=o.target;if(_p(a))if(r===0){const u=new Ee(a.path);this.Xe(t,u,Qt.newNoDocument(u,Ae.min()))}else ct(r===1,20013,{expectedCount:r});else{const u=this.ot(t);if(u!==r){const d=this._t(e),f=d?this.ut(d,e,u):1;if(f!==0){this.rt(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,m)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=Js(r).toUint8Array()}catch(f){if(f instanceof FE)return Ks("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new vm(u,o,a)}catch(f){return Ks(f instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.fe===0?null:d}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const u=this.We.lt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,a,null),o++)})),o}Pt(e){const t=new Map;this.Ge.forEach(((a,u)=>{const d=this.st(u);if(d){if(a.current&&_p(d.target)){const f=new Ee(d.target.path);this.Tt(f).has(u)||this.It(u,f)||this.Xe(u,f,Qt.newNoDocument(f,e))}a.Ne&&(t.set(u,a.Le()),a.ke())}}));let r=We();this.Je.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const m=this.st(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.ze.forEach(((a,u)=>u.setReadTime(e)));const o=new zh(e,t,this.He,this.ze,r);return this.ze=Ys(),this.je=kc(),this.Je=kc(),this.He=new gt(Ve),o}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new W_,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Pt(Ve),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Pt(Ve),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new W_),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function kc(){return new gt(Ee.comparator)}function K_(){return new gt(Ee.comparator)}const DN={asc:"ASCENDING",desc:"DESCENDING"},LN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VN={and:"AND",or:"OR"};class MN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xp(n,e){return n.useProto3Json||Lh(e)?e:{value:e}}function Sp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Yo(n){return ct(!!n,49232),Ae.fromTimestamp((function(t){const r=Qs(t);return new it(r.seconds,r.nanos)})(n))}function fT(n,e){return bp(n,e).canonicalString()}function bp(n,e){const t=(function(o){return new Ze(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function pT(n){const e=Ze.fromString(n);return ct(_T(e),10190,{key:e.toString()}),e}function Lf(n,e){const t=pT(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(gT(t))}function mT(n,e){return fT(n.databaseId,e)}function jN(n){const e=pT(n);return e.length===4?Ze.emptyPath():gT(e)}function G_(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gT(n){return ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function FN(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ke(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,v){return m.useProto3Json?(ct(v===void 0||typeof v=="string",58123),Bt.fromBase64String(v||"")):(ct(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Bt.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(m){const v=m.code===void 0?re.UNKNOWN:uT(m.code);return new ce(v,m.message||"")})(u);t=new hT(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Lf(n,r.document.name),a=Yo(r.document.updateTime),u=r.document.createTime?Yo(r.document.createTime):Ae.min(),d=new wr({mapValue:{fields:r.document.fields}}),f=Qt.newFoundDocument(o,a,u,d),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Hc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Lf(n,r.document),a=r.readTime?Yo(r.readTime):Ae.min(),u=Qt.newNoDocument(o,a),d=r.removedTargetIds||[];t=new Hc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Lf(n,r.document),a=r.removedTargetIds||[];t=new Hc([],a,o,null)}else{if(!("filter"in e))return ke(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new PN(o,a),d=r.targetId;t=new cT(d,u)}}return t}function UN(n,e){return{documents:[mT(n,e.path)]}}function zN(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=mT(n,o);const a=(function(m){if(m.length!==0)return vT(ir.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((v=>(function(I){return{field:Wo(I.field),direction:qN(I.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=xp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{Vt:t,parent:o}}function BN(n){let e=jN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ct(r===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(w){const I=yT(w);return I instanceof ir&&GE(I)?I.getFilters():[I]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((I=>(function(k){return new uh(Ko(k.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(I)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let I;return I=typeof w=="object"?w.value:w,Lh(I)?null:I})(t.limit));let f=null;t.startAt&&(f=(function(w){const I=!!w.before,j=w.values||[];return new lh(j,I)})(t.startAt));let m=null;return t.endAt&&(m=(function(w){const I=!w.before,j=w.values||[];return new lh(j,I)})(t.endAt)),fN(e,o,u,a,d,"F",f,m)}function $N(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ko(t.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ko(t.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ko(t.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ko(t.unaryFilter.field);return Et.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Et.create(Ko(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ir.create(t.compositeFilter.filters.map((r=>yT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(t.compositeFilter.op))})(n):ke(30097,{filter:n})}function qN(n){return DN[n]}function HN(n){return LN[n]}function WN(n){return VN[n]}function Wo(n){return{fieldPath:n.canonicalString()}}function Ko(n){return Xt.fromServerFormat(n.fieldPath)}function vT(n){return n instanceof Et?(function(t){if(t.op==="=="){if(L_(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NAN"}};if(D_(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(L_(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NAN"}};if(D_(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(t.field),op:HN(t.op),value:t.value}}})(n):n instanceof ir?(function(t){const r=t.getFilters().map((o=>vT(o)));return r.length===1?r[0]:{compositeFilter:{op:WN(t.op),filters:r}}})(n):ke(54877,{filter:n})}function _T(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Ms{constructor(e,t,r,o,a=Ae.min(),u=Ae.min(),d=Bt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class KN{constructor(e){this.gt=e}}function GN(n){const e=BN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ep(e,e.limit,"L"):e}class QN{constructor(){this.Dn=new JN}addToCollectionParentIndex(e,t){return this.Dn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Gs.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class JN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Pt(Ze.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Pt(Ze.comparator)).toArray()}}const Q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wT=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(wT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class aa{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new aa(0)}static ur(){return new aa(-1)}}const J_="LruGarbageCollector",XN=1048576;function X_([n,e],[t,r]){const o=Ve(n,t);return o===0?Ve(e,r):o}class YN{constructor(e){this.Tr=e,this.buffer=new Pt(X_),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();X_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ZN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){he(J_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ya(t)?he(J_,"Ignoring IndexedDB error during garbage collection: ",t):await Oh(t)}await this.Rr(3e5)}))}}class eO{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Dh.ue);const r=new YN(t);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Q_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q_):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,o,a,u,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,d=Date.now(),this.removeTargets(e,r,t)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(m=Date.now(),qo()<=je.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w}))))}}function tO(n,e){return new eO(n,e)}class nO{constructor(){this.changes=new Ji((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sO{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Pl(r.mutation,o,Vs.empty(),it.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=We()){const o=Li();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let u=Il();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Li();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,We())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,o){let a=Ys();const u=kl(),d=(function(){return kl()})();return t.forEach(((f,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Uh)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Pl(v.mutation,m,v.mutation.getFieldMask(),it.now())):u.set(m.key,Vs.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,v)=>u.set(m,v))),t.forEach(((m,v)=>{var w;return d.set(m,new rO(v,(w=u.get(m))!==null&&w!==void 0?w:null))})),d)))}recalculateAndSaveOverlays(e,t){const r=kl();let o=new gt(((u,d)=>u-d)),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||Vs.empty();v=d.applyToLocalView(m,v),r.set(f,v);const w=(o.get(d.batchId)||We()).add(f);o=o.insert(d.batchId,w)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,w=nT();v.forEach((I=>{if(!a.has(I)){const j=aT(t.get(I),r.get(I));j!==null&&w.set(I,j),a=a.add(I)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return Z.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):YE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):Z.resolve(Li());let d=Bl,f=a;return u.next((m=>Z.forEach(m,((v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(e,v).next((I=>{f=f.insert(v,I)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,We()))).next((v=>({batchId:d,changes:vN(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((r=>{let o=Il();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=Il();return this.indexManager.getCollectionParents(e,a).next((d=>Z.forEach(d,(f=>{const m=(function(w,I){return new ru(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((v=>{v.forEach(((w,I)=>{u=u.insert(w,I)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((u=>{a.forEach(((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Qt.newInvalidDocument(v)))}));let d=Il();return u.forEach(((f,m)=>{const v=a.get(f);v!==void 0&&Pl(v.mutation,m,Vs.empty(),it.now()),jh(t,m)&&(d=d.insert(f,m))})),d}))}}class iO{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Z.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Yo(o.createTime)}})(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(o){return{name:o.name,query:GN(o.bundledQuery),readTime:Yo(o.readTime)}})(t)),Z.resolve()}}class oO{constructor(){this.overlays=new gt(Ee.comparator),this.kr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Li();return Z.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.wt(e,t,a)})),Z.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const o=Li(),a=t.length+1,u=new Ee(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new gt(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Li(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Li(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>d.set(m,v))),!(d.size()>=o)););return Z.resolve(d)}wt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new kN(t,r));let a=this.kr.get(t);a===void 0&&(a=We(),this.kr.set(t,a)),this.kr.set(t,a.add(r.key))}}class aO{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}class _m{constructor(){this.qr=new Pt(Vt.Qr),this.$r=new Pt(Vt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Vt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Vt(e,t))}Gr(e,t){e.forEach((r=>this.removeReference(r,t)))}zr(e){const t=new Ee(new Ze([])),r=new Vt(t,e),o=new Vt(t,e+1),a=[];return this.$r.forEachInRange([r,o],(u=>{this.Wr(u),a.push(u.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ee(new Ze([])),r=new Vt(t,e),o=new Vt(t,e+1);let a=We();return this.$r.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Vt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ee.comparator(e.key,t.key)||Ve(e.Hr,t.Hr)}static Ur(e,t){return Ve(e.Hr,t.Hr)||Ee.comparator(e.key,t.key)}}class lO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Pt(Vt.Qr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new AN(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Yr=this.Yr.add(new Vt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(u)}lookupMutationBatch(e,t){return Z.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),a=o<0?0:o;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?GP:this.er-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vt(t,0),o=new Vt(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,o],(u=>{const d=this.Zr(u.Hr);a.push(d)})),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pt(Ve);return t.forEach((o=>{const a=new Vt(o,0),u=new Vt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,u],(d=>{r=r.add(d.Hr)}))})),Z.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const u=new Vt(new Ee(a),0);let d=new Pt(Ve);return this.Yr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Hr)),!0)}),u),Z.resolve(this.ei(d))}ei(e){const t=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ct(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Z.forEach(t.mutations,(o=>{const a=new Vt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,t){const r=new Vt(t,0),o=this.Yr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class uO{constructor(e){this.ni=e,this.docs=(function(){return new gt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let r=Ys();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Qt.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Ys();const u=t.path,d=new Ee(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||qP($P(v),r)<=0||(o.has(v.key)||jh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,r,o){ke(9500)}ri(e,t){return Z.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new cO(this)}getSize(e){return Z.resolve(this.size)}}class cO extends nO{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(r)})),Z.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class hO{constructor(e){this.persistence=e,this.ii=new Ji((t=>dm(t)),fm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.si=0,this.oi=new _m,this.targetCount=0,this._i=aa.ar()}forEachTarget(e,t){return this.ii.forEach(((r,o)=>t(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),Z.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new aa(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.hr(t),Z.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.ii.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ii.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Z.waitFor(a).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.oi.containsKey(t))}}class ET{constructor(e,t){this.ai={},this.overlays={},this.ui=new Dh(0),this.ci=!1,this.ci=!0,this.li=new aO,this.referenceDelegate=e(this),this.hi=new hO(this),this.indexManager=new QN,this.remoteDocumentCache=(function(o){return new uO(o)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new KN(t),this.Ti=new iO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new lO(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const o=new dO(this.ui.next());return this.referenceDelegate.Ii(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,t){return Z.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,t))))}}class dO extends WP{constructor(e){super(),this.currentSequenceNumber=e}}class wm{constructor(e){this.persistence=e,this.Ai=new _m,this.Ri=null}static Vi(e){return new wm(e)}get mi(){if(this.Ri)return this.Ri;throw ke(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((o=>this.mi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.mi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.mi,(r=>{const o=Ee.fromPath(r);return this.fi(e,o).next((a=>{a||t.removeEntry(o,Ae.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return Z.or([()=>Z.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class dh{constructor(e,t){this.persistence=e,this.gi=new Ji((r=>JP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=tO(this,t)}static Vi(e,t){return new dh(e,t)}Ii(){}di(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}yr(e){let t=0;return this.gr(e,(r=>{t++})).next((()=>t))}gr(e,t){return Z.forEach(this.gi,((r,o)=>this.Sr(e,r,o).next((a=>a?Z.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ri(e,(u=>this.Sr(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Ae.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Z.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$c(e.data.value)),t}Sr(e,t,r){return Z.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Em{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=o}static Es(e,t){let r=We(),o=We();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Em(e,t.fromCache,r,o)}}class fO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pO{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return JR()?8:KP(Yt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ps(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ys(e,t,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new fO;return this.ws(e,t,u).next((d=>{if(a.result=d,this.Rs)return this.Ss(e,t,u,d.size)}))})).next((()=>a.result))}Ss(e,t,r,o){return r.documentReadCount<this.Vs?(qo()<=je.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ho(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(qo()<=je.DEBUG&&he("QueryEngine","Query:",Ho(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(qo()<=je.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ho(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):Z.resolve())}ps(e,t){if(F_(t))return Z.resolve(null);let r=xr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Ep(t,null,"F"),r=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=We(...a);return this.gs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,d);return this.Ds(t,m,u,f.readTime)?this.ps(e,Ep(t,null,"F")):this.vs(e,m,t,f)}))))})))))}ys(e,t,r,o){return F_(t)||o.isEqual(Ae.min())?Z.resolve(null):this.gs.getDocuments(e,r).next((a=>{const u=this.bs(t,a);return this.Ds(t,u,r,o)?Z.resolve(null):(qo()<=je.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ho(t)),this.vs(e,u,t,BP(o,Bl)).next((d=>d)))}))}bs(e,t){let r=new Pt(eT(e));return t.forEach(((o,a)=>{jh(e,a)&&(r=r.add(a))})),r}Ds(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ws(e,t,r){return qo()<=je.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ho(t)),this.gs.getDocumentsMatchingQuery(e,t,Gs.min(),r)}vs(e,t,r,o){return this.gs.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}const Tm="LocalStore",mO=3e8;class gO{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new gt(Ve),this.Ms=new Ji((a=>dm(a)),fm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sO(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function yO(n,e,t,r){return new gO(n,e,t,r)}async function TT(n,e){const t=qe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=We();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Bs:m,removedBatchIds:u,addedBatchIds:d})))}))}))}function IT(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function vO(n,e){const t=qe(n),r=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach(((v,w)=>{const I=o.get(w);if(!I)return;d.push(t.hi.removeMatchingKeys(a,v.removedDocuments,w).next((()=>t.hi.addMatchingKeys(a,v.addedDocuments,w))));let j=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?j=j.withResumeToken(Bt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(v.resumeToken,r)),o=o.insert(w,j),(function(N,b,X){return N.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=mO?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(I,j,v)&&d.push(t.hi.updateTargetData(a,j))}));let f=Ys(),m=We();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),d.push(_O(a,u,e.documentUpdates).next((v=>{f=v.Ls,m=v.ks}))),!r.isEqual(Ae.min())){const v=t.hi.getLastRemoteSnapshotVersion(a).next((w=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(v)}return Z.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.Fs=o,a)))}function _O(n,e,t){let r=We(),o=We();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=Ys();return t.forEach(((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Ae.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):he(Tm,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Ls:u,ks:o}}))}function wO(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.hi.getTargetData(r,e).next((a=>a?(o=a,Z.resolve(o)):t.hi.allocateTargetId(r).next((u=>(o=new Ms(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r}))}async function Rp(n,e,t){const r=qe(n),o=r.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!ya(u))throw u;he(Tm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(o.target)}function Y_(n,e,t){const r=qe(n);let o=Ae.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,v){const w=qe(f),I=w.Ms.get(v);return I!==void 0?Z.resolve(w.Fs.get(I)):w.hi.getTargetData(m,v)})(r,u,xr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?o:Ae.min(),t?a:We()))).next((d=>(EO(r,mN(e),d),{documents:d,qs:a})))))}function EO(n,e,t){let r=n.xs.get(e)||Ae.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.xs.set(e,r)}class Z_{constructor(){this.activeTargetIds=EN()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TO{constructor(){this.Fo=new Z_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Z_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IO{xo(e){}shutdown(){}}const e0="ConnectivityMonitor";class t0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){he(e0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){he(e0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function Cp(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Vf="RestConnection",xO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SO{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===oh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,a){const u=Cp(),d=this.Go(e,t.toUriEncodedString());he(Vf,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,o,a);const{host:m}=new URL(d),v=Ki(m);return this.jo(e,d,f,r,v).then((w=>(he(Vf,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw Ks(Vf,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w}))}Jo(e,t,r,o,a,u){return this.Wo(e,t,r,o,a)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ga})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}Go(e,t){const r=xO[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}class bO{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const Kt="WebChannelConnection";class RO extends SO{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,o,a){const u=Cp();return new Promise(((d,f)=>{const m=new RE;m.setWithCredentials(!0),m.listenOnce(CE.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Bc.NO_ERROR:const w=m.getResponseJson();he(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case Bc.TIMEOUT:he(Kt,`RPC '${e}' ${u} timed out`),f(new ce(re.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const I=m.getStatus();if(he(Kt,`RPC '${e}' ${u} failed with status:`,I,"response text:",m.getResponseText()),I>0){let j=m.getResponseJson();Array.isArray(j)&&(j=j[0]);const k=j?.error;if(k&&k.status&&k.message){const N=(function(X){const Q=X.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(Q)>=0?Q:re.UNKNOWN})(k.status);f(new ce(N,k.message))}else f(new ce(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ce(re.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{c_:e,streamId:u,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{he(Kt,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);he(Kt,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",v,r,15)}))}P_(e,t,r){const o=Cp(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=PE(),d=kE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");he(Kt,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=u.createWebChannel(v,f);this.T_(w);let I=!1,j=!1;const k=new bO({Ho:b=>{j?he(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(I||(he(Kt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),I=!0),he(Kt,`RPC '${e}' stream ${o} sending:`,b),w.send(b))},Yo:()=>w.close()}),N=(b,X,Q)=>{b.listen(X,(J=>{try{Q(J)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return N(w,Tl.EventType.OPEN,(()=>{j||(he(Kt,`RPC '${e}' stream ${o} transport opened.`),k.s_())})),N(w,Tl.EventType.CLOSE,(()=>{j||(j=!0,he(Kt,`RPC '${e}' stream ${o} transport closed`),k.__(),this.I_(w))})),N(w,Tl.EventType.ERROR,(b=>{j||(j=!0,Ks(Kt,`RPC '${e}' stream ${o} transport errored. Name:`,b.name,"Message:",b.message),k.__(new ce(re.UNAVAILABLE,"The operation could not be completed")))})),N(w,Tl.EventType.MESSAGE,(b=>{var X;if(!j){const Q=b.data[0];ct(!!Q,16349);const J=Q,Y=J?.error||((X=J[0])===null||X===void 0?void 0:X.error);if(Y){he(Kt,`RPC '${e}' stream ${o} received error:`,Y);const ue=Y.status;let de=(function(R){const O=wt[R];if(O!==void 0)return uT(O)})(ue),P=Y.message;de===void 0&&(de=re.INTERNAL,P="Unknown error status: "+ue+" with message "+Y.message),j=!0,k.__(new ce(de,P)),w.close()}else he(Kt,`RPC '${e}' stream ${o} received:`,Q),k.a_(Q)}})),N(d,AE.STAT_EVENT,(b=>{b.stat===pp.PROXY?he(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===pp.NOPROXY&&he(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.o_()}),0),k}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function Mf(){return typeof document<"u"?document:null}function Bh(n){return new MN(n,!0)}class xT{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=o,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-r);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const n0="PersistentStream";class CO{constructor(e,t,r,o,a,u,d,f){this.Fi=e,this.w_=r,this.S_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new xT(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(es(t.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.b_===t&&this.W_(r,o)}),(r=>{e((()=>{const o=new ce(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)}))}))}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{r((()=>this.G_(o)))})),this.stream.onMessage((o=>{r((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return he(n0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(he(n0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AO extends CO{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=FN(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ae.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?Yo(u.readTime):Ae.min()})(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=G_(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=_p(f)?{documents:UN(a,f)}:{query:zN(a,f).Vt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=dT(a,u.resumeToken);const m=xp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Sp(a,u.snapshotVersion.toTimestamp());const m=xp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=$N(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=G_(this.serializer),t.removeTarget=e,this.k_(t)}}class kO{}class PO extends kO{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ce(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,bp(t,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(re.UNKNOWN,a.toString())}))}Jo(e,t,r,o,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Jo(e,bp(t,r),o,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(re.UNKNOWN,u.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class NO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(es(t),this._a=!1):he("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}const la="RemoteStore";class OO{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((u=>{r.enqueueAndForget((async()=>{ou(this)&&(he(la,"Restarting streams for network reachability change."),await(async function(f){const m=qe(f);m.Ia.add(4),await iu(m),m.Aa.set("Unknown"),m.Ia.delete(4),await $h(m)})(this))}))})),this.Aa=new NO(r,o)}}async function $h(n){if(ou(n))for(const e of n.da)await e(!0)}async function iu(n){for(const e of n.da)await e(!1)}function ST(n,e){const t=qe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),bm(t)?Sm(t):_a(t).x_()&&xm(t,e))}function Im(n,e){const t=qe(n),r=_a(t);t.Ta.delete(e),r.x_()&&bT(t,e),t.Ta.size===0&&(r.x_()?r.B_():ou(t)&&t.Aa.set("Unknown"))}function xm(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_a(n).H_(e)}function bT(n,e){n.Ra.$e(e),_a(n).Y_(e)}function Sm(n){n.Ra=new ON({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),_a(n).start(),n.Aa.aa()}function bm(n){return ou(n)&&!_a(n).M_()&&n.Ta.size>0}function ou(n){return qe(n).Ia.size===0}function RT(n){n.Ra=void 0}async function DO(n){n.Aa.set("Online")}async function LO(n){n.Ta.forEach(((e,t)=>{xm(n,e)}))}async function VO(n,e){RT(n),bm(n)?(n.Aa.la(e),Sm(n)):n.Aa.set("Unknown")}async function MO(n,e,t){if(n.Aa.set("Online"),e instanceof hT&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ta.delete(d),o.Ra.removeTarget(d))})(n,e)}catch(r){he(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await r0(n,r)}else if(e instanceof Hc?n.Ra.Ye(e):e instanceof cT?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ae.min()))try{const r=await IT(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Ra.Pt(u);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ta.get(m);v&&a.Ta.set(m,v.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,m)=>{const v=a.Ta.get(f);if(!v)return;a.Ta.set(f,v.withResumeToken(Bt.EMPTY_BYTE_STRING,v.snapshotVersion)),bT(a,f);const w=new Ms(v.target,f,m,v.sequenceNumber);xm(a,w)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){he(la,"Failed to raise snapshot:",r),await r0(n,r)}}async function r0(n,e,t){if(!ya(e))throw e;n.Ia.add(1),await iu(n),n.Aa.set("Offline"),t||(t=()=>IT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(la,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await $h(n)}))}async function s0(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),he(la,"RemoteStore received new credentials");const r=ou(t);t.Ia.add(3),await iu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await $h(t)}async function jO(n,e){const t=qe(n);e?(t.Ia.delete(2),await $h(t)):e||(t.Ia.add(2),await iu(t),t.Aa.set("Unknown"))}function _a(n){return n.Va||(n.Va=(function(t,r,o){const a=qe(t);return a.ia(),new AO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:DO.bind(null,n),e_:LO.bind(null,n),n_:VO.bind(null,n),J_:MO.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),bm(n)?Sm(n):n.Aa.set("Unknown")):(await n.Va.stop(),RT(n))}))),n.Va}class Rm{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new Rm(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function CT(n,e){if(es("AsyncQueue",`${e}: ${n}`),ya(n))return new ce(re.UNAVAILABLE,`${e}: ${n}`);throw n}class Zo{static emptySet(e){return new Zo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=Il(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class i0{constructor(){this.fa=new gt(Ee.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ke(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,r)=>{e.push(r)})),e}}class ua{constructor(e,t,r,o,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new ua(e,t,Zo.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class FO{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class UO{constructor(){this.queries=o0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const o=qe(t),a=o.queries;o.queries=o0(),a.forEach(((u,d)=>{for(const f of d.wa)f.onError(r)}))})(this,new ce(re.ABORTED,"Firestore shutting down"))}}function o0(){return new Ji((n=>ZE(n)),Mh)}async function AT(n,e){const t=qe(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Sa()&&e.ba()&&(r=2):(a=new FO,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await t.onListen(o,!0);break;case 1:a.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=CT(u,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&Cm(t)}async function kT(n,e){const t=qe(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.wa.indexOf(e);u>=0&&(a.wa.splice(u,1),a.wa.length===0?o=e.ba()?0:1:!a.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function zO(n,e){const t=qe(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.wa)d.Ca(o)&&(r=!0);u.ya=o}}r&&Cm(t)}function BO(n,e,t){const r=qe(n),o=r.queries.get(e);if(o)for(const a of o.wa)a.onError(t);r.queries.delete(e)}function Cm(n){n.Da.forEach((e=>{e.next()}))}var Ap,a0;(a0=Ap||(Ap={})).Fa="default",a0.Cache="cache";class PT{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Ap.Cache}}class NT{constructor(e){this.key=e}}class OT{constructor(e){this.key=e}}class $O{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=We(),this.mutatedKeys=We(),this.Xa=eT(e),this.eu=new Zo(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new i0,o=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,w)=>{const I=o.get(v),j=jh(this.query,w)?w:null,k=!!I&&this.mutatedKeys.has(I.key),N=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let b=!1;I&&j?I.data.isEqual(j.data)?k!==N&&(r.track({type:3,doc:j}),b=!0):this.iu(I,j)||(r.track({type:2,doc:j}),b=!0,(f&&this.Xa(j,f)>0||m&&this.Xa(j,m)<0)&&(d=!0)):!I&&j?(r.track({type:0,doc:j}),b=!0):I&&!j&&(r.track({type:1,doc:I}),b=!0,(f||m)&&(d=!0)),b&&(j?(u=u.add(j),a=N?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{eu:u,ru:r,Ds:d,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort(((v,w)=>(function(j,k){const N=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{At:b})}};return N(j)-N(k)})(v.type,w.type)||this.Xa(v.doc,w.doc))),this.su(r),o=o!=null&&o;const d=t&&!o?this.ou():[],f=this.Za.size===0&&this.current&&!o?1:0,m=f!==this.Ya;return this.Ya=f,u.length!==0||m?{snapshot:new ua(this.query,e.eu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new i0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=We(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const t=[];return e.forEach((r=>{this.Za.has(r)||t.push(new OT(r))})),this.Za.forEach((r=>{e.has(r)||t.push(new NT(r))})),t}uu(e){this.Ha=e.qs,this.Za=We();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ua.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Am="SyncEngine";class qO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class HO{constructor(e){this.key=e,this.lu=!1}}class WO{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Ji((d=>ZE(d)),Mh),this.Tu=new Map,this.Iu=new Set,this.du=new gt(Ee.comparator),this.Eu=new Map,this.Au=new _m,this.Ru={},this.Vu=new Map,this.mu=aa.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function KO(n,e,t=!0){const r=jT(n);let o;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.cu()):o=await DT(r,e,t,!0),o}async function GO(n,e){const t=jT(n);await DT(t,e,!0,!1)}async function DT(n,e,t,r){const o=await wO(n.localStore,xr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await QO(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&ST(n.remoteStore,o),d}async function QO(n,e,t,r,o){n.gu=(w,I,j)=>(async function(N,b,X,Q){let J=b.view.nu(X);J.Ds&&(J=await Y_(N.localStore,b.query,!1).then((({documents:P})=>b.view.nu(P,J))));const Y=Q&&Q.targetChanges.get(b.targetId),ue=Q&&Q.targetMismatches.get(b.targetId)!=null,de=b.view.applyChanges(J,N.isPrimaryClient,Y,ue);return u0(N,b.targetId,de._u),de.snapshot})(n,w,I,j);const a=await Y_(n.localStore,e,!0),u=new $O(e,a.qs),d=u.nu(a.documents),f=su.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);u0(n,t,m._u);const v=new qO(e,t,u);return n.Pu.set(e,v),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),m.snapshot}async function JO(n,e,t){const r=qe(n),o=r.Pu.get(e),a=r.Tu.get(o.targetId);if(a.length>1)return r.Tu.set(o.targetId,a.filter((u=>!Mh(u,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Rp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Im(r.remoteStore,o.targetId),kp(r,o.targetId)})).catch(Oh)):(kp(r,o.targetId),await Rp(r.localStore,o.targetId,!0))}async function XO(n,e){const t=qe(n),r=t.Pu.get(e),o=t.Tu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Im(t.remoteStore,r.targetId))}async function LT(n,e){const t=qe(n);try{const r=await vO(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=t.Eu.get(a);u&&(ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.lu=!0:o.modifiedDocuments.size>0?ct(u.lu,14607):o.removedDocuments.size>0&&(ct(u.lu,42227),u.lu=!1))})),await MT(t,r,e)}catch(r){await Oh(r)}}function l0(n,e,t){const r=qe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Pu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const f=qe(u);f.onlineState=d;let m=!1;f.queries.forEach(((v,w)=>{for(const I of w.wa)I.va(d)&&(m=!0)})),m&&Cm(f)})(r.eventManager,e),o.length&&r.hu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YO(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Eu.get(e),a=o&&o.key;if(a){let u=new gt(Ee.comparator);u=u.insert(a,Qt.newNoDocument(a,Ae.min()));const d=We().add(a),f=new zh(Ae.min(),new Map,new gt(Ve),u,d);await LT(r,f),r.du=r.du.remove(a),r.Eu.delete(e),km(r)}else await Rp(r.localStore,e,!1).then((()=>kp(r,e,t))).catch(Oh)}function kp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((r=>{n.Au.containsKey(r)||VT(n,r)}))}function VT(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Im(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),km(n))}function u0(n,e,t){for(const r of t)r instanceof NT?(n.Au.addReference(r.key,e),ZO(n,r)):r instanceof OT?(he(Am,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||VT(n,r.key)):ke(19791,{yu:r})}function ZO(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(he(Am,"New document in limbo: "+t),n.Iu.add(r),km(n))}function km(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Ee(Ze.fromString(e)),r=n.mu.next();n.Eu.set(r,new HO(t)),n.du=n.du.insert(t,r),ST(n.remoteStore,new Ms(xr(pm(t.path)),r,"TargetPurposeLimboResolution",Dh.ue))}}async function MT(n,e,t){const r=qe(n),o=[],a=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach(((d,f)=>{u.push(r.gu(f,e,t).then((m=>{var v;if((m||t)&&r.isPrimaryClient){const w=m?!m.fromCache:(v=t?.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){o.push(m);const w=Em.Es(f.targetId,m);a.push(w)}})))})),await Promise.all(u),r.hu.J_(o),await(async function(f,m){const v=qe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(m,(I=>Z.forEach(I.Is,(j=>v.persistence.referenceDelegate.addReference(w,I.targetId,j))).next((()=>Z.forEach(I.ds,(j=>v.persistence.referenceDelegate.removeReference(w,I.targetId,j)))))))))}catch(w){if(!ya(w))throw w;he(Tm,"Failed to update sequence numbers: "+w)}for(const w of m){const I=w.targetId;if(!w.fromCache){const j=v.Fs.get(I),k=j.snapshotVersion,N=j.withLastLimboFreeSnapshotVersion(k);v.Fs=v.Fs.insert(I,N)}}})(r.localStore,a))}async function e2(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){he(Am,"User change. New user:",e.toKey());const r=await TT(t.localStore,e);t.currentUser=e,(function(a,u){a.Vu.forEach((d=>{d.forEach((f=>{f.reject(new ce(re.CANCELLED,u))}))})),a.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await MT(t,r.Bs)}}function t2(n,e){const t=qe(n),r=t.Eu.get(e);if(r&&r.lu)return We().add(r.key);{let o=We();const a=t.Tu.get(e);if(!a)return o;for(const u of a){const d=t.Pu.get(u);o=o.unionWith(d.view.tu)}return o}}function jT(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YO.bind(null,e),e.hu.J_=zO.bind(null,e.eventManager),e.hu.pu=BO.bind(null,e.eventManager),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return yO(this.persistence,new pO,e.initialUser,this.serializer)}Du(e){return new ET(wm.Vi,this.serializer)}bu(e){return new TO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class n2 extends fh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ct(this.persistence.referenceDelegate instanceof dh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ZN(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new ET((r=>dh.Vi(r,t)),this.serializer)}}class Pp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>l0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=e2.bind(null,this.syncEngine),await jO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new UO})()}createDatastore(e){const t=Bh(e.databaseInfo.databaseId),r=(function(a){return new RO(a)})(e.databaseInfo);return(function(a,u,d,f){return new PO(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,u,d){return new OO(r,o,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>l0(this.syncEngine,t,0)),(function(){return t0.C()?new t0:new IO})())}createSyncEngine(e,t){return(function(o,a,u,d,f,m,v){const w=new WO(o,a,u,d,f,m);return v&&(w.fu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=qe(o);he(la,"RemoteStore shutting down."),a.Ia.add(5),await iu(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Pp.provider={build:()=>new Pp};class FT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Zs="FirestoreClient";class r2{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Gt.UNAUTHENTICATED,this.clientId=um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{he(Zs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(he(Zs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=CT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function jf(n,e){n.asyncQueue.verifyOperationInProgress(),he(Zs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await TT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>{Ks("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{he("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Ks("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),n._offlineComponents=e}async function c0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await s2(n);he(Zs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>s0(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>s0(e.remoteStore,o))),n._onlineComponents=e}async function s2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Zs,"Using user provided OfflineComponentProvider");try{await jf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ks("Error using user provided cache. Falling back to memory cache: "+t),await jf(n,new fh)}}else he(Zs,"Using default OfflineComponentProvider"),await jf(n,new n2(void 0));return n._offlineComponents}async function i2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Zs,"Using user provided OnlineComponentProvider"),await c0(n,n._uninitializedComponentsProvider._online)):(he(Zs,"Using default OnlineComponentProvider"),await c0(n,new Pp))),n._onlineComponents}async function UT(n){const e=await i2(n),t=e.eventManager;return t.onListen=KO.bind(null,e.syncEngine),t.onUnlisten=JO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=XO.bind(null,e.syncEngine),t}function o2(n,e,t={}){const r=new qs;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const v=new FT({next:I=>{v.Ou(),u.enqueueAndForget((()=>kT(a,w)));const j=I.docs.has(d);!j&&I.fromCache?m.reject(new ce(re.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&I.fromCache&&f&&f.source==="server"?m.reject(new ce(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),w=new PT(pm(d.path),v,{includeMetadataChanges:!0,ka:!0});return AT(a,w)})(await UT(n),n.asyncQueue,e,t,r))),r.promise}function a2(n,e,t={}){const r=new qs;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const v=new FT({next:I=>{v.Ou(),u.enqueueAndForget((()=>kT(a,w))),I.fromCache&&f.source==="server"?m.reject(new ce(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),w=new PT(d,v,{includeMetadataChanges:!0,ka:!0});return AT(a,w)})(await UT(n),n.asyncQueue,e,t,r))),r.promise}function zT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const h0=new Map;const BT="firestore.googleapis.com",d0=!0;class f0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BT,this.ssl=d0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:d0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XN)throw new ce(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NP;switch(r.type){case"firstParty":return new VP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=h0.get(t);r&&(he("ComponentProvider","Removing Datastore"),h0.delete(t),r.terminate())})(this),Promise.resolve()}}function l2(n,e,t,r={}){var o;n=zl(n,qh);const a=Ki(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(Gp(`https://${f}`),Qp("Firestore",!0)),u.host!==BT&&u.host!==f&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:f,ssl:a,emulatorOptions:r});if(!Bi(m,d)&&(n._setSettings(m),r.mockUserToken)){let v,w;if(typeof r.mockUserToken=="string")v=r.mockUserToken,w=Gt.MOCK_USER;else{v=Vw(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new ce(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Gt(I)}n._authCredentials=new OP(new OE(v,w))}}class wa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class kt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(nu(t,kt._jsonSchema))return new kt(e,r||null,new Ee(Ze.fromString(t.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Tt("string",kt._jsonSchemaVersion),referencePath:Tt("string")};class Hs extends wa{constructor(e,t,r){super(e,t,pm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new Ee(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function EV(n,e,...t){if(n=on(n),LE("collection","path",e),n instanceof qh){const r=Ze.fromString(e,...t);return S_(r),new Hs(n,null,r)}{if(!(n instanceof kt||n instanceof Hs))throw new ce(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return S_(r),new Hs(n.firestore,null,r)}}function TV(n,e,...t){if(n=on(n),arguments.length===1&&(e=um.newId()),LE("doc","path",e),n instanceof qh){const r=Ze.fromString(e,...t);return x_(r),new kt(n,null,new Ee(r))}{if(!(n instanceof kt||n instanceof Hs))throw new ce(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return x_(r),new kt(n.firestore,n instanceof Hs?n.converter:null,new Ee(r))}}const p0="AsyncQueue";class m0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new xT(this,"async_queue_retry"),this.oc=()=>{const r=Mf();r&&he(p0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=Mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Mf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new qs;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ya(e))throw e;he(p0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,es("INTERNAL UNHANDLED ERROR: ",g0(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=Rm.createAndSchedule(this,e,t,r,(a=>this.lc(a)));return this.ec.push(o),o}ac(){this.tc&&ke(47125,{hc:g0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function g0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Pm extends qh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new m0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m0(e),this._firestoreClient=void 0,await e}}}function u2(n,e){const t=typeof n=="object"?n:Rh(),r=typeof n=="string"?n:oh,o=bh(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=Ow("firestore");a&&l2(o,...a)}return o}function $T(n){if(n._terminated)throw new ce(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||c2(n),n._firestoreClient}function c2(n){var e,t,r;const o=n._freezeSettings(),a=(function(d,f,m,v){return new ZP(d,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,zT(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new r2(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(d){const f=d?._online.build();return{_offline:d?._offline.build(f),_online:f}})(n._componentsProvider))}class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Bt.fromBase64String(e))}catch(t){throw new ce(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fn(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Tt("string",Fn._jsonSchemaVersion),bytes:Tt("string")};class qT{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class HT{constructor(e){this._methodName=e}}class Sr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sr._jsonSchemaVersion}}static fromJSON(e){if(nu(e,Sr._jsonSchema))return new Sr(e.latitude,e.longitude)}}Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:Tt("string",Sr._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};class br{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new br(e.vectorValues);throw new ce(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}br._jsonSchemaVersion="firestore/vectorValue/1.0",br._jsonSchema={type:Tt("string",br._jsonSchemaVersion),vectorValues:Tt("object")};const h2=/^__.*__$/;function WT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ec:n})}}class Nm{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.fc(e),o}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Np(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(WT(this.Ec)&&h2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class d2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Bh(e)}Dc(e,t,r,o=!1){return new Nm({Ec:e,methodName:t,bc:r,path:Xt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f2(n){const e=n._freezeSettings(),t=Bh(n._databaseId);return new d2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function p2(n,e,t,r=!1){return Om(t,n.Dc(r?4:3,e))}function Om(n,e){if(KT(n=on(n)))return g2("Unsupported field value:",e,n),m2(n,e);if(n instanceof HT)return(function(r,o){if(!WT(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const d of r){let f=Om(d,o.yc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=it.fromDate(r);return{timestampValue:Sp(o.serializer,a)}}if(r instanceof it){const a=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sp(o.serializer,a)}}if(r instanceof Sr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:dT(o.serializer,r._byteString)};if(r instanceof kt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:fT(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof br)return(function(u,d){return{mapValue:{fields:{[qE]:{stringValue:HE},[ah]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw d.wc("VectorValues must only contain numeric values.");return mm(d.serializer,m)}))}}}}}})(r,o);throw o.wc(`Unsupported field value: ${Nh(r)}`)})(n,e)}function m2(n,e){const t={};return jE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(n,((r,o)=>{const a=Om(o,e.Vc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function KT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof Sr||n instanceof Fn||n instanceof kt||n instanceof HT||n instanceof br)}function g2(n,e,t){if(!KT(t)||!VE(t)){const r=Nh(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}const y2=new RegExp("[~\\*/\\[\\]]");function v2(n,e,t){if(e.search(y2)>=0)throw Np(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qT(...e.split("."))._internalPath}catch{throw Np(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Np(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new ce(re.INVALID_ARGUMENT,d+n+f)}class GT{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(QT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class _2 extends GT{data(){return super.data()}}function QT(n,e){return typeof e=="string"?v2(n,e):e instanceof qT?e._internalPath:e._delegate._internalPath}function w2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dm{}class E2 extends Dm{}function IV(n,e,...t){let r=[];e instanceof Dm&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((f=>f instanceof Vm)).length,d=a.filter((f=>f instanceof Lm)).length;if(u>1||u>0&&d>0)throw new ce(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Lm extends E2{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Lm(e,t,r)}_apply(e){const t=this._parse(e);return JT(e._query,t),new wa(e.firestore,e.converter,wp(e._query,t))}_parse(e){const t=f2(e.firestore);return(function(a,u,d,f,m,v,w){let I;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ce(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){v0(w,v);const k=[];for(const N of w)k.push(y0(f,a,N));I={arrayValue:{values:k}}}else I=y0(f,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||v0(w,v),I=p2(d,u,w,v==="in"||v==="not-in");return Et.create(m,v,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Vm extends Dm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vm(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let u=o;const d=a.getFlattenedFilters();for(const f of d)JT(u,f),u=wp(u,f)})(e._query,t),new wa(e.firestore,e.converter,wp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function y0(n,e,t){if(typeof(t=on(t))=="string"){if(t==="")throw new ce(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YE(e)&&t.indexOf("/")!==-1)throw new ce(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ze.fromString(t));if(!Ee.isDocumentKey(r))throw new ce(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return O_(n,new Ee(r))}if(t instanceof kt)return O_(n,t._key);throw new ce(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(t)}.`)}function v0(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JT(n,e){const t=(function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class T2{convertValue(e,t="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return va(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[ah].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((u=>pt(u.doubleValue)));return new br(a)}convertGeoPoint(e){return new Sr(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Vh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const t=Qs(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ze.fromString(e);ct(_T(r),9688,{name:e});const o=new ql(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return o.isEqual(t)||es(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class Sl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ji extends GT{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(QT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ji._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ji._jsonSchemaVersion="firestore/documentSnapshot/1.0",ji._jsonSchema={type:Tt("string",ji._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class Wc extends ji{data(e={}){return super.data(e)}}class ea{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Sl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Wc(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const f=new Wc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Sl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new Wc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Sl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:I2(d.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function I2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:n})}}function xV(n){n=zl(n,kt);const e=zl(n.firestore,Pm);return o2($T(e),n._key).then((t=>x2(e,n,t)))}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:Tt("string",ea._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class XT extends T2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function SV(n){n=zl(n,wa);const e=zl(n.firestore,Pm),t=$T(e),r=new XT(e);return w2(n._query),a2(t,n._query).then((o=>new ea(e,r,n,o)))}function x2(n,e,t){const r=t.docs.get(e._key),o=new XT(n);return new ji(n,o,e._key,r,new Sl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ga=o})(Gi),$i(new Ws("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Pm(new DP(r.getProvider("auth-internal")),new MP(u,r.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ce(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(m.options.projectId,v)})(u,o),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Er(__,w_,e),Er(__,w_,"esm2017")})();const YT="firebasestorage.googleapis.com",S2="storageBucket",b2=120*1e3,R2=600*1e3;class Pr extends kr{constructor(e,t,r=0){super(Ff(e),`Firebase Storage: ${t} (${Ff(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ff(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Cr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Cr||(Cr={}));function Ff(n){return"storage/"+n}function C2(){const n="An unknown error occurred, please check the error payload for server response.";return new Pr(Cr.UNKNOWN,n)}function A2(){return new Pr(Cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function k2(){return new Pr(Cr.CANCELED,"User canceled the upload/download.")}function P2(n){return new Pr(Cr.INVALID_URL,"Invalid URL '"+n+"'.")}function N2(n){return new Pr(Cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function _0(n){return new Pr(Cr.INVALID_ARGUMENT,n)}function ZT(){return new Pr(Cr.APP_DELETED,"The Firebase app was deleted.")}function O2(n){return new Pr(Cr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class rr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=rr.makeFromUrl(e,t)}catch{return new rr(e,"")}if(r.path==="")return r;throw N2(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function m(Y){Y.path_=decodeURIComponent(Y.path)}const v="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",j=new RegExp(`^https?://${w}/${v}/b/${o}/o${I}`,"i"),k={bucket:1,path:3},N=t===YT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,b="([^?#]*)",X=new RegExp(`^https?://${N}/${o}/${b}`,"i"),J=[{regex:d,indices:f,postModify:a},{regex:j,indices:k,postModify:m},{regex:X,indices:{bucket:1,path:2},postModify:m}];for(let Y=0;Y<J.length;Y++){const ue=J[Y],de=ue.regex.exec(e);if(de){const P=de[ue.indices.bucket];let S=de[ue.indices.path];S||(S=""),r=new rr(P,S),ue.postModify(r);break}}if(r==null)throw P2(e);return r}}class D2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function L2(n,e,t){let r=1,o=null,a=null,u=!1,d=0;function f(){return d===2}let m=!1;function v(...b){m||(m=!0,e.apply(null,b))}function w(b){o=setTimeout(()=>{o=null,n(j,f())},b)}function I(){a&&clearTimeout(a)}function j(b,...X){if(m){I();return}if(b){I(),v.call(null,b,...X);return}if(f()||u){I(),v.call(null,b,...X);return}r<64&&(r*=2);let J;d===1?(d=2,J=0):J=(r+Math.random())*1e3,w(J)}let k=!1;function N(b){k||(k=!0,I(),!m&&(o!==null?(b||(d=2),clearTimeout(o),w(0)):b||(d=1)))}return w(0),a=setTimeout(()=>{u=!0,N(!0)},t),N}function V2(n){n(!1)}function M2(n){return n!==void 0}function w0(n,e,t,r){if(r<e)throw _0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw _0(`Invalid value for '${n}'. Expected ${t} or less.`)}function j2(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var ph;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ph||(ph={}));function F2(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}class U2{constructor(e,t,r,o,a,u,d,f,m,v,w,I=!0,j=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=w,this.retry=I,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,N)=>{this.resolve_=k,this.reject_=N,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Nc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===ph.NO_ERROR,f=a.getStatus();if(!d||F2(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===ph.ABORT;r(!1,new Nc(!1,null,v));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Nc(m,a))})},t=(r,o)=>{const a=this.resolve_,u=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());M2(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=C2();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(o.canceled){const f=this.appDelete_?ZT():k2();u(f)}else{const f=A2();u(f)}};this.canceled_?t(!1,new Nc(!1,null,!0)):this.backoffId_=L2(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&V2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function z2(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function B2(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $2(n,e){e&&(n["X-Firebase-GMPID"]=e)}function q2(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function H2(n,e,t,r,o,a,u=!0,d=!1){const f=j2(n.urlParams),m=n.url+f,v=Object.assign({},n.headers);return $2(v,e),z2(v,t),B2(v,a),q2(v,r),new U2(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u,d)}function W2(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function K2(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class mh{constructor(e,t){this._service=e,t instanceof rr?this._location=t:this._location=rr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new mh(e,t)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return K2(this._location.path)}get storage(){return this._service}get parent(){const e=W2(this._location.path);if(e===null)return null;const t=new rr(this._location.bucket,e);return new mh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw O2(e)}}function E0(n,e){const t=e?.[S2];return t==null?null:rr.makeFromBucketSpec(t,n)}function G2(n,e,t,r={}){n.host=`${e}:${t}`;const o=Ki(e);o&&(Gp(`https://${n.host}/b`),Qp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:Vw(a,n.app.options.projectId))}class Q2{constructor(e,t,r,o,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=YT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=b2,this._maxUploadRetryTime=R2,this._requests=new Set,o!=null?this._bucket=rr.makeFromBucketSpec(o,this._host):this._bucket=E0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=E0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){w0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){w0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mh(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new D2(ZT());{const u=H2(e,this._appId,r,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const T0="@firebase/storage",I0="0.13.14";const eI="storage";function J2(n=Rh(),e){n=on(n);const r=bh(n,eI).getImmediate({identifier:e}),o=Ow("storage");return o&&X2(r,...o),r}function X2(n,e,t,r={}){G2(n,e,t,r)}function Y2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Q2(t,r,o,e,Gi)}function Z2(){$i(new Ws(eI,Y2,"PUBLIC").setMultipleInstances(!0)),Er(T0,I0,""),Er(T0,I0,"esm2017")}Z2();const tI={apiKey:"AIzaSyACsMx8R69IaLSm9DWpUupgSRk8wIvjRfs",authDomain:"momentum-premium.firebaseapp.com",projectId:"momentum-premium",storageBucket:"momentum-premium.firebasestorage.app",messagingSenderId:"431576391107",appId:"1:431576391107:web:a01bfbbae32f48077bb176",measurementId:"G-XXXXXXX"};console.log(" Firebase config carregado:",tI);console.log(" Variveis do ambiente Vite:");console.log("API_KEY:","AIzaSyACsMx8R69IaLSm9DWpUupgSRk8wIvjRfs");console.log("API_URL:",am);console.log("ENVIRONMENT:","production");let Wl;sA().length?(Wl=Rh(),console.log(" Firebase App reutilizado (j inicializado)")):(Wl=Fw(tI),console.log(" Firebase inicializado com sucesso"));const sn=RP(Wl),bV=u2(Wl);J2(Wl);window.momentumAuth=sn;const ei=mt.create({baseURL:am,timeout:6e4});function eD(n){return/^https?:\/\//i.test(n)}function tD(n){if(typeof window>"u")return!1;try{return new URL(n,window.location.origin).origin===window.location.origin}catch{return!1}}function nD(n){const e=String(n.baseURL??ei.defaults.baseURL??am??"");return!eD(e)||tD(e)}async function rD(){return sn.currentUser?sn.currentUser:new Promise(n=>{const e=fE(sn,t=>{e(),n(t)})})}ei.interceptors.request.use(async n=>{const e=await rD(),t={...n.headers||{}};if(nD(n)&&(delete t.Authorization,delete t.authorization),e){const r=await e.getIdToken();t["x-id-token"]=r}return t["x-tenant-id"]=SE(),n.headers=t,n});ei.interceptors.response.use(n=>n,n=>{const e=n?.response?.status,t=n?.response?.data?.code,r=n?.response?.data?.error||n?.response?.data?.message||n?.message||"Falha de rede. Tente novamente.";return e===401&&console.error("[API] 401 Unauthorized  verifique x-id-token e x-tenant-id.",{url:n?.config?.url}),(e===402||t==="NO_CREDITS")&&(console.warn("[API] 402 No Credits  crditos insuficientes",{url:n?.config?.url}),typeof window<"u"&&window.dispatchEvent(new CustomEvent("no-credits",{detail:{url:n?.config?.url}}))),e===403&&n?.response?.data?.feature&&console.warn("[API] 403 Upgrade required",n?.response?.data),Promise.reject({status:e,message:r,code:t,raw:n?.response?.data})});const RV=Object.freeze(Object.defineProperty({__proto__:null,api:ei,default:ei},Symbol.toStringTag,{value:"Module"}));async function sD(){try{const{data:n}=await ei.get("/alerts");return!n||n.status!=="ok"?[]:n.items||[]}catch{return[]}}async function iD(n){try{await ei.post(`/alerts/${n}/read`)}catch{}}function oD(){const n=$p(),e=b1({queryKey:["alerts"],queryFn:sD,staleTime:6e4,refetchOnWindowFocus:!1}),t=R1({mutationFn:o=>iD(o),onSuccess:()=>{n.invalidateQueries({queryKey:["alerts"]})}}),r=e.data?.filter(o=>o.status==="unread").length??0;return{...e,unreadCount:r,markAsRead:t.mutateAsync}}const nI=V.createContext(null),aD=({children:n})=>{const[e,t]=V.useState([]),r=V.useCallback(o=>{const a=Date.now()+Math.random();t(u=>[...u,{id:a,...o}]),setTimeout(()=>{t(u=>u.filter(d=>d.id!==a))},4e3)},[]);return T.jsxs(nI.Provider,{value:{notify:r},children:[n,T.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",role:"status","aria-live":"polite",children:e.map(o=>{let a="rounded-xl px-4 py-3 shadow-md border text-sm bg-white";return o.type==="success"?a+=" border-emerald-300 bg-emerald-50 text-emerald-900":o.type==="error"?a+=" border-rose-300 bg-rose-50 text-rose-900":a+=" border-slate-200 bg-white text-slate-900",T.jsx("div",{className:a,children:T.jsx("span",{children:o.message})},o.id)})})]})};function Mm(){const n=V.useContext(nI);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}function rI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=rI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function lD(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=rI(n))&&(r&&(r+=" "),r+=e);return r}const uD=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},cD=(n,e)=>({classGroupId:n,validator:e}),sI=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),gh="-",x0=[],hD="arbitrary..",dD=n=>{const e=pD(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return fD(u);const d=u.split(gh),f=d[0]===""&&d.length>1?1:0;return iI(d,f,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const f=r[u],m=t[u];return f?m?uD(m,f):f:m||x0}return t[u]||x0}}},iI=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const o=n[e],a=t.nextPart.get(o);if(a){const m=iI(n,e+1,a);if(m)return m}const u=t.validators;if(u===null)return;const d=e===0?n.join(gh):n.slice(e).join(gh),f=u.length;for(let m=0;m<f;m++){const v=u[m];if(v.validator(d))return v.classGroupId}},fD=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?hD+r:void 0})(),pD=n=>{const{theme:e,classGroups:t}=n;return mD(t,e)},mD=(n,e)=>{const t=sI();for(const r in n){const o=n[r];jm(o,t,r,e)}return t},jm=(n,e,t,r)=>{const o=n.length;for(let a=0;a<o;a++){const u=n[a];gD(u,e,t,r)}},gD=(n,e,t,r)=>{if(typeof n=="string"){yD(n,e,t);return}if(typeof n=="function"){vD(n,e,t,r);return}_D(n,e,t,r)},yD=(n,e,t)=>{const r=n===""?e:oI(e,n);r.classGroupId=t},vD=(n,e,t,r)=>{if(wD(n)){jm(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(cD(t,n))},_D=(n,e,t,r)=>{const o=Object.entries(n),a=o.length;for(let u=0;u<a;u++){const[d,f]=o[u];jm(f,oI(e,d),t,r)}},oI=(n,e)=>{let t=n;const r=e.split(gh),o=r.length;for(let a=0;a<o;a++){const u=r[a];let d=t.nextPart.get(u);d||(d=sI(),t.nextPart.set(u,d)),t=d}return t},wD=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,ED=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const o=(a,u)=>{t[a]=u,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(a){let u=t[a];if(u!==void 0)return u;if((u=r[a])!==void 0)return o(a,u),u},set(a,u){a in t?t[a]=u:o(a,u)}}},Op="!",S0=":",TD=[],b0=(n,e,t,r,o)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:o}),ID=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const a=[];let u=0,d=0,f=0,m;const v=o.length;for(let N=0;N<v;N++){const b=o[N];if(u===0&&d===0){if(b===S0){a.push(o.slice(f,N)),f=N+1;continue}if(b==="/"){m=N;continue}}b==="["?u++:b==="]"?u--:b==="("?d++:b===")"&&d--}const w=a.length===0?o:o.slice(f);let I=w,j=!1;w.endsWith(Op)?(I=w.slice(0,-1),j=!0):w.startsWith(Op)&&(I=w.slice(1),j=!0);const k=m&&m>f?m-f:void 0;return b0(a,j,I,k)};if(e){const o=e+S0,a=r;r=u=>u.startsWith(o)?a(u.slice(o.length)):b0(TD,!1,u,void 0,!0)}if(t){const o=r;r=a=>t({className:a,parseClassName:o})}return r},xD=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let o=[];for(let a=0;a<t.length;a++){const u=t[a],d=u[0]==="[",f=e.has(u);d||f?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(u)):o.push(u)}return o.length>0&&(o.sort(),r.push(...o)),r}},SD=n=>({cache:ED(n.cacheSize),parseClassName:ID(n),sortModifiers:xD(n),...dD(n)}),bD=/\s+/,RD=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=e,u=[],d=n.trim().split(bD);let f="";for(let m=d.length-1;m>=0;m-=1){const v=d[m],{isExternal:w,modifiers:I,hasImportantModifier:j,baseClassName:k,maybePostfixModifierPosition:N}=t(v);if(w){f=v+(f.length>0?" "+f:f);continue}let b=!!N,X=r(b?k.substring(0,N):k);if(!X){if(!b){f=v+(f.length>0?" "+f:f);continue}if(X=r(k),!X){f=v+(f.length>0?" "+f:f);continue}b=!1}const Q=I.length===0?"":I.length===1?I[0]:a(I).join(":"),J=j?Q+Op:Q,Y=J+X;if(u.indexOf(Y)>-1)continue;u.push(Y);const ue=o(X,b);for(let de=0;de<ue.length;++de){const P=ue[de];u.push(J+P)}f=v+(f.length>0?" "+f:f)}return f},CD=(...n)=>{let e=0,t,r,o="";for(;e<n.length;)(t=n[e++])&&(r=aI(t))&&(o&&(o+=" "),o+=r);return o},aI=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=aI(n[r]))&&(t&&(t+=" "),t+=e);return t},AD=(n,...e)=>{let t,r,o,a;const u=f=>{const m=e.reduce((v,w)=>w(v),n());return t=SD(m),r=t.cache.get,o=t.cache.set,a=d,d(f)},d=f=>{const m=r(f);if(m)return m;const v=RD(f,t);return o(f,v),v};return a=u,(...f)=>a(CD(...f))},kD=[],Ct=n=>{const e=t=>t[n]||kD;return e.isThemeGetter=!0,e},lI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,uI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,PD=/^\d+\/\d+$/,ND=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,LD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$o=n=>PD.test(n),De=n=>!!n&&!Number.isNaN(Number(n)),ks=n=>!!n&&Number.isInteger(Number(n)),Uf=n=>n.endsWith("%")&&De(n.slice(0,-1)),Qr=n=>ND.test(n),MD=()=>!0,jD=n=>OD.test(n)&&!DD.test(n),cI=()=>!1,FD=n=>LD.test(n),UD=n=>VD.test(n),zD=n=>!me(n)&&!ge(n),BD=n=>Ea(n,fI,cI),me=n=>lI.test(n),Pi=n=>Ea(n,pI,jD),zf=n=>Ea(n,KD,De),R0=n=>Ea(n,hI,cI),$D=n=>Ea(n,dI,UD),Oc=n=>Ea(n,mI,FD),ge=n=>uI.test(n),_l=n=>Ta(n,pI),qD=n=>Ta(n,GD),C0=n=>Ta(n,hI),HD=n=>Ta(n,fI),WD=n=>Ta(n,dI),Dc=n=>Ta(n,mI,!0),Ea=(n,e,t)=>{const r=lI.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Ta=(n,e,t=!1)=>{const r=uI.exec(n);return r?r[1]?e(r[1]):t:!1},hI=n=>n==="position"||n==="percentage",dI=n=>n==="image"||n==="url",fI=n=>n==="length"||n==="size"||n==="bg-size",pI=n=>n==="length",KD=n=>n==="number",GD=n=>n==="family-name",mI=n=>n==="shadow",QD=()=>{const n=Ct("color"),e=Ct("font"),t=Ct("text"),r=Ct("font-weight"),o=Ct("tracking"),a=Ct("leading"),u=Ct("breakpoint"),d=Ct("container"),f=Ct("spacing"),m=Ct("radius"),v=Ct("shadow"),w=Ct("inset-shadow"),I=Ct("text-shadow"),j=Ct("drop-shadow"),k=Ct("blur"),N=Ct("perspective"),b=Ct("aspect"),X=Ct("ease"),Q=Ct("animate"),J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ue=()=>[...Y(),ge,me],de=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],S=()=>[ge,me,f],R=()=>[$o,"full","auto",...S()],O=()=>[ks,"none","subgrid",ge,me],L=()=>["auto",{span:["full",ks,ge,me]},ks,ge,me],U=()=>[ks,"auto",ge,me],A=()=>["auto","min","max","fr",ge,me],Fe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],Pe=()=>["auto",...S()],Oe=()=>[$o,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],K=()=>[n,ge,me],_e=()=>[...Y(),C0,R0,{position:[ge,me]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",HD,BD,{size:[ge,me]}],G=()=>[Uf,_l,Pi],oe=()=>["","none","full",m,ge,me],we=()=>["",De,_l,Pi],Ce=()=>["solid","dashed","dotted","double"],Me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Se=()=>[De,Uf,C0,R0],ze=()=>["","none",k,ge,me],Ge=()=>["none",De,ge,me],ot=()=>["none",De,ge,me],_n=()=>[De,ge,me],Un=()=>[$o,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qr],breakpoint:[Qr],color:[MD],container:[Qr],"drop-shadow":[Qr],ease:["in","out","in-out"],font:[zD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qr],shadow:[Qr],spacing:["px",De],text:[Qr],"text-shadow":[Qr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$o,me,ge,b]}],container:["container"],columns:[{columns:[De,me,ge,d]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ue()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[ks,"auto",ge,me]}],basis:[{basis:[$o,"full","auto",d,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[De,$o,"auto","initial","none",me]}],grow:[{grow:["",De,ge,me]}],shrink:[{shrink:["",De,ge,me]}],order:[{order:[ks,"first","last","none",ge,me]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Fe(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...Fe()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Fe()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:Pe()}],mx:[{mx:Pe()}],my:[{my:Pe()}],ms:[{ms:Pe()}],me:[{me:Pe()}],mt:[{mt:Pe()}],mr:[{mr:Pe()}],mb:[{mb:Pe()}],ml:[{ml:Pe()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:Oe()}],w:[{w:[d,"screen",...Oe()]}],"min-w":[{"min-w":[d,"screen","none",...Oe()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...Oe()]}],h:[{h:["screen","lh",...Oe()]}],"min-h":[{"min-h":["screen","lh","none",...Oe()]}],"max-h":[{"max-h":["screen","lh",...Oe()]}],"font-size":[{text:["base",t,_l,Pi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ge,zf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Uf,me]}],"font-family":[{font:[qD,me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ge,me]}],"line-clamp":[{"line-clamp":[De,"none",ge,zf]}],leading:[{leading:[a,...S()]}],"list-image":[{"list-image":["none",ge,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[De,"from-font","auto",ge,Pi]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[De,"auto",ge,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:_e()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ks,ge,me],radial:["",ge,me],conic:[ks,ge,me]},WD,$D]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ce(),"hidden","none"]}],"divide-style":[{divide:[...Ce(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[De,ge,me]}],"outline-w":[{outline:["",De,_l,Pi]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",v,Dc,Oc]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",w,Dc,Oc]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[De,Pi]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",I,Dc,Oc]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[De,ge,me]}],"mix-blend":[{"mix-blend":[...Me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[De]}],"mask-image-linear-from-pos":[{"mask-linear-from":Se()}],"mask-image-linear-to-pos":[{"mask-linear-to":Se()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":Se()}],"mask-image-t-to-pos":[{"mask-t-to":Se()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":Se()}],"mask-image-r-to-pos":[{"mask-r-to":Se()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":Se()}],"mask-image-b-to-pos":[{"mask-b-to":Se()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":Se()}],"mask-image-l-to-pos":[{"mask-l-to":Se()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":Se()}],"mask-image-x-to-pos":[{"mask-x-to":Se()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":Se()}],"mask-image-y-to-pos":[{"mask-y-to":Se()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[ge,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":Se()}],"mask-image-radial-to-pos":[{"mask-radial-to":Se()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Y()}],"mask-image-conic-pos":[{"mask-conic":[De]}],"mask-image-conic-from-pos":[{"mask-conic-from":Se()}],"mask-image-conic-to-pos":[{"mask-conic-to":Se()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:_e()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,me]}],filter:[{filter:["","none",ge,me]}],blur:[{blur:ze()}],brightness:[{brightness:[De,ge,me]}],contrast:[{contrast:[De,ge,me]}],"drop-shadow":[{"drop-shadow":["","none",j,Dc,Oc]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",De,ge,me]}],"hue-rotate":[{"hue-rotate":[De,ge,me]}],invert:[{invert:["",De,ge,me]}],saturate:[{saturate:[De,ge,me]}],sepia:[{sepia:["",De,ge,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,me]}],"backdrop-blur":[{"backdrop-blur":ze()}],"backdrop-brightness":[{"backdrop-brightness":[De,ge,me]}],"backdrop-contrast":[{"backdrop-contrast":[De,ge,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",De,ge,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[De,ge,me]}],"backdrop-invert":[{"backdrop-invert":["",De,ge,me]}],"backdrop-opacity":[{"backdrop-opacity":[De,ge,me]}],"backdrop-saturate":[{"backdrop-saturate":[De,ge,me]}],"backdrop-sepia":[{"backdrop-sepia":["",De,ge,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[De,"initial",ge,me]}],ease:[{ease:["linear","initial",X,ge,me]}],delay:[{delay:[De,ge,me]}],animate:[{animate:["none",Q,ge,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,ge,me]}],"perspective-origin":[{"perspective-origin":ue()}],rotate:[{rotate:Ge()}],"rotate-x":[{"rotate-x":Ge()}],"rotate-y":[{"rotate-y":Ge()}],"rotate-z":[{"rotate-z":Ge()}],scale:[{scale:ot()}],"scale-x":[{"scale-x":ot()}],"scale-y":[{"scale-y":ot()}],"scale-z":[{"scale-z":ot()}],"scale-3d":["scale-3d"],skew:[{skew:_n()}],"skew-x":[{"skew-x":_n()}],"skew-y":[{"skew-y":_n()}],transform:[{transform:[ge,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:ue()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Un()}],"translate-x":[{"translate-x":Un()}],"translate-y":[{"translate-y":Un()}],"translate-z":[{"translate-z":Un()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,me]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[De,_l,Pi,zf]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},JD=AD(QD);function ti(...n){return JD(lD(n))}function au({className:n,children:e,...t}){return T.jsx("div",{className:ti("glass shadow-sm rounded-xl overflow-hidden",n),...t,children:e})}function XD({title:n,description:e,severity:t="info",actions:r,className:o}){const a={info:"text-momentum-secondary bg-momentum-secondary/10 border-momentum-secondary/20",warn:"text-momentum-warn bg-momentum-warn/10 border-momentum-warn/20",success:"text-momentum-success bg-momentum-success/10 border-momentum-success/20",danger:"text-momentum-danger bg-momentum-danger/10 border-momentum-danger/20"};return T.jsxs(au,{className:ti("p-4 flex flex-col gap-3 transition-colors hover:border-momentum-accent/30",o),children:[T.jsx("div",{className:"flex justify-between items-start gap-4",children:T.jsxs("div",{className:"space-y-1 w-full",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h4",{className:"font-semibold text-sm text-momentum-text dark:text-white",children:n}),T.jsx("span",{className:ti("text-[10px] px-2 py-0.5 rounded border uppercase font-bold tracking-wider",a[t]),children:t})]}),T.jsx("p",{className:"text-xs text-momentum-muted leading-relaxed pr-8",children:e})]})}),r&&T.jsx("div",{className:"flex gap-2 pt-1 border-t border-momentum-border/50 mt-1",children:r})]})}function A0({children:n,className:e}){return T.jsx("div",{className:ti("space-y-3",e),children:n})}function k0({icon:n,title:e,description:t,action:r,className:o}){return T.jsxs(au,{className:ti("flex flex-col items-center justify-center text-center p-8 min-h-[200px]",o),children:[n&&T.jsx("div",{className:"mb-4 text-momentum-muted opacity-50 text-4xl flex items-center justify-center p-4 bg-momentum-bg/50 rounded-full",children:n}),T.jsx("h3",{className:"text-lg font-semibold text-momentum-text dark:text-white mb-2",children:e}),T.jsx("p",{className:"text-sm text-momentum-muted max-w-sm mb-6 leading-relaxed",children:t}),r&&T.jsx("div",{className:"mt-2",children:r})]})}function YD({className:n}){return T.jsx(au,{className:ti("animate-pulse bg-momentum-bg/50 border-white/5",n),children:T.jsx("div",{className:"h-full w-full opacity-50 min-h-[100px]"})})}const ZD=({alerts:n,isLoading:e,error:t,onClose:r,onMarkAsRead:o})=>{const a=Wi(),u=n.filter(m=>m.status==="unread"),d=m=>{switch(m){case"high":return"danger";case"medium":return"warn";default:return"info"}},f=()=>{a("/alerts"),r()};return T.jsxs(au,{className:"absolute right-0 mt-3 w-80 sm:w-96 p-0 overflow-hidden shadow-2xl z-50 border-momentum-accent/20",role:"dialog","aria-label":"Centro de alertas rpido",children:[T.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-momentum-border bg-momentum-bg/20",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-momentum-accent",children:"Alertas"}),T.jsxs("p",{className:"text-[10px] text-momentum-muted",children:[u.length," novas notificaes"]})]}),T.jsx("button",{type:"button",onClick:r,className:"p-1.5 rounded-lg hover:bg-momentum-bg/50 text-momentum-muted transition-colors","aria-label":"Fechar",children:T.jsx(Vl,{size:16})})]}),T.jsx("div",{className:"max-h-[28rem] overflow-y-auto p-4 custom-scrollbar",children:e?T.jsx(A0,{children:[1,2,3].map(m=>T.jsx(YD,{className:"h-20"},m))}):t?T.jsx(k0,{title:"Erro",description:"Falha ao carregar alertas.",className:"min-h-0 py-6"}):n.length===0?T.jsx(k0,{title:"Tudo limpo",description:"Nenhum alerta pendente.",className:"min-h-0 py-8"}):T.jsx(A0,{children:n.slice(0,5).map(m=>T.jsx(XD,{title:m.title,description:m.message,severity:d(m.severity),className:ti("p-3 text-[11px]",m.status==="read"&&"opacity-50 saturate-0"),actions:m.status==="unread"?T.jsx("button",{onClick:()=>o(m.id),className:"text-[9px] font-bold text-momentum-accent hover:underline uppercase",children:"Marcar como lido"}):void 0},m.id))})}),T.jsx("div",{className:"p-3 border-t border-momentum-border bg-momentum-bg/30",children:T.jsxs("button",{onClick:f,className:"w-full py-2 rounded-lg bg-momentum-accent/10 hover:bg-momentum-accent/20 text-momentum-accent text-[11px] font-bold uppercase tracking-wider flex items-center justify-center gap-2 transition-all",children:["Ver todos no Centro de Alertas ",T.jsx(B1,{size:12})]})})]})};function eL(){const{data:n,isLoading:e,error:t,unreadCount:r,markAsRead:o}=oD(),a=n??[],{notify:u}=Mm(),[d,f]=V.useState(!1),m=V.useRef(null);V.useEffect(()=>{if(!d)return;const I=j=>{m.current&&(m.current.contains(j.target)||f(!1))};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[d]),V.useEffect(()=>{t&&u({type:"error",message:"No foi possvel carregar seus alertas agora. Tente novamente mais tarde."})},[t,u]);const v=()=>{f(I=>!I)},w=async I=>{try{await o(I)}catch{u({type:"error",message:"Erro ao marcar alerta como lido. Tente novamente."})}};return T.jsxs("div",{className:"relative",ref:m,children:[T.jsxs("button",{type:"button",onClick:v,className:`relative inline-flex items-center justify-center w-10 h-10 rounded-xl\r
                   border border-momentum-border bg-white/50 hover:bg-white\r
                   dark:bg-momentum-bg/50 dark:hover:bg-momentum-bg\r
                   text-momentum-text shadow-sm hover:shadow-md\r
                   transition-all duration-200 group`,"aria-label":"Abrir alertas",children:[T.jsx(M1,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),r>0&&T.jsx("span",{className:`absolute -top-1 -right-1 inline-flex items-center justify-center\r
                       min-w-[18px] h-[18px] rounded-full bg-momentum-accent text-[10px] font-bold\r
                       text-white px-1 shadow-momentum-glow animate-pulse`,children:r>9?"9+":r})]}),d&&T.jsx(ZD,{alerts:a,isLoading:e,error:t,onClose:()=>f(!1),onMarkAsRead:w})]})}function Fm(){const[n,e]=V.useState(null);return V.useEffect(()=>{if(!sn)return;const t=dE(sn,async r=>{if(!r){e(null);return}try{const o=await r.getIdToken();e(o)}catch{e(null)}});return()=>{t()}},[]),n}function tL(){const e=Fm()?.token??null,[t,r]=V.useState(null),[o,a]=V.useState(!1),[u,d]=V.useState(null),f=V.useCallback(async()=>{if(e){a(!0),d(null);try{const v=await ei.get("/billing/credits");r(v.data)}catch(v){d(v instanceof Error?v:new Error("Erro ao carregar crditos"))}finally{a(!1)}}},[e]);V.useEffect(()=>{f()},[f]);const m=t?t.available<=0:!1;return{credits:t,isLoading:o,error:u,noCredits:m,refetch:f}}const nL=()=>{const n=Wi(),{credits:e,isLoading:t,noCredits:r}=tL(),o=e?.available??0,a=()=>{n("/settings?tab=billing")},u=()=>r||o<=0?"bg-error/10 text-error border-error/20":o<50?"bg-warning/10 text-warning border-warning/20":"bg-primary/10 text-primary border-primary/20";return T.jsxs("button",{onClick:a,className:`flex items-center gap-2 px-3 py-1.5 rounded-full border text-[11px] font-bold transition-all hover:scale-105 active:scale-95 shadow-sm font-display ${u()}`,title:"Crditos de IA disponveis",children:[T.jsx(sw,{size:14,className:r?"fill-error/30":"fill-primary/30"}),t?T.jsx("span",{className:"animate-pulse",children:"..."}):T.jsxs("span",{children:[o.toLocaleString("pt-BR")," crditos"]})]})},rL=({onMenuClick:n})=>{const{theme:e,toggle:t}=A1(),r=V.useRef(null);return T.jsxs("header",{className:["fixed top-0 right-0 z-20 h-20 px-8 flex items-center justify-between glass border-b border-slate-200 dark:border-slate-800/50 transition-all","left-0 md:left-64"].join(" "),role:"banner",children:[T.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[T.jsx("button",{onClick:n,"aria-label":"Abrir menu lateral",className:"md:hidden p-2 rounded-lg border border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-900/50 text-slate-600 dark:text-slate-300",children:T.jsx("span",{className:"material-icons-round",children:"menu"})}),T.jsxs("div",{className:"relative w-full max-w-[440px] hidden md:block group",children:[T.jsx("span",{className:"material-icons-round absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-[20px] group-focus-within:text-primary transition-colors",children:"search"}),T.jsx("input",{ref:r,type:"text",placeholder:"Buscar transaes, insights ou clientes...",className:"w-full bg-slate-100/50 dark:bg-slate-800/50 border-none rounded-full pl-11 pr-4 py-2.5 text-sm text-slate-600 dark:text-slate-200 focus:ring-2 focus:ring-primary/20 focus:bg-white dark:focus:bg-slate-900 transition-all placeholder-slate-400 dark:placeholder-slate-500"})]})]}),T.jsxs("div",{className:"flex items-center gap-5",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(nL,{}),T.jsx(eL,{}),T.jsx("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-full glass border-slate-200 dark:border-white/10 text-[11px] font-bold text-slate-700 dark:text-slate-300 transition-all hover:scale-105 active:scale-95 uppercase tracking-wider shadow-sm","aria-label":e==="dark"?"Ativar tema claro":"Ativar tema escuro",children:e==="dark"?T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"material-icons-round text-[16px] text-primary",children:"dark_mode"}),T.jsx("span",{children:"Dark"})]}):T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"material-icons-round text-[16px] text-warning",children:"light_mode"}),T.jsx("span",{children:"Light"})]})})]}),T.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-800 mx-1"}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("div",{className:"text-right hidden sm:block leading-none",children:[T.jsx("p",{className:"text-[14px] font-bold text-slate-900 dark:text-white font-display mb-1",children:"Elienai"}),T.jsx("p",{className:"text-[11px] font-medium text-slate-500 dark:text-slate-400 font-display",children:"Admin"})]}),T.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-primary to-blue-600 flex items-center justify-center text-white text-sm font-bold shadow-glow ring-2 ring-white dark:ring-slate-800 transition-transform hover:scale-110 cursor-pointer",role:"img","aria-label":"Perfil",children:"E"})]})]})]})};function sL(n,e){V.useEffect(()=>{if(!e||!n.current)return;const t=n.current,r=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])","[tabindex]:not([tabindex='-1'])"].join(","),o=()=>Array.from(t.querySelectorAll(r)).filter(f=>!f.hasAttribute("disabled")&&!f.getAttribute("aria-hidden")),a=()=>{const f=o();f.length&&f[0].focus()},u=f=>{if(f.key!=="Tab")return;const m=o();if(!m.length)return;const v=m[0],w=m[m.length-1],I=document.activeElement;f.shiftKey?(I===v||!t.contains(I))&&(w.focus(),f.preventDefault()):(I===w||!t.contains(I))&&(v.focus(),f.preventDefault())},d=f=>{t.contains(f.relatedTarget)||a()};return requestAnimationFrame(a),document.addEventListener("keydown",u),t.addEventListener("focusout",d),()=>{document.removeEventListener("keydown",u),t.removeEventListener("focusout",d)}},[n,e])}function iL(n){const e=typeof n=="string"?n:n instanceof URL?n.toString():n instanceof Request?n.url:String(n);try{const t=typeof window<"u"?window.location.origin:"http://localhost",r=new URL(e,t);return(typeof window<"u"?r.origin===window.location.origin:!0)&&r.pathname.startsWith("/api")}catch{return e.startsWith("/api")}}async function Um(n,e={}){const t=await sn.currentUser?.getIdToken(),r=new Headers(e.headers||{});iL(n)&&(r.delete("Authorization"),r.delete("authorization")),t&&r.set("x-id-token",t),r.has("x-tenant-id")||r.set("x-tenant-id",SE());let o=e.body;return o&&typeof o=="object"&&!(o instanceof FormData)&&!(o instanceof Blob)&&!(o instanceof ArrayBuffer)&&(r.has("Content-Type")||r.set("Content-Type","application/json"),o=JSON.stringify(o)),fetch(n,{...e,headers:r,body:o,credentials:e.credentials??"include"})}async function oL({text:n,voice:e,profile:t}){const r=await Um("/api/voice/tts",{method:"POST",body:{text:n,voice:e,profile:t}});if(!r.ok)throw new Error(`/api/voice/tts -> ${r.status}`);return r.blob()}async function aL(n){const e=new FormData;e.append("file",n,"recording.webm");const t=await Um("/api/ai/voice/stt",{method:"POST",body:e});if(!t.ok){const r=await t.json().catch(()=>({}));throw new Error(r.message||`/api/ai/voice/stt -> ${t.status}`)}return t.json()}function CV(n,e){}function lL(){const n=V.useRef(null),[e,t]=V.useState(!1),[r,o]=V.useState(null);async function a(d){try{t(!0),o(null);const f=await oL(d),m=URL.createObjectURL(f);n.current||(n.current=new Audio),n.current.src=m,await n.current.play(),d.profile}catch(f){o(f),String(f?.message||f)}finally{t(!1)}}function u(){n.current&&(n.current.pause(),n.current.currentTime=0)}return{speak:a,stop:u,loading:e,error:r}}function uL(){const[n,e]=V.useState(!1),[t,r]=V.useState(""),[o,a]=V.useState(null),u=V.useRef(null),d=V.useRef([]);async function f(){try{a(null);const v=await navigator.mediaDevices.getUserMedia({audio:!0});u.current=new MediaRecorder(v),d.current=[],u.current.ondataavailable=w=>{w.data.size>0&&d.current.push(w.data)},u.current.start(),e(!0)}catch(v){a(v),String(v?.message||v)}}async function m(){return new Promise(v=>{if(!u.current)return v("");u.current.onstop=async()=>{try{const w=new Blob(d.current,{type:"audio/webm"}),{text:I}=await aL(w);r(I),v(I)}catch(w){a(w),String(w?.message||w),v("")}finally{e(!1),u.current?.stream.getTracks().forEach(w=>w.stop())}},u.current.stop()})}return V.useEffect(()=>()=>u.current?.stream.getTracks().forEach(v=>v.stop()),[]),{start:f,stop:m,recording:n,transcript:t,error:o}}function cL({playing:n,label:e="Tocando"}){return T.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full border px-2 py-1 text-xs ${n?"border-emerald-300 bg-emerald-50 text-emerald-700":"border-slate-200 bg-slate-50 text-slate-600"}`,children:[T.jsx("span",{className:"h-2 w-2 rounded-full animate-pulse bg-current","aria-hidden":!0}),n?e:"Pronto"]})}function hL({recording:n,onStart:e,onStop:t}){return n?T.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 rounded-xl bg-rose-600 text-white px-3 py-2 text-sm hover:bg-rose-700",children:[T.jsx(Z1,{className:"h-4 w-4"})," Parar"]}):T.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 rounded-xl bg-emerald-600 text-white px-3 py-2 text-sm hover:bg-emerald-700",children:[T.jsx(J1,{className:"h-4 w-4"})," Gravar"]})}const gI={voiceTTS:!0,voiceSTT:!0,supportDock:!0,advisorDock:!0},yI=V.createContext({flags:gI});function dL({children:n,flags:e}){const t=V.useMemo(()=>({...gI,...e??{}}),[e]);return T.jsx(yI.Provider,{value:{flags:t},children:n})}function fL(){return V.useContext(yI).flags}function pL(n,e){return n==="neural_premium"?e==="advisor"?"pt-BR-Neural-Premium-Advisor":"pt-BR-Neural-Premium-Tutorial":n==="neural"?e==="advisor"?"pt-BR-Neural-Advisor":"pt-BR-Neural-Tutorial":e==="advisor"?"pt-BR-Standard-A":"pt-BR-Standard-B"}function mL(n,e,t){const r=e[t]?.voiceId;return r&&r.trim().length>0?r.trim():pL(n,t)}async function gL(n,e,t){const r=await Um("/api/support/chat",{method:"POST",body:{question:n,locale:e,sessionId:t}});if(!r.ok){let o=null;try{o=await r.json()}catch{}const a=new Error(o?.message??"No foi possvel falar com o suporte automatizado agora. Tente novamente em alguns instantes.");throw o?.code&&(a.code=o.code),a}return await r.json()}const P0={id:"system-welcome",role:"system",content:`Sou o assistente de suporte do Momentum. Posso te ajudar com:
 como usar o painel
 entender seus relatrios
 saber onde ajustar planos e crditos
 tirar dvidas sobre CFO, Pulse, Mercado e Voz.
No respondo dvidas legais, tributrias ou mdicas.`,createdAt:new Date};function yL(){const n=Fm(),[e,t]=V.useState([P0]),[r,o]=V.useState(!1),[a,u]=V.useState(null),[d,f]=V.useState(!1),[m,v]=V.useState(void 0),w=V.useMemo(()=>navigator?.language??"pt-BR",[]),I=V.useCallback(()=>{t([{...P0,createdAt:new Date}]),u(null),f(!1),v(void 0)},[]),j=V.useCallback(async k=>{const N=k.trim();if(!N||r)return;if(!n){u(new Error("Voc precisa estar autenticado para falar com o suporte Momentum."));return}const b=new Date,X={id:`user-${b.getTime()}`,role:"user",content:N,createdAt:b};t(Q=>[...Q,X]),o(!0),u(null),f(!1);try{const Q=await gL(N,w,m);Q.sessionId&&Q.sessionId!==m&&v(Q.sessionId);const J={id:`assistant-${Date.now()}`,role:"assistant",content:Q.answer,createdAt:new Date};t(Y=>[...Y,J])}catch(Q){(Q&&Q.code)==="NO_CREDITS"&&f(!0);const Y=Q instanceof Error?Q.message:"No consegui responder agora. Tente novamente em alguns instantes.";u(new Error(Y)),t(ue=>[...ue,{id:`assistant-error-${Date.now()}`,role:"assistant",content:Y,createdAt:new Date}])}finally{o(!1)}},[r,w,n,m]);return{messages:e,isSending:r,error:a,noCredits:d,sendMessage:j,reset:I}}function vL({initialOpen:n=!1}){const[e,t]=V.useState(n),r=Fm(),{features:o,voiceProfiles:a}=fL(),d=!!r||!1,f=o??{voiceTier:"none",voiceTTS:!1,voiceSTT:!1},m=a??[],v=mL(f.voiceTier,m,"support"),w=V.useRef(null),{messages:I,isSending:j,error:k,noCredits:N,sendMessage:b,reset:X}=yL(),[Q,J]=V.useState(""),{speak:Y,loading:ue}=lL(),{start:de,stop:P,recording:S,transcript:R}=uL();sL(w,e),V.useEffect(()=>{R.trim()&&J(R)},[R]),V.useEffect(()=>{function xe(){t(!0)}return window.addEventListener("open-support-dock",xe),()=>{window.removeEventListener("open-support-dock",xe)}},[]);function O(){t(xe=>!xe)}async function L(){const xe=Q.trim();!xe||j||!d||N||(await b(xe),J(""))}async function U(){if(!f.voiceTTS||!d)return;const xe=[...I].reverse().find(Pe=>Pe.role==="assistant");xe&&await Y({text:xe.content,voice:v,profile:"tutorial"})}const A=j||!d||N,Fe=!d||N;return T.jsxs("div",{className:"fixed bottom-4 right-4 z-40 flex flex-col items-end gap-2",children:[e&&T.jsxs("div",{ref:w,className:"flex w-full max-w-sm flex-col overflow-hidden rounded-2xl border border-slate-200/80 bg-white/95 shadow-2xl transition-all max-h-[70vh] backdrop-blur-xl dark:border-white/10 dark:bg-slate-950/90",role:"dialog","aria-modal":"false","aria-label":"Suporte Momentum",children:[T.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200/80 px-4 py-2 dark:border-slate-800/70",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-emerald-600 text-xs font-semibold text-white",children:"M"}),T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Suporte Momentum"}),T.jsx("span",{className:"text-[11px] text-slate-500 dark:text-slate-300",children:"Tire dvidas sobre como usar o Momentum"})]}),T.jsx(cL,{active:ue&&d,label:f.voiceTTS&&d?"Voz ativada":"Voz desativada"})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[f.voiceTTS&&d&&T.jsx("button",{onClick:U,className:"rounded-lg p-1.5 hover:bg-slate-50 dark:hover:bg-slate-900/70",title:"Ler ltima resposta",children:T.jsx(tb,{className:"h-4 w-4 text-slate-600 dark:text-slate-200"})}),T.jsx("button",{onClick:()=>{t(!1)},"aria-label":"Fechar suporte",className:"rounded-lg p-1.5 hover:bg-slate-50 dark:hover:bg-slate-900/70",children:T.jsx(Vl,{className:"h-4 w-4 text-slate-600 dark:text-slate-200"})})]})]}),T.jsxs("div",{className:"flex flex-1 flex-col gap-2 overflow-y-auto px-3 py-2 text-sm",children:[d?I.map(xe=>{if(xe.role==="system")return T.jsxs("div",{className:"flex items-start gap-2 rounded-xl border border-slate-100 bg-slate-50 px-3 py-2 text-[11px] text-slate-600 dark:border-white/10 dark:bg-slate-900/70 dark:text-slate-100",children:[T.jsx(U1,{className:"mt-[2px] h-3.5 w-3.5 text-slate-400 dark:text-slate-300"}),T.jsx("span",{className:"whitespace-pre-line",children:xe.content})]},xe.id);const Pe=xe.role==="assistant";return T.jsx("div",{className:`max-w-[85%] rounded-2xl border px-3 py-2 text-xs whitespace-pre-line ${Pe?"self-start border-slate-200 bg-slate-50 text-slate-900 dark:border-slate-700 dark:bg-slate-900/80 dark:text-slate-100":"self-end border-emerald-100 bg-emerald-50 text-emerald-900 dark:border-emerald-500/40 dark:bg-emerald-600/30 dark:text-emerald-50"}`,children:xe.content},xe.id)}):T.jsx("div",{className:"flex h-full items-center justify-center px-4 text-center text-xs text-slate-500 dark:text-slate-300",children:"Para falar com o suporte Momentum, faa login na sua conta."}),j&&d&&!N&&T.jsx("div",{className:"self-start rounded-2xl bg-slate-50 px-3 py-1 text-[11px] text-slate-500 dark:bg-slate-900/70 dark:text-slate-200",children:"Digitando"})]}),T.jsxs("div",{className:"flex flex-col gap-1 px-3 pb-2",children:[k&&d&&!N&&T.jsxs("div",{className:"flex items-start gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-[11px] text-amber-800 dark:border-amber-400/40 dark:bg-amber-950/40 dark:text-amber-50",children:[T.jsx(xv,{className:"mt-[2px] h-3.5 w-3.5"}),T.jsx("span",{children:k.message})]}),N&&d&&T.jsxs("div",{className:"flex items-start gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-[11px] text-amber-800 dark:border-amber-400/40 dark:bg-amber-950/40 dark:text-amber-50",children:[T.jsx(xv,{className:"mt-[2px] h-3.5 w-3.5"}),T.jsx("span",{children:"Voc atingiu o limite de crditos de IA do seu plano para o suporte automatizado. Atualize seu plano ou aguarde a renovao dos crditos para continuar usando este recurso."})]})]}),T.jsxs("div",{className:"flex items-center gap-2 border-t border-slate-200/80 p-3 dark:border-slate-800/70",children:[T.jsx("input",{value:Q,onChange:xe=>{J(xe.target.value)},placeholder:d?N?"Sem crditos para enviar mensagens":"Descreva sua dvida":"Faa login para enviar uma dvida",className:"flex-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-900 focus:outline-none focus:ring-2 focus:ring-emerald-200 disabled:bg-slate-50 disabled:text-slate-400 dark:border-slate-700 dark:bg-slate-950/90 dark:text-slate-50 dark:disabled:bg-slate-900/70 dark:disabled:text-slate-500",disabled:Fe,onKeyDown:xe=>{xe.key==="Enter"&&!xe.shiftKey&&(xe.preventDefault(),L())}}),f.voiceSTT&&d&&!N&&T.jsx(hL,{recording:S,onStart:()=>{de()},onStop:()=>{P()}}),T.jsx("button",{onClick:L,disabled:A,className:"rounded-xl bg-slate-900 px-3 py-2 text-xs text-white hover:bg-black/90 disabled:opacity-60 dark:bg-emerald-600 dark:hover:bg-emerald-500",children:j?"Enviando...":"Enviar"})]}),T.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200/80 px-3 py-2 text-[10px] text-slate-400 dark:border-slate-800/70 dark:text-slate-500",children:[T.jsx("button",{type:"button",className:"text-[11px] text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-100",onClick:()=>{X()},children:"Nova conversa"}),T.jsx("span",{className:"text-[10px]",children:"Suporte automatizado do Momentum"})]})]}),T.jsx("button",{type:"button",onClick:O,className:"flex h-12 w-12 items-center justify-center rounded-full bg-emerald-600 text-white shadow-xl transition-transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-emerald-300","aria-label":e?"Fechar suporte Momentum":"Abrir suporte Momentum",children:e?T.jsx(Vl,{className:"h-5 w-5"}):T.jsx(G1,{className:"h-5 w-5"})})]})}const _L=()=>{const[n,e]=V.useState(!1);return T.jsxs("div",{className:"min-h-screen flex bg-[var(--bg)] transition-all duration-500",children:[T.jsx(C1,{open:n,onClose:()=>e(!1)}),T.jsxs("div",{className:`
          flex flex-col flex-1 transition-all duration-500
          ${n?"ml-60 md:ml-60":"ml-0 md:ml-60"}
        `,children:[T.jsx(rL,{onMenuClick:()=>e(!n)}),T.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 overflow-auto min-h-screen bg-[var(--bg)]",children:T.jsx(IS,{})}),T.jsx(vL,{})]})]})},wL=({open:n,onClose:e})=>{const t=Wi();if(!n)return null;const r=()=>{e(),t("/settings?tab=billing")};return T.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:T.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-800 animate-in zoom-in-95 duration-300",children:[T.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary/90 to-secondary p-6 text-white",children:[T.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:T.jsx(Vl,{size:16})}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-14 h-14 rounded-xl bg-white/20 flex items-center justify-center shadow-glow",children:T.jsx(Sv,{size:28})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold font-display",children:"Crditos Esgotados"}),T.jsx("p",{className:"text-white/80 text-sm font-display",children:"Seus crditos de IA acabaram"})]})]})]}),T.jsxs("div",{className:"p-6 space-y-6",children:[T.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed font-display",children:"Voc utilizou todos os seus crditos de IA deste ciclo. Para continuar usando recursos como anlises, relatrios e assistente virtual, escolha uma opo abaixo:"}),T.jsxs("div",{className:"space-y-3",children:[T.jsx("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 hover:border-primary/50 transition-colors cursor-pointer group",onClick:r,children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-primary",children:T.jsx(sw,{size:20})}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200 font-display",children:"Pacote Extra"}),T.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-display",children:"+1.000 crditos avulsos"})]})]}),T.jsx("span",{className:"text-primary font-bold font-display",children:"R$ 29"})]})}),T.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-primary/5 to-secondary/5 border-2 border-primary/30 hover:border-primary transition-colors cursor-pointer group",onClick:r,children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white shadow-glow",children:T.jsx(Sv,{size:20})}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200 font-display",children:"Upgrade Pro"}),T.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-display",children:"2.000 crditos/ms + recursos premium"})]})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("span",{className:"text-primary font-bold font-display",children:"R$ 97/ms"}),T.jsx("p",{className:"text-[10px] text-success font-bold uppercase",children:"Recomendado"})]})]})})]})]}),T.jsxs("div",{className:"p-6 pt-0 flex gap-3",children:[T.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 font-bold text-sm hover:bg-slate-200 dark:hover:bg-slate-700 transition-all font-display",children:"Fechar"}),T.jsxs("button",{onClick:r,className:"flex-[2] py-3 rounded-xl bg-primary hover:bg-primary/90 text-white font-bold text-sm shadow-glow transition-all flex items-center justify-center gap-2 font-display",children:["Ver Opes",T.jsx(nw,{size:16})]})]})]})})},EL=V.createContext({openModal:()=>{},closeModal:()=>{}}),TL=({children:n})=>{const[e,t]=V.useState(!1);V.useEffect(()=>{const a=()=>{t(!0)};return window.addEventListener("no-credits",a),()=>window.removeEventListener("no-credits",a)},[]);const r=()=>t(!0),o=()=>t(!1);return T.jsxs(EL.Provider,{value:{openModal:r,closeModal:o},children:[n,T.jsx(wL,{open:e,onClose:o})]})},vI=V.createContext(void 0);function IL({children:n}){const[e,t]=V.useState(null),[r,o]=V.useState(!0);V.useEffect(()=>{const f=fE(sn,m=>{t(m),o(!1)});return()=>f()},[]);async function a(){return sn.currentUser?await Gw(sn.currentUser,!0):null}async function u(){await sn.signOut()}const d={user:e,loading:r,getToken:a,logout:u};return T.jsx(vI.Provider,{value:d,children:n})}function zm(){const n=V.useContext(vI);if(!n){const e=sn.currentUser;return{user:e,loading:!1,getToken:async()=>e?await Gw(e,!0):null,logout:async()=>{await sn.signOut()}}}return n}const xL=({isOpen:n,onClose:e})=>{const{notify:t}=Mm(),[r,o]=V.useState(""),[a,u]=V.useState(!1),d=V.useRef(null);if(V.useEffect(()=>{n&&setTimeout(()=>d.current?.focus(),100)},[n]),!n)return null;async function f(m){if(m.preventDefault(),!r.trim()){t({type:"error",message:"Por favor, digite seu e-mail para continuarmos."});return}try{u(!0),await pk(sn,r.trim()),t({type:"success",message:"E-mail de redefinio enviado! Verifique sua caixa de entrada."}),e()}catch(v){console.error("Erro ao resetar senha:",v),t({type:"error",message:"No foi possvel enviar o e-mail. Verifique se o endereo est correto."})}finally{u(!1)}}return T.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-md animate-in fade-in duration-300",children:T.jsxs("div",{className:"bg-slate-900 w-full max-w-md rounded-3xl shadow-2xl overflow-hidden border border-slate-800 animate-in zoom-in-95 duration-300",role:"dialog","aria-modal":"true",children:[T.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-500/20 via-emerald-500/5 to-transparent p-8 border-b border-slate-800/50",children:[T.jsx("button",{onClick:e,className:"absolute top-6 right-6 p-2 rounded-xl bg-slate-800/50 text-slate-400 hover:text-white hover:bg-slate-700 transition-all","aria-label":"Fechar",children:T.jsx(Vl,{size:18})}),T.jsx("div",{className:"w-14 h-14 rounded-2xl bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center text-emerald-400 mb-4 shadow-lg shadow-emerald-500/10",children:T.jsx(Zf,{size:28})}),T.jsx("h2",{className:"text-2xl font-semibold text-slate-50 font-display",children:"Redefinir Senha"}),T.jsx("p",{className:"text-slate-400 text-sm mt-2 leading-relaxed",children:"Digite seu e-mail abaixo para receber o link de redefinio e recuperar seu acesso."})]}),T.jsxs("form",{onSubmit:f,className:"p-8 space-y-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{htmlFor:"reset-email",className:"block text-xs font-medium text-slate-400 uppercase tracking-wider ml-1",children:"E-mail de Cadastro"}),T.jsxs("div",{className:"relative group",children:[T.jsx("span",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none text-slate-500 group-focus-within:text-emerald-500 transition-colors",children:T.jsx(Zf,{size:18})}),T.jsx("input",{id:"reset-email",ref:d,type:"email",required:!0,value:r,onChange:m=>o(m.target.value),placeholder:"seu-email@dominio.com",className:"w-full rounded-2xl bg-slate-950/60 border border-slate-700 px-12 py-3.5 text-sm text-slate-50 placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all"})]})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[T.jsx("button",{type:"button",onClick:e,disabled:a,className:"flex-1 py-3.5 rounded-2xl bg-slate-800 text-slate-300 font-medium text-sm hover:bg-slate-750 active:scale-[0.98] transition-all disabled:opacity-50",children:"Cancelar"}),T.jsx("button",{type:"submit",disabled:a,className:"flex-[1.5] py-3.5 rounded-2xl bg-emerald-500 text-slate-950 font-semibold text-sm hover:bg-emerald-400 shadow-xl shadow-emerald-500/20 active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?T.jsxs(T.Fragment,{children:[T.jsx(rw,{size:18,className:"animate-spin"}),"Enviando..."]}):T.jsxs(T.Fragment,{children:["Enviar Link",T.jsx(nw,{size:18})]})})]})]}),T.jsx("div",{className:"px-8 py-5 bg-slate-950/40 border-t border-slate-800/50 text-center",children:T.jsx("p",{className:"text-[11px] text-slate-500",children:"No recebeu? Verifique sua pasta de spam ou tente novamente."})})]})})},SL=()=>{const{user:n}=zm(),{notify:e}=Mm(),t=Wi(),r=Ar(),[o,a]=V.useState(""),[u,d]=V.useState(""),[f,m]=V.useState(!1),[v,w]=V.useState(!1),I=r.state?.from||"/";if(n)return T.jsx(Dl,{to:I,replace:!0});async function j(N){if(N.preventDefault(),!o||!u){e({type:"error",message:"Preencha e-mail e senha para continuar."});return}try{m(!0),await mk(sn,o.trim(),u),e({type:"success",message:"Login realizado com sucesso."}),t(I,{replace:!0})}catch(b){console.error("Erro de login:",b);let X="No foi possvel entrar. Verifique os dados.";b?.code==="auth/invalid-credential"?X="E-mail ou senha invlidos.":b?.code==="auth/user-disabled"&&(X="Usurio desativado. Fale com o suporte."),e({type:"error",message:X})}finally{m(!1)}}function k(){w(!0)}return T.jsxs("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center px-4",children:[T.jsxs("div",{className:"w-full max-w-5xl grid grid-cols-1 md:grid-cols-2 gap-8 bg-slate-900/70 border border-slate-800 rounded-3xl shadow-2xl overflow-hidden",children:[T.jsxs("div",{className:"hidden md:flex flex-col justify-between p-8 lg:p-10 bg-gradient-to-b from-emerald-500/10 via-slate-900 to-slate-950 border-r border-slate-800/60",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/30 text-emerald-300 text-xs font-medium mb-6",children:[T.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"}),"Momentum Premium  CFO as a Service"]}),T.jsxs("h1",{className:"text-3xl lg:text-4xl font-semibold text-slate-50 mb-4 leading-tight",children:["Entre no seu ",T.jsx("span",{className:"text-emerald-400",children:"Painel Financeiro"})]}),T.jsx("p",{className:"text-sm text-slate-300/80 leading-relaxed max-w-md",children:"Acompanhe a sade financeira, simule cenrios e deixe o CFO de IA trabalhar por voc  em um s lugar."})]}),T.jsxs("div",{className:"mt-10 text-xs text-slate-400 space-y-1",children:[T.jsx("p",{children:" Dados protegidos por autenticao segura do Firebase"}),T.jsx("p",{children:" Acesso exclusivo para clientes e times autorizados"})]})]}),T.jsxs("div",{className:"flex flex-col justify-center p-6 sm:p-8 lg:p-10",children:[T.jsxs("div",{className:"mb-8 md:mb-10",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-3 md:hidden",children:[T.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-xl bg-emerald-500/10 border border-emerald-500/40",children:T.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400"})}),T.jsx("span",{className:"text-xs font-medium uppercase tracking-[0.16em] text-emerald-300",children:"Momentum Premium"})]}),T.jsx("h2",{className:"text-2xl font-semibold text-slate-50",children:"Fazer login"}),T.jsx("p",{className:"text-sm text-slate-400 mt-1.5",children:"Use o e-mail e senha configurados para acessar o Momentum."})]}),T.jsxs("form",{onSubmit:j,className:"space-y-5",children:[T.jsxs("div",{className:"space-y-1.5",children:[T.jsx("label",{htmlFor:"email",className:"block text-xs font-medium text-slate-300",children:"E-mail"}),T.jsxs("div",{className:"relative",children:[T.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:T.jsx(Zf,{className:"w-4 h-4 text-slate-500"})}),T.jsx("input",{id:"email",type:"email",autoComplete:"email",value:o,onChange:N=>a(N.target.value),className:"w-full rounded-2xl bg-slate-950/60 border border-slate-700 px-10 py-2.5 text-sm text-slate-50 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/80 focus:border-emerald-500/80 transition-shadow",placeholder:"voce@empresa.com"})]})]}),T.jsxs("div",{className:"space-y-1.5",children:[T.jsx("label",{htmlFor:"password",className:"block text-xs font-medium text-slate-300",children:"Senha"}),T.jsxs("div",{className:"relative",children:[T.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:T.jsx(H1,{className:"w-4 h-4 text-slate-500"})}),T.jsx("input",{id:"password",type:"password",autoComplete:"current-password",value:u,onChange:N=>d(N.target.value),className:"w-full rounded-2xl bg-slate-950/60 border border-slate-700 px-10 py-2.5 text-sm text-slate-50 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/80 focus:border-emerald-500/80 transition-shadow",placeholder:""})]})]}),T.jsxs("div",{className:"flex items-center justify-between text-xs",children:[T.jsx("span",{className:"text-slate-500",children:"Ambiente restrito a usurios autorizados."}),T.jsx("button",{type:"button",onClick:k,className:"text-emerald-400 hover:text-emerald-300 underline-offset-2 hover:underline",children:"Esqueceu a senha?"})]}),T.jsxs("button",{type:"submit",disabled:f,className:"w-full inline-flex items-center justify-center gap-2 rounded-2xl bg-emerald-500 hover:bg-emerald-400 disabled:bg-emerald-500/60 disabled:cursor-not-allowed text-slate-950 text-sm font-medium px-4 py-2.5 mt-1 transition-colors shadow-lg shadow-emerald-500/20",children:[f&&T.jsx(rw,{className:"w-4 h-4 animate-spin"}),f?"Entrando...":"Entrar no Momentum"]})]}),T.jsx("p",{className:"mt-6 text-[11px] text-slate-500 leading-relaxed",children:"Ao acessar, voc concorda com os termos de uso e poltica de privacidade definidos para a sua conta Momentum."})]})]}),T.jsx(xL,{isOpen:v,onClose:()=>w(!1)})]})};function bL({variant:n="neutral",className:e,children:t,...r}){const o={success:"bg-momentum-success/10 text-momentum-success border-momentum-success/20",warn:"bg-momentum-warn/10 text-momentum-warn border-momentum-warn/20",danger:"bg-momentum-danger/10 text-momentum-danger border-momentum-danger/20",neutral:"bg-slate-100 text-slate-600 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"};return T.jsx("span",{className:ti("px-2.5 py-0.5 rounded-full text-xs font-medium border flex items-center gap-1 w-fit",o[n],e),...r,children:t})}function RL(){const[n,e]=V.useState(null),[t,r]=V.useState(!1);V.useEffect(()=>{const a=u=>{u.preventDefault(),e(u),r(!0)};return window.addEventListener("beforeinstallprompt",a),()=>window.removeEventListener("beforeinstallprompt",a)},[]);const o=async()=>{n&&(await n.prompt(),r(!1),e(null))};return t?T.jsx("div",{className:"fixed bottom-4 right-4 z-50 max-w-sm w-full",children:T.jsx(au,{className:"p-4 shadow-lg shadow-blue-500/10 border border-slate-200/70",children:T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(bL,{variant:"success",className:"mt-0.5",children:"PWA"}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("p",{className:"text-sm font-bold text-slate-800",children:"Instale o Momentum"}),T.jsx("p",{className:"text-xs text-slate-500",children:"Adicione o app  tela inicial para um acesso mais rpido no celular."}),T.jsxs("div",{className:"flex gap-2 mt-2",children:[T.jsx("button",{className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",onClick:o,children:"Instalar App"}),T.jsx("button",{className:"px-3 py-1.5 text-sm text-slate-500 hover:text-slate-700",onClick:()=>r(!1),children:"Agora no"})]})]})]})})}):null}function CL({children:n,allowedRoles:e=["admin"]}){const{user:t,loading:r}=zm(),[o,a]=V.useState(null),u=Ar();return V.useEffect(()=>{let d=!0;async function f(){if(!t){a(!1);return}try{const v=(await t.getIdTokenResult(!0)).claims,w=v.admin===!0||v.isAdmin===!0||v.roles?.admin===!0;if(e.includes("admin")&&w){d&&a(!0);return}d&&a(!1)}catch(m){console.error("Error checking roles:",m),a(!1)}}r||f()},[t,r,e]),r||o===null?T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-text-primary",children:T.jsxs("div",{className:"flex flex-col items-center gap-3",children:[T.jsx("div",{className:"h-10 w-10 rounded-full border-2 border-emerald-400 border-t-transparent animate-spin"}),T.jsx("p",{className:"text-xs text-slate-400",children:"Verificando permisses..."})]})}):t?o?T.jsx(T.Fragment,{children:n}):T.jsx(Dl,{to:"/",replace:!0}):T.jsx(Dl,{to:"/auth",replace:!0,state:{from:u.pathname}})}const AL=V.lazy(()=>yt(()=>import("./Dashboard-BnFPEeny.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),kL=V.lazy(()=>yt(()=>import("./Insights-PQzn2SLm.js"),__vite__mapDeps([14,2,3,4,5,6,7]))),PL=V.lazy(()=>yt(()=>import("./Clients-D4UJQTHd.js"),__vite__mapDeps([15,3,10,16,17]))),NL=V.lazy(()=>yt(()=>import("./Settings-Ckr5vNEb.js"),__vite__mapDeps([18,19,4,7,20,5,13,16,21,22]))),OL=V.lazy(()=>yt(()=>import("./Transactions-B0CdNb1h.js"),__vite__mapDeps([23,3,24,25,17,26]))),DL=V.lazy(()=>yt(()=>import("./DataCleaning-ClV7xcId.js"),__vite__mapDeps([27,21,5,28]))),LL=V.lazy(()=>yt(()=>import("./AnalyticsDashboard-BRVOaDpO.js"),__vite__mapDeps([29,30,6,7,31,3,10,4,21,32,11]))),VL=V.lazy(()=>yt(()=>import("./Help-DrSXAOt-.js"),[])),ML=V.lazy(()=>yt(()=>import("./RealEstateDashboard-DtR66tUp.js"),__vite__mapDeps([33,7,19,34,25,35,26,3,10,4,21,32,12,17]))),jL=V.lazy(()=>yt(()=>import("./AIConsole-BH6ZcSUW.js"),__vite__mapDeps([36,30,6,7])).then(n=>({default:n.AIConsole}))),FL=V.lazy(()=>yt(()=>import("./AdminLayout-DMAnXw-5.js"),[])),UL=V.lazy(()=>yt(()=>import("./AdminDashboard-BlryLLGO.js"),__vite__mapDeps([37,31,4,38,35,39,16]))),zL=V.lazy(()=>yt(()=>import("./AdminPlans-Cr-Nfhjz.js"),__vite__mapDeps([40,38]))),BL=V.lazy(()=>yt(()=>import("./AdminVoice-LyOEnT21.js"),__vite__mapDeps([41,38]))),$L=V.lazy(()=>yt(()=>import("./AdminSupport-r418GIDs.js"),__vite__mapDeps([42,38]))),qL=V.lazy(()=>yt(()=>import("./AdminEmergency-CsQdrnLL.js"),__vite__mapDeps([43,38]))),N0=V.lazy(()=>yt(()=>import("./DeepDiveFinanceiroPage-qz6OaJmG.js"),__vite__mapDeps([44,1,3,10,4,9,28,45,11,32,17,26]))),HL=V.lazy(()=>yt(()=>import("./AlertsCenter-CQYdmO76.js"),__vite__mapDeps([46,3,17,24,20,28])));V.lazy(()=>yt(()=>import("./_DesignSystem-BockTTrB.js"),__vite__mapDeps([47,3,10,4,11,28,26])));const WL=V.lazy(()=>yt(()=>import("./Imports-BGIxW6Rq.js"),__vite__mapDeps([48,3,4,34,45,39,22]))),KL=V.lazy(()=>yt(()=>import("./CfoSimulationPage-BFn2y0Me.js"),__vite__mapDeps([49,31,9,8,3,10,4,21,28,32])));function GL({children:n}){const{user:e,loading:t}=zm(),r=Ar();return t?T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-text-primary",children:T.jsxs("div",{className:"flex flex-col items-center gap-3",children:[T.jsx("div",{className:"h-10 w-10 rounded-full border-2 border-emerald-400 border-t-transparent animate-spin"}),T.jsx("p",{className:"text-xs text-slate-400",children:"Carregando seu ambiente financeiro..."})]})}):e?n:T.jsx(Dl,{to:"/auth",replace:!0,state:{from:r.pathname||"/"}})}function QL(){const n=V.useMemo(()=>new f1({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),[]);return T.jsx(p1,{client:n,children:T.jsx(aD,{children:T.jsx(dL,{children:T.jsx(IL,{children:T.jsxs(TL,{children:[!1,T.jsx(RL,{}),T.jsx(V.Suspense,{fallback:T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-text-primary",children:T.jsxs("div",{className:"flex flex-col items-center gap-3",children:[T.jsx("div",{className:"h-10 w-10 rounded-full border-2 border-emerald-400 border-t-transparent animate-spin"}),T.jsx("p",{className:"text-xs text-slate-400",children:"Carregando Momentum..."})]})}),children:T.jsxs(SS,{children:[T.jsx(nt,{path:"/auth",element:T.jsx(SL,{})}),!1,T.jsxs(nt,{path:"/",element:T.jsx(GL,{children:T.jsx(_L,{})}),children:[T.jsx(nt,{index:!0,element:T.jsx(AL,{})}),T.jsx(nt,{path:"insights",element:T.jsx(kL,{})}),T.jsx(nt,{path:"clients",element:T.jsx(PL,{})}),T.jsx(nt,{path:"settings",element:T.jsx(NL,{})}),T.jsx(nt,{path:"transactions",element:T.jsx(OL,{})}),T.jsx(nt,{path:"data-cleaning",element:T.jsx(DL,{})}),T.jsx(nt,{path:"analytics",element:T.jsx(LL,{})}),T.jsx(nt,{path:"ai",element:T.jsx(jL,{})}),T.jsx(nt,{path:"help",element:T.jsx(VL,{})}),T.jsx(nt,{path:"real-estate",element:T.jsx(ML,{})}),T.jsx(nt,{path:"cfo/deep-dive",element:T.jsx(N0,{})}),T.jsx(nt,{path:"advisor/deep-dive",element:T.jsx(N0,{})}),T.jsx(nt,{path:"cfo/simulation",element:T.jsx(KL,{})}),T.jsx(nt,{path:"alerts",element:T.jsx(HL,{})}),T.jsx(nt,{path:"imports",element:T.jsx(WL,{})}),T.jsxs(nt,{path:"admin",element:T.jsx(CL,{children:T.jsx(FL,{})}),children:[T.jsx(nt,{index:!0,element:T.jsx(UL,{})}),T.jsx(nt,{path:"plans",element:T.jsx(zL,{})}),T.jsx(nt,{path:"voice",element:T.jsx(BL,{})}),T.jsx(nt,{path:"support",element:T.jsx($L,{})}),T.jsx(nt,{path:"emergency",element:T.jsx(qL,{})})]}),T.jsx(nt,{path:"*",element:T.jsx(Dl,{to:"/",replace:!0})})]})]})})]})})})})})}function JL(n){typeof window>"u"||!("serviceWorker"in navigator)||window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(e=>console.error("SW registration failed",e))})}JL();Nx.createRoot(document.getElementById("root")).render(T.jsx(O0.StrictMode,{children:T.jsx(AP,{children:T.jsx(DS,{children:T.jsx(QL,{})})})}));export{am as A,bL as B,xv as C,Um as D,B1 as E,Ar as F,au as G,oD as H,XD as I,A0 as J,YD as K,rw as L,J1 as M,jS as N,IS as O,k0 as P,M1 as Q,RV as R,Sv as S,tb as V,Vl as X,yt as _,Mm as a,ei as b,an as c,Wi as d,zm as e,_V as f,tL as g,ti as h,fL as i,T as j,Fm as k,lL as l,uL as m,mL as n,EV as o,bV as p,IV as q,V as r,SV as s,CV as t,sL as u,Zf as v,XL as w,TV as x,xV as y,RP as z};
