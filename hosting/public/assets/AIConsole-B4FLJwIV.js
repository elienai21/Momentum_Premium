import{r as i,j as e,y as b,A as v,n as j,f}from"./index-sZ5pzLG8.js";import{A as h}from"./AdvisorChat-Cfv3ZJyP.js";import"./SectionHeader-Dy6jrYS0.js";import"./AsyncPanel-NQt8qWDx.js";import"./rotate-ccw-3VMdqQvO.js";import"./trash-2-CrbOPzkl.js";import"./send-Do2CzJnN.js";import"./user-B-qeH-DS.js";const g=()=>{const[s,o]=i.useState(null),[r,l]=i.useState(""),[u,c]=i.useState(!1);async function d(a){const t=a.target.files?.[0];if(!t)return;const n=new FileReader;n.onloadend=async()=>{const x=n.result.split(",")[1];o(n.result),c(!0),await m(x)},n.readAsDataURL(t)}async function m(a){try{if(!b().currentUser)throw new Error("UsuÃ¡rio nÃ£o autenticado.");const x=`${v}/ai/vision`,p=await(await j(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:a})})).json();p.ok?l(p.summary||"Texto processado com sucesso."):l(`Erro: ${p.error||"Falha ao processar imagem."}`)}catch(t){l(`Falha: ${t.message}`)}finally{c(!1)}}return e.jsxs("div",{className:"glass border border-white/10 rounded-2xl p-4 flex flex-col gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gradient",children:"Momentum Vision AI"}),e.jsx("p",{className:"text-sm opacity-70",children:"Envie uma nota fiscal, recibo ou fatura para extraÃ§Ã£o automÃ¡tica de dados."}),e.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"text-sm mt-2"}),s&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:s,alt:"PrÃ©-visualizaÃ§Ã£o",className:"rounded-xl border border-white/10 max-h-[240px] object-contain"})}),u?e.jsx("div",{className:"text-sm text-[var(--brand-2)] mt-2",children:"Processando imagem..."}):r&&e.jsx("pre",{className:"text-xs mt-3 p-2 bg-black/20 rounded-lg",children:r})]})},E=()=>{const[s,o]=i.useState("text"),[r,l]=i.useState("pro"),c=b().currentUser,{tenantId:d}=f(),m={starter:"Starter",pro:"Pro",business:"Business",enterprise:"Enterprise"},a=r!=="starter",t=r==="business"||r==="enterprise";return e.jsxs("div",{className:"p-4 md:p-6 space-y-4 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gradient",children:"Momentum AI Console"}),e.jsxs("div",{className:"text-sm opacity-70",children:["Plano atual:"," ",e.jsx("span",{className:"font-semibold text-[var(--brand-1)]",children:m[r]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 border-b border-white/10 pb-2",children:[e.jsx("button",{className:`px-4 py-2 rounded-xl text-sm font-medium transition ${s==="text"?"bg-gradient-to-r from-[var(--brand-1)] to-[var(--brand-2)] text-white shadow":"glass border border-white/10"}`,onClick:()=>o("text"),children:"ðŸ’¬ Texto"}),e.jsx("button",{disabled:!a,className:`px-4 py-2 rounded-xl text-sm font-medium transition ${s==="voice"?"bg-gradient-to-r from-[var(--brand-1)] to-[var(--brand-2)] text-white shadow":a?"glass border border-white/10":"opacity-40 cursor-not-allowed"}`,onClick:()=>a&&o("voice"),children:"ðŸŽ™ Voz Neural"}),e.jsx("button",{disabled:!t,className:`px-4 py-2 rounded-xl text-sm font-medium transition ${s==="vision"?"bg-gradient-to-r from-[var(--brand-1)] to-[var(--brand-2)] text-white shadow":t?"glass border border-white/10":"opacity-40 cursor-not-allowed"}`,onClick:()=>t&&o("vision"),children:"ðŸ“¸ VisÃ£o AI"})]}),e.jsxs("div",{className:"min-h-[480px]",children:[s==="text"&&e.jsx(h,{tenantId:d}),s==="voice"&&a&&e.jsxs("div",{className:"glass rounded-2xl p-4",children:[e.jsx("p",{className:"opacity-70 text-sm mb-3",children:"Fale com o CFO Virtual da Momentum â€” ele responde com voz neural e interpreta contexto financeiro."}),e.jsx(h,{tenantId:d})]}),s==="vision"&&t&&e.jsx(g,{}),!a&&s==="voice"&&e.jsxs("div",{className:"glass rounded-xl p-6 text-center opacity-80",children:["ðŸ”’ DisponÃ­vel apenas a partir do plano ",e.jsx("b",{children:"Pro"}),"."]}),!t&&s==="vision"&&e.jsxs("div",{className:"glass rounded-xl p-6 text-center opacity-80",children:["ðŸ”’ DisponÃ­vel apenas para ",e.jsx("b",{children:"Business"})," e ",e.jsx("b",{children:"Enterprise"}),"."]})]}),e.jsxs("div",{className:"text-xs opacity-60 text-center mt-6",children:["UsuÃ¡rio: ",c?.email||"nÃ£o autenticado"," â€¢ Momentum AI v8.4 Premium"]})]})};export{E as AIConsole};
