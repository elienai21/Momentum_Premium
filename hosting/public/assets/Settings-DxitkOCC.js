import{c as f,r as p,p as j,n as N,s as w,j as e,v,T as y,E as k}from"./index-DDpqp4bW.js";import{u as C,C as A}from"./useCredits-D8ZQWGQz.js";import{R as h}from"./refresh-cw-CfKmt_VM.js";import{S as b}from"./sparkles-DcKD5v5m.js";const z=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],S=f("shield",z);const E=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],R=f("zap",E);function T(s){const[t,i]=p.useState(null);return p.useEffect(()=>{async function n(){try{const a=j(N,"tenants",s),l=await w(a);l.exists()&&i(l.data())}catch(a){console.error("Erro ao carregar tenant:",a)}}n()},[s]),t}const x=({title:s,children:t,footer:i,className:n="",contentClassName:a="",titleClassName:l="",footerClassName:o="",ariaLabel:d})=>{const c=p.useId(),r=(...m)=>m.filter(Boolean).join(" ");return e.jsxs("section",{role:"region","aria-label":!s&&d?String(d):void 0,"aria-labelledby":s?c:void 0,className:r("rounded-2xl p-5 border shadow-sm glass shadow-3d","bg-white/80 backdrop-blur-xl border-slate-200/70","dark:bg-[rgba(14,18,28,0.65)] dark:border-white/10",n),children:[s&&e.jsx("div",{id:c,className:r("mb-2 text-sm uppercase tracking-wide","text-slate-500 dark:text-slate-300",l),children:s}),e.jsx("div",{className:r("mb-2 text-2xl font-semibold text-slate-900 dark:text-slate-100",a),children:t}),i&&e.jsx("div",{className:r("text-xs text-slate-500 dark:text-slate-400",o),children:i})]})};function u(s){return new Intl.NumberFormat("pt-BR").format(s)}function g(s){if(!s)return"N/A";const t=new Date(s);return Number.isNaN(t.getTime())?"N/A":t.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}const B=()=>{const{credits:s,isLoading:t,refetch:i}=C(),{tenantId:n}=v(),a=T(n),l=s?.monthlyQuota||0,o=s?.available||0;s?.used;const d=l>0?Math.min(100,Math.max(0,o/l*100)):0,c=(s?.planNormalized||a?.plan||"Starter").toUpperCase(),r=g(s?.renewsAt),m=s?.periodSource==="stripe"?"Ciclo de Faturamento":"Ciclo de 30 dias";return e.jsxs("div",{className:"min-h-screen bg-slate-50/50",children:[e.jsx(y,{}),e.jsxs("main",{className:"p-6 md:ml-64 pt-24 max-w-5xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Preferências da Conta"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Gerencie seu plano, faturamento e créditos de IA do Momentum."})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(x,{className:"md:col-span-2 overflow-hidden border-none shadow-xl shadow-blue-500/5 bg-gradient-to-br from-white to-slate-50",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-blue-50 text-blue-600",children:e.jsx(S,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Seu Plano Atual"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl font-bold text-slate-900",children:c}),e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 text-[10px] font-bold uppercase",children:"Ativo"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-2",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-white border border-slate-100 shadow-sm space-y-1",children:[e.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:"Próxima renovação"}),e.jsx("p",{className:"font-semibold text-slate-700",children:r})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white border border-slate-100 shadow-sm space-y-1",children:[e.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:"Método de faturamento"}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[e.jsx(A,{size:14,className:"text-slate-400"}),e.jsx("p",{className:"font-semibold text-sm italic",children:"Cartão final **** 4242"})]})]})]}),e.jsxs("div",{className:"pt-4 flex flex-wrap gap-3",children:[e.jsxs("button",{className:"px-5 py-2.5 rounded-xl bg-slate-900 text-white text-sm font-bold hover:bg-slate-800 transition-all shadow-md active:scale-95 flex items-center gap-2",children:["Alterar Plano",e.jsx(h,{size:16})]}),e.jsxs("button",{className:"px-5 py-2.5 rounded-xl bg-white border border-slate-200 text-slate-600 text-sm font-bold hover:bg-slate-50 transition-all flex items-center gap-2",children:["Gerenciar Faturamento",e.jsx(k,{size:16})]})]})]})}),e.jsxs(x,{className:"p-6 border-slate-200/60 bg-white",children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-4 tracking-tight",children:"Dados da Organização"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-widest text-[9px]",children:"Nome do Tenant"}),e.jsx("p",{className:"text-slate-700 font-bold text-sm",children:a?.name||"Minha Empresa"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-widest text-[9px]",children:"Workspace ID"}),e.jsx("code",{className:"text-[11px] bg-slate-100 px-1.5 py-0.5 rounded text-slate-500 font-mono block truncate",children:n||"---"})]}),e.jsx("div",{className:"pt-4 border-t border-slate-100",children:e.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700 font-bold uppercase tracking-wider",children:"Editar Perfil Empresa"})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(b,{size:20,className:"text-blue-500 fill-blue-500/20"}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Créditos de IA & Automação"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(x,{className:"lg:col-span-2 p-6 flex flex-col md:flex-row gap-8 bg-white border-slate-200/60 transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-sm text-slate-500 font-bold tracking-tight",children:"Uso no Período Atual"}),e.jsxs("p",{className:"text-[11px] text-slate-400 italic",children:["Baseado no ",m]})]}),e.jsx("button",{onClick:()=>i(),className:"p-2 rounded-lg hover:bg-slate-50 text-slate-400 hover:text-blue-600 transition-colors",title:"Recarregar",children:e.jsx(h,{size:16,className:t?"animate-spin":""})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("span",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:[u(o),e.jsx("span",{className:"text-lg font-normal text-slate-400 ml-1",children:"restantes"})]}),e.jsxs("span",{className:"text-xs font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded-md",children:["Cota: ",u(l)]})]}),e.jsx("div",{className:"h-4 w-full bg-slate-100 rounded-full overflow-hidden p-1 border border-slate-100 shadow-inner",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out shadow-sm ${d>40?"bg-gradient-to-r from-blue-500 to-indigo-600":d>15?"bg-amber-500":"bg-red-500"}`,style:{width:`${d}%`}})}),e.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase text-slate-400 tracking-widest pt-1 px-1",children:[e.jsxs("span",{children:["Início: ",g(s?.lastResetAt)]}),e.jsxs("span",{children:["Renova em: ",r]})]})]})]}),e.jsxs("div",{className:"w-full md:w-56 p-5 rounded-2xl bg-blue-50/50 border border-blue-100 flex flex-col justify-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-700 font-bold text-sm",children:[e.jsx(R,{size:16,className:"fill-blue-700 underline underline-offset-2"}),e.jsx("span",{children:"Dica Momentum"})]}),e.jsx("p",{className:"text-[11px] text-blue-800 leading-relaxed font-medium",children:"Relatórios avançados consomem 20 créditos. O Health Score diário utiliza apenas 5."}),e.jsx("button",{className:"text-[11px] font-bold text-blue-700 mt-2 hover:bg-white/50 px-2 py-1 rounded transition-colors w-fit border border-blue-200",children:"VER TABELA DE CUSTOS"})]})]}),e.jsxs(x,{className:"bg-gradient-to-br from-indigo-600 via-indigo-700 to-violet-800 border-none p-6 text-white shadow-xl shadow-indigo-500/20 flex flex-col justify-between",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center backdrop-blur-md",children:e.jsx(b,{size:20,className:"fill-white/20"})}),e.jsx("h3",{className:"font-bold text-xl leading-tight tracking-tight",children:"Precisa de mais Inteligência?"}),e.jsx("p",{className:"text-indigo-100 text-[13px] leading-relaxed",children:"Adicione pacotes extras de 1.000 créditos ou migre para o Plano Business e ganhe quota ilimitada."})]}),e.jsx("button",{className:"mt-6 w-full py-3 rounded-xl bg-white text-indigo-700 font-bold hover:bg-slate-50 transition-all shadow-lg active:scale-95 text-sm uppercase tracking-wider",children:"Ver Opções de Upgrade"})]})]})]})]})]})};export{B as default};
